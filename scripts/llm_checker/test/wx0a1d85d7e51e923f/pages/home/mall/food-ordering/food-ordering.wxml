<import src="/pages/template/toast/toast.wxml"></import>
<import src="/pages/template/footer/footer.wxml"></import>
<import src="/pages/template/shop-item/shop-item.wxml"></import>
<template is="toast" data="{{..._toast_}}"></template>
<view>
  <view class="bg-white radius padding-tb" wx:if="{{pageData}}">
    <view class="grid col-4">
      <view
        bindtap="homeMenuClick"
        class="padding-sm text-center {{menuSelectIndex==index?'shadow text-black':''}}"
        data-index="{{index}}"
        data-item="{{item}}"
        wx:for="{{pageData.foodMenu}}"
      >
        <view>
          <image
            mode="scaleToFill"
            src="{{item.img_url}}"
            style="width: 80rpx; height: 80rpx"
          ></image>
        </view>
        <view
          class="text-sm text-center text-cut {{isUy?'rtl':''}} uy-tom"
          style="width: 170rpx"
        >
          {{isUy?item.uy_name:item.ch_name}}
        </view>
      </view>
    </view>
  </view>
  <view>
    <view class="bg-white padding-bottom-sm" wx:if="{{pageData}}">
      <view class="cu-bar">
        <view class="action">
          <text class="icon-titles text-pink"></text>
          <text class="text-black uy-tom">{{Str.nearbyShops[lanIndex]}}</text>
        </view>
      </view>
      <view wx:if="{{pageData}}">
        <view class="flex">
          <view class="flex-sub" wx:for="{{Str.shopsSortType}}">
            <view
              bindtap="sortClick"
              class="bg-{{shopsSortIndex==index?'pink':'gray'}} text-center radius padding-tb-xs  margin-left-{{index==0?'sm':'xs'}} margin-right-{{index==Str.shopsSortType.length-1?'sm':'xs'}}"
              data-index="{{index}}"
            >
              {{isUy?item.uy_name:item.ch_name}}</view
            >
          </view>
        </view>
      </view>
    </view>
  </view>
  <view class="margin-top-sm">
    <view
      class="margin-lr-xs padding-bottom-xs radius"
      style="border-radius: 20rpx"
      wx:if="{{pageData}}"
      wx:for="{{shopsData}}"
      wx:key="index"
    >
      <template
        is="_shopListItem"
        data="{{isUy:isUy,Str:Str,lanIndex:lanIndex,item:item,ossImage:ossImage,navUrl:'/pages/home/mall/mall-home',showPercent:pageData.setting.show_percent}}"
      ></template>
    </view>
  </view>
</view>
<loading hidden="{{!isLoading}}">{{Str.loadingTxt[lanIndex]}}</loading>
