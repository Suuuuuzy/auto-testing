[D 2023-12-21 16:17:21,859 minium loader#135 load_from_module] Loading module: test2.first_test
[D 2023-12-21 16:17:21,863 minium loader#139 load_from_module] put module[test2.first_test] into queue
[I 2023-12-21 16:17:21,880 minium loader#298 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test2', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-1', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221161721'}

[D 2023-12-21 16:17:22,853 minium minitest#278 _miniClassSetUp] =====================
[D 2023-12-21 16:17:22,853 minium minitest#279 _miniClassSetUp] Testing class：FirstTest
[D 2023-12-21 16:17:22,853 minium minitest#280 _miniClassSetUp] =====================
[I 2023-12-21 16:17:22,856 minium minitest#173 init_miniprogram] start init miniprogram
[I 2023-12-21 16:17:22,869 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2023-12-21 16:17:22,897 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2023-12-21 16:17:22,905 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2023-12-21 16:17:22,909 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\Users\zhiha\WeChatProjects\miniprogram-1" --auto-port 9420
[I 2023-12-21 16:17:30,882 minium minium_object#101 _do_shell] err:
- initialize

× IDE may already started at port 56185, trying to connect

√ IDE server started successfully, listening on http://127.0.0.1:54713
- preparing
- Fetching AppID (wx02da6f6037f28c99) permissions
√ Using AppID: wx02da6f6037f28c99
√ auto

[I 2023-12-21 16:17:30,886 minium minium_object#102 _do_shell] out:

[I 2023-12-21 16:17:40,891 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2023-12-21 16:17:41,201 minium.Conn5504 connection#342 _connect] connect to WebChatTools successfully
[D 2023-12-21 16:17:41,204 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"5a58507d-ad4b-43f1-b08b-252eb0aeb0e7","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:17:41,244 minium.Conn5504 connection#653 __on_message] RECV < {"id":"5a58507d-ad4b-43f1-b08b-252eb0aeb0e7","result":{"version":"1.06.2308310","SDKVersion":"2.32.3"}}
[D 2023-12-21 16:17:41,247 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"c1319a67-efb9-4f25-acd4-33ed0fc84c55","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:17:50,917 minium.Conn5504 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2023-12-21 16:17:50,938 minium.Conn5504 connection#651 __on_message] RECV < {"id":"c1319a67-efb9-4f25-acd4-33ed0fc84c55","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":37,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[D 2023-12-21 16:17:50,946 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2023-12-21 16:17:50,958 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"f097c76d-7410-495f-a3d2-3faee860afd4","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2023-12-21 16:17:50,975 minium.Conn5504 connection#653 __on_message] RECV < {"id":"f097c76d-7410-495f-a3d2-3faee860afd4","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2023-12-21 16:17:50,980 minium.Conn5504 connection#283 remove] remove key which is not in observers
[D 2023-12-21 16:17:50,983 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"1c073a2f-819c-4459-9905-77448bfa9ec9","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2023-12-21 16:17:50,992 minium.Conn5504 connection#653 __on_message] RECV < {"id":"1c073a2f-819c-4459-9905-77448bfa9ec9","result":{}}
[D 2023-12-21 16:17:50,994 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"30f58caf-326b-48c5-8622-cb67a3d9f320","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2023-12-21 16:17:51,007 minium.Conn5504 connection#653 __on_message] RECV < {"id":"30f58caf-326b-48c5-8622-cb67a3d9f320","result":{}}
[D 2023-12-21 16:17:51,009 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2023-12-21 16:17:51,009 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"3821a25c-ced5-40f0-9de9-c504b76a76ed","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2023-12-21 16:17:51,025 minium.Conn5504 connection#653 __on_message] RECV < {"id":"3821a25c-ced5-40f0-9de9-c504b76a76ed","result":{}}
[D 2023-12-21 16:17:51,029 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2023-12-21 16:17:51,031 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"9875312b-c5e0-42a8-9b8e-1a4f9a422c25","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2023-12-21 16:17:51,044 minium.Conn5504 connection#653 __on_message] RECV < {"id":"9875312b-c5e0-42a8-9b8e-1a4f9a422c25","result":{}}
[D 2023-12-21 16:17:51,050 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2023-12-21 16:17:51,054 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"a23fce18-4711-4001-a22f-72493229c26a","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2023-12-21 16:17:51,062 minium.Conn5504 connection#653 __on_message] RECV < {"id":"a23fce18-4711-4001-a22f-72493229c26a","result":{"result":true}}
[D 2023-12-21 16:17:51,070 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"6b408f48-9c9c-406c-8195-d49f2c378a34","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2023-12-21 16:17:51,078 minium.Conn5504 connection#653 __on_message] RECV < {"id":"6b408f48-9c9c-406c-8195-d49f2c378a34","result":{"result":{"pages":["pages/display/display","pages/index/index","pages/logs/logs","pages/text/text","pages/icons/icons","pages/form/form"],"tabBar":[{"pagePath":"pages/index/index.html","text":"Index"},{"pagePath":"pages/text/text.html","text":"Text"},{"pagePath":"pages/display/display.html","text":"Display"},{"pagePath":"pages/icons/icons.html","text":"Icons"},{"pagePath":"pages/form/form.html","text":"Form"}]}}}
[D 2023-12-21 16:17:51,082 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"a622fe74-e0de-4de9-8431-3e2e123df31a","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2023-12-21 16:17:51,095 minium.Conn5504 connection#653 __on_message] RECV < {"id":"a622fe74-e0de-4de9-8431-3e2e123df31a","result":{"result":{"miniProgram":{"appId":"wx02da6f6037f28c99","envVersion":"develop","version":""}}}}
[D 2023-12-21 16:17:51,097 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"4039dc01-a4dd-428c-b9d3-8c7ab5494623","method":"App.addBinding","params":{"name":"showModal_before_1703193471097"}}
[D 2023-12-21 16:17:51,102 minium.Conn5504 connection#653 __on_message] RECV < {"id":"4039dc01-a4dd-428c-b9d3-8c7ab5494623","result":{}}
[D 2023-12-21 16:17:51,106 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"2336570a-2ce0-4cd0-9c60-178a3e40d87c","method":"App.addBinding","params":{"name":"showModal_callback_1703193471097"}}
[D 2023-12-21 16:17:51,113 minium.Conn5504 connection#653 __on_message] RECV < {"id":"2336570a-2ce0-4cd0-9c60-178a3e40d87c","result":{}}
[D 2023-12-21 16:17:51,115 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:17:51,120 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"9c2a17bd-12aa-4000-84bb-6c708e6af608","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1703193471097,after:undefined,callback:showModal_callback_1703193471097},!0):global.__minium__.delCall(_,l)}","args":["showModal",1703193471097,true]}}
[D 2023-12-21 16:17:51,127 minium.Conn5504 connection#653 __on_message] RECV < {"id":"9c2a17bd-12aa-4000-84bb-6c708e6af608","result":{}}
[D 2023-12-21 16:17:51,135 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"16a12c65-94df-443f-a40e-5ad01de118ac","method":"App.addBinding","params":{"name":"showToast_before_1703193471133"}}
[D 2023-12-21 16:17:51,140 minium.Conn5504 connection#653 __on_message] RECV < {"id":"16a12c65-94df-443f-a40e-5ad01de118ac","result":{}}
[D 2023-12-21 16:17:51,140 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"3ec1841e-f119-42af-9fb6-26b44d07d786","method":"App.addBinding","params":{"name":"showToast_callback_1703193471133"}}
[D 2023-12-21 16:17:51,149 minium.Conn5504 connection#653 __on_message] RECV < {"id":"3ec1841e-f119-42af-9fb6-26b44d07d786","result":{}}
[D 2023-12-21 16:17:51,153 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:17:51,155 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"3f7d5818-aa7f-4fec-b90c-211b7684c1d9","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1703193471133,after:undefined,callback:showToast_callback_1703193471133},!0):global.__minium__.delCall(_,l)}","args":["showToast",1703193471133,true]}}
[D 2023-12-21 16:17:51,160 minium.Conn5504 connection#653 __on_message] RECV < {"id":"3f7d5818-aa7f-4fec-b90c-211b7684c1d9","result":{}}
[D 2023-12-21 16:17:51,166 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"b12d8b7d-525e-4683-95ac-b01c7663f783","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2023-12-21 16:17:51,175 minium.Conn5504 connection#653 __on_message] RECV < {"id":"b12d8b7d-525e-4683-95ac-b01c7663f783","result":{"result":{"path":"pages/display/display","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2023-12-21 16:17:51,177 minium app#731 relaunch] ReLaunch: /pages/display/display
[D 2023-12-21 16:17:51,180 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"fb03d9d7-c028-41a1-8f5b-571e7d3d81e3","method":"App.getCurrentPage","params":{}}
[D 2023-12-21 16:17:51,200 minium.Conn5504 connection#653 __on_message] RECV < {"id":"fb03d9d7-c028-41a1-8f5b-571e7d3d81e3","result":{"pageId":2,"path":"pages/display/display","query":{}}}
[D 2023-12-21 16:17:51,206 minium.Conn5504 connection#417 _safely_send] ASYNC_SEND > {"id":"9e9f9332-4e16-4551-bf88-b40f4c429be9","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/display/display"}]}}
[D 2023-12-21 16:17:51,695 minium.Conn5504 connection#653 __on_message] RECV < {"id":"9e9f9332-4e16-4551-bf88-b40f4c429be9","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2023-12-21 16:17:51,695 minium.Conn5504 connection#697 _handle_async_msg] received async msg: 9e9f9332-4e16-4551-bf88-b40f4c429be9
[D 2023-12-21 16:17:52,050 minium.Conn5504 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":3,"path":"pages/display/display","query":{},"openType":"reLaunch","__ts__":1703193471966},1703193471970]}}
[I 2023-12-21 16:17:52,054 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 3, 'path': 'pages/display/display', 'query': {}, 'openType': 'reLaunch', '__ts__': 1703193471966}, 1703193471970]}
[D 2023-12-21 16:17:52,054 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"2f2adf34-e528-4895-bb10-061710134c3f","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:17:52,060 minium.Conn5504 connection#653 __on_message] RECV < {"id":"2f2adf34-e528-4895-bb10-061710134c3f","result":{"version":"1.06.2308310","SDKVersion":"2.32.3"}}
[D 2023-12-21 16:17:52,068 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"d376ec6d-ace1-45ca-a253-15cf262e5ce8","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2023-12-21 16:17:52,095 minium.Conn5504 connection#653 __on_message] RECV < {"id":"d376ec6d-ace1-45ca-a253-15cf262e5ce8","result":{"result":false}}
[D 2023-12-21 16:17:52,098 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2023-12-21 16:17:52,099 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"33a0ff12-70b6-4609-936d-c58254677e39","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2023-12-21 16:17:52,111 minium.Conn5504 connection#653 __on_message] RECV < {"id":"33a0ff12-70b6-4609-936d-c58254677e39","result":{}}
[D 2023-12-21 16:17:52,115 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"834710e8-da8b-4e7a-b9c3-83abed989a5c","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2023-12-21 16:17:52,772 minium.Conn5504 connection#653 __on_message] RECV < {"id":"834710e8-da8b-4e7a-b9c3-83abed989a5c","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2023-12-21 16:17:52,776 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"b0ae7bd2-5680-404c-823d-0041a83897fb","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2023-12-21 16:17:52,785 minium.Conn5504 connection#653 __on_message] RECV < {"id":"b0ae7bd2-5680-404c-823d-0041a83897fb","result":{}}
[D 2023-12-21 16:17:52,787 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"7d6c0659-085c-48e5-b363-97991f429c39","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2023-12-21 16:17:52,793 minium.Conn5504 connection#653 __on_message] RECV < {"id":"7d6c0659-085c-48e5-b363-97991f429c39","result":{"result":{"accountInfo":{"appId":"wx02da6f6037f28c99","nickname":"sandbox account of wxid_yalgzp87d9zt12","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2023-12-21 16:17:52,802 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"d01ac5e9-21ea-41d0-b3d3-44f77a91c2ab","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:17:52,813 minium.Conn5504 connection#651 __on_message] RECV < {"id":"d01ac5e9-21ea-41d0-b3d3-44f77a91c2ab","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":37,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[I 2023-12-21 16:17:52,817 minium minitest#189 init_miniprogram] end init miniprogram
[I 2023-12-21 16:17:52,822 minium minitest#370 _miniSetUp] =========Current case: test_get_sysyem_info=========
[I 2023-12-21 16:17:52,826 minium minitest#373 _miniSetUp] package info: C:.Users.zhiha.OneDrive.Desktop.auto_minium.test2.first_test, case info: FirstTest.test_get_sysyem_info
[I 2023-12-21 16:17:52,830 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2023-12-21 16:17:52,836 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2023-12-21 16:17:52,838 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2023-12-21 16:17:52,840 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2023-12-21 16:17:52,840 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2023-12-21 16:17:52,854 minium.Conn5504 connection#417 _safely_send] ASYNC_SEND > {"id":"d4461e0b-47da-49b6-9144-cc2900a3442b","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/display/display"}]}}
[D 2023-12-21 16:17:52,950 minium.Conn5504 connection#653 __on_message] RECV < {"id":"d4461e0b-47da-49b6-9144-cc2900a3442b","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2023-12-21 16:17:52,954 minium.Conn5504 connection#697 _handle_async_msg] received async msg: d4461e0b-47da-49b6-9144-cc2900a3442b
[I 2023-12-21 16:17:52,958 minium minitest#717 capture] capture setup.png
[I 2023-12-21 16:17:52,962 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:17:52,963 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"647ca5cc-a7a6-4eea-af0f-e24076f2b955","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:17:53,160 minium.Conn5504 connection#651 __on_message] RECV < {"id":"647ca5cc-a7a6-4eea-af0f-e24076f2b955","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAQQCAIAAAD9GX0NAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:17:53,164 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:17:53,164 minium minitest#424 _miniSetUp] =========case: test_get_sysyem_info start=========
[D 2023-12-21 16:17:53,164 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"312a2068-7226-49f3-9d9c-4668e7423dc1","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:17:53,172 minium.Conn5504 connection#651 __on_message] RECV < {"id":"312a2068-7226-49f3-9d9c-4668e7423dc1","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":37,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[I 2023-12-21 16:17:53,274 minium minitest#717 capture] capture assertIn-success.png
[I 2023-12-21 16:17:53,281 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:17:53,283 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"57e9c9c8-8c3b-4694-8985-85608f599641","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:17:53,466 minium.Conn5504 connection#651 __on_message] RECV < {"id":"57e9c9c8-8c3b-4694-8985-85608f599641","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAQQCAIAAAD9GX0NAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:17:53,470 minium basenative#29 wrapper] call IdeNative.screen_shot end
[D 2023-12-21 16:17:53,470 minium minitest#620 _miniTearDown] =========Current case Down: test_get_sysyem_info=========
[I 2023-12-21 16:17:53,473 minium minitest#717 capture] capture teardown.png
[I 2023-12-21 16:17:53,473 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:17:53,473 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"2f5885bd-42b6-4211-9986-43d9d1d696e6","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:17:53,638 minium.Conn5504 connection#651 __on_message] RECV < {"id":"2f5885bd-42b6-4211-9986-43d9d1d696e6","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAQQCAIAAAD9GX0NAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:17:53,642 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:17:53,642 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2023-12-21 16:17:53,642 minium basenative#29 wrapper] call BaseNative.get_start_up end
[I 2023-12-21 16:18:03,668 minium.SESSION session#67 run] case queue is empty, test complete, release None
[D 2023-12-21 16:18:03,670 minium.Conn5504 connection#417 _safely_send] ASYNC_SEND > {"id":"05087fa2-4d93-4812-af47-f1da7aa6891d","method":"Tool.close","params":{}}
[D 2023-12-21 16:18:03,672 minium.Conn5504 connection#653 __on_message] RECV < {"id":"05087fa2-4d93-4812-af47-f1da7aa6891d","result":{}}
[I 2023-12-21 16:18:03,672 minium.Conn5504 connection#697 _handle_async_msg] received async msg: 05087fa2-4d93-4812-af47-f1da7aa6891d, maybe command ignore response
[E 2023-12-21 16:18:03,701 minium.Conn5504 connection#632 _on_error] Connection to remote host was lost.
[I 2023-12-21 16:18:03,705 minium.Conn5504 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2023-12-21 16:18:04,684 minium basenative#25 wrapper] call IdeNative.stop_wechat
[I 2023-12-21 16:18:04,685 minium basenative#29 wrapper] call IdeNative.stop_wechat end
[I 2023-12-21 16:18:04,686 minium basenative#25 wrapper] call IdeNative.release
[I 2023-12-21 16:18:04,687 minium basenative#25 wrapper] call BaseNative.release
[I 2023-12-21 16:18:04,702 minium basenative#101 release] Native release
[I 2023-12-21 16:18:04,704 minium basenative#25 wrapper] call BaseNative.release_auto_authorize
[I 2023-12-21 16:18:04,706 minium basenative#29 wrapper] call BaseNative.release_auto_authorize end
[I 2023-12-21 16:18:04,706 minium basenative#29 wrapper] call BaseNative.release end
[I 2023-12-21 16:18:04,706 minium basenative#29 wrapper] call IdeNative.release end
[D 2023-12-21 16:18:17,736 minium loader#135 load_from_module] Loading module: test2.first_test
[D 2023-12-21 16:18:17,736 minium loader#139 load_from_module] put module[test2.first_test] into queue
[I 2023-12-21 16:18:17,794 minium loader#298 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test2', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-3', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221161817'}

[D 2023-12-21 16:18:18,710 minium minitest#278 _miniClassSetUp] =====================
[D 2023-12-21 16:18:18,710 minium minitest#279 _miniClassSetUp] Testing class：FirstTest
[D 2023-12-21 16:18:18,710 minium minitest#280 _miniClassSetUp] =====================
[I 2023-12-21 16:18:18,713 minium minitest#173 init_miniprogram] start init miniprogram
[I 2023-12-21 16:18:18,718 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2023-12-21 16:18:18,722 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2023-12-21 16:18:18,730 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2023-12-21 16:18:18,750 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\Users\zhiha\WeChatProjects\miniprogram-3" --auto-port 9420
[I 2023-12-21 16:18:26,017 minium minium_object#101 _do_shell] err:
- initialize

× IDE may already started at port 54713, trying to connect

√ IDE server started successfully, listening on http://127.0.0.1:61151
- preparing
- Fetching AppID (wx02da6f6037f28c99) permissions
√ Using AppID: wx02da6f6037f28c99
√ auto

[I 2023-12-21 16:18:26,020 minium minium_object#102 _do_shell] out:

[I 2023-12-21 16:18:36,023 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2023-12-21 16:18:36,159 minium.Conn2096 connection#342 _connect] connect to WebChatTools successfully
[D 2023-12-21 16:18:36,159 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"377d61cc-0114-4425-b18b-3ba62482a1c9","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:18:36,167 minium.Conn2096 connection#653 __on_message] RECV < {"id":"377d61cc-0114-4425-b18b-3ba62482a1c9","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:18:36,167 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"fef04636-d07b-4dec-b3df-08eba677cc54","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:18:51,022 minium.Conn2096 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2023-12-21 16:18:51,054 minium.Conn2096 connection#651 __on_message] RECV < {"id":"fef04636-d07b-4dec-b3df-08eba677cc54","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":37,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[D 2023-12-21 16:18:51,059 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2023-12-21 16:18:51,063 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"9bdb8145-8231-4a95-ab16-b5b2eb37f974","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2023-12-21 16:18:51,083 minium.Conn2096 connection#653 __on_message] RECV < {"id":"9bdb8145-8231-4a95-ab16-b5b2eb37f974","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2023-12-21 16:18:51,088 minium.Conn2096 connection#283 remove] remove key which is not in observers
[D 2023-12-21 16:18:51,090 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"0facc4c2-1840-4c9c-8f31-b0cf5d8cb69f","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2023-12-21 16:18:51,096 minium.Conn2096 connection#653 __on_message] RECV < {"id":"0facc4c2-1840-4c9c-8f31-b0cf5d8cb69f","result":{}}
[D 2023-12-21 16:18:51,096 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"70058b49-87e1-478b-819f-cd94ec63ce1c","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2023-12-21 16:18:51,107 minium.Conn2096 connection#653 __on_message] RECV < {"id":"70058b49-87e1-478b-819f-cd94ec63ce1c","result":{}}
[D 2023-12-21 16:18:51,111 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2023-12-21 16:18:51,113 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"b2961ccb-44f7-42d8-aef8-fbdc15ecd146","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2023-12-21 16:18:51,121 minium.Conn2096 connection#653 __on_message] RECV < {"id":"b2961ccb-44f7-42d8-aef8-fbdc15ecd146","result":{}}
[D 2023-12-21 16:18:51,127 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2023-12-21 16:18:51,130 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"d6f11927-1d4a-45ba-a255-0accd70c946e","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2023-12-21 16:18:51,143 minium.Conn2096 connection#653 __on_message] RECV < {"id":"d6f11927-1d4a-45ba-a255-0accd70c946e","result":{}}
[D 2023-12-21 16:18:51,145 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2023-12-21 16:18:51,148 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"e1c6f27c-dc15-4d6e-a92f-0d10c0aef8b9","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2023-12-21 16:18:51,161 minium.Conn2096 connection#653 __on_message] RECV < {"id":"e1c6f27c-dc15-4d6e-a92f-0d10c0aef8b9","result":{"result":true}}
[D 2023-12-21 16:18:51,162 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"bafcb4c6-538d-4e77-8223-f92a9f7fd56e","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2023-12-21 16:18:51,173 minium.Conn2096 connection#651 __on_message] RECV < {"id":"bafcb4c6-538d-4e77-8223-f92a9f7fd56e","result":{"result":{"pages":["pages/home/home","pages/usercenter/index","pages/usercenter/person-info/index","pages/usercenter/address/list/index","pages/usercenter/address/edit/index","pages/goods/list/index","pages/goods/details/index","pages/goods/category/index","pages/goods/search/index","pages/goods/result/index","pages/cart/index","pages/order/order-confirm/index","pages/order/receipt/index","pages/order/pay-result/index","pages/order/order-list/index",...
[D 2023-12-21 16:18:51,173 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"32ac161c-8905-4c2b-a99f-6903366de922","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2023-12-21 16:18:51,181 minium.Conn2096 connection#653 __on_message] RECV < {"id":"32ac161c-8905-4c2b-a99f-6903366de922","result":{"result":{"miniProgram":{"appId":"wx02da6f6037f28c99","envVersion":"develop","version":""}}}}
[D 2023-12-21 16:18:51,185 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"f1841464-2ff5-4379-a476-7f4fad56229a","method":"App.addBinding","params":{"name":"showModal_before_1703193531185"}}
[D 2023-12-21 16:18:51,193 minium.Conn2096 connection#653 __on_message] RECV < {"id":"f1841464-2ff5-4379-a476-7f4fad56229a","result":{}}
[D 2023-12-21 16:18:51,193 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"d3020e63-32c7-4a67-b86d-647451513bc5","method":"App.addBinding","params":{"name":"showModal_callback_1703193531185"}}
[D 2023-12-21 16:18:51,202 minium.Conn2096 connection#653 __on_message] RECV < {"id":"d3020e63-32c7-4a67-b86d-647451513bc5","result":{}}
[D 2023-12-21 16:18:51,202 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:18:51,206 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"78668276-5d32-47b6-a3c2-661dfbeb42c1","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1703193531185,after:undefined,callback:showModal_callback_1703193531185},!0):global.__minium__.delCall(_,l)}","args":["showModal",1703193531185,true]}}
[D 2023-12-21 16:18:51,214 minium.Conn2096 connection#653 __on_message] RECV < {"id":"78668276-5d32-47b6-a3c2-661dfbeb42c1","result":{}}
[D 2023-12-21 16:18:51,218 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"f7be4a2e-6d09-490e-a4b0-513061821cf6","method":"App.addBinding","params":{"name":"showToast_before_1703193531218"}}
[D 2023-12-21 16:18:51,224 minium.Conn2096 connection#653 __on_message] RECV < {"id":"f7be4a2e-6d09-490e-a4b0-513061821cf6","result":{}}
[D 2023-12-21 16:18:51,227 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"7a007c1a-0f2b-4574-9ecf-d34a828a6bf6","method":"App.addBinding","params":{"name":"showToast_callback_1703193531218"}}
[D 2023-12-21 16:18:51,235 minium.Conn2096 connection#653 __on_message] RECV < {"id":"7a007c1a-0f2b-4574-9ecf-d34a828a6bf6","result":{}}
[D 2023-12-21 16:18:51,235 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:18:51,239 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"684527de-48c7-48fa-9120-7c8641e44ef9","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1703193531218,after:undefined,callback:showToast_callback_1703193531218},!0):global.__minium__.delCall(_,l)}","args":["showToast",1703193531218,true]}}
[D 2023-12-21 16:18:51,243 minium.Conn2096 connection#653 __on_message] RECV < {"id":"684527de-48c7-48fa-9120-7c8641e44ef9","result":{}}
[D 2023-12-21 16:18:51,247 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"275855fa-7cab-41c9-ac88-e0b9e93a862f","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2023-12-21 16:18:51,258 minium.Conn2096 connection#653 __on_message] RECV < {"id":"275855fa-7cab-41c9-ac88-e0b9e93a862f","result":{"result":{"path":"pages/home/home","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2023-12-21 16:18:51,261 minium app#731 relaunch] ReLaunch: /pages/home/home
[D 2023-12-21 16:18:51,263 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"1fc1d078-5dd2-450a-8ce3-5f2a1e608f3a","method":"App.getCurrentPage","params":{}}
[D 2023-12-21 16:18:51,267 minium.Conn2096 connection#653 __on_message] RECV < {"id":"1fc1d078-5dd2-450a-8ce3-5f2a1e608f3a","result":{"pageId":2,"path":"pages/home/home","query":{}}}
[D 2023-12-21 16:18:51,271 minium.Conn2096 connection#417 _safely_send] ASYNC_SEND > {"id":"9a538e9e-1cca-4d1c-8497-60e33b9f3b76","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:18:51,452 minium.Conn2096 connection#653 __on_message] RECV < {"id":"9a538e9e-1cca-4d1c-8497-60e33b9f3b76","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2023-12-21 16:18:51,454 minium.Conn2096 connection#697 _handle_async_msg] received async msg: 9a538e9e-1cca-4d1c-8497-60e33b9f3b76
[D 2023-12-21 16:18:53,526 minium.Conn2096 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":3,"path":"pages/home/home","query":{},"openType":"reLaunch","__ts__":1703193533381},1703193533383]}}
[I 2023-12-21 16:18:53,529 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 3, 'path': 'pages/home/home', 'query': {}, 'openType': 'reLaunch', '__ts__': 1703193533381}, 1703193533383]}
[D 2023-12-21 16:18:53,531 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"e57593ae-f446-4ac5-b1cf-1613400484a1","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:18:53,545 minium.Conn2096 connection#653 __on_message] RECV < {"id":"e57593ae-f446-4ac5-b1cf-1613400484a1","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:18:53,552 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"d40c3f80-f8f9-4fac-aa84-9df83de00321","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2023-12-21 16:18:53,568 minium.Conn2096 connection#653 __on_message] RECV < {"id":"d40c3f80-f8f9-4fac-aa84-9df83de00321","result":{"result":false}}
[D 2023-12-21 16:18:53,575 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2023-12-21 16:18:53,577 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"122cf834-8449-42c1-985b-411cdc7dfed2","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2023-12-21 16:18:53,597 minium.Conn2096 connection#653 __on_message] RECV < {"id":"122cf834-8449-42c1-985b-411cdc7dfed2","result":{}}
[D 2023-12-21 16:18:53,600 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"cb28f42f-56a0-4279-b918-685ac966c2a9","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2023-12-21 16:18:54,227 minium.Conn2096 connection#653 __on_message] RECV < {"id":"cb28f42f-56a0-4279-b918-685ac966c2a9","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2023-12-21 16:18:54,233 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"42fcabb7-e3f9-4353-9860-21a03ec28e82","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2023-12-21 16:18:54,244 minium.Conn2096 connection#653 __on_message] RECV < {"id":"42fcabb7-e3f9-4353-9860-21a03ec28e82","result":{}}
[D 2023-12-21 16:18:54,248 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"516dfbbc-6dd2-4de7-84f2-f65e2a863054","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2023-12-21 16:18:54,260 minium.Conn2096 connection#653 __on_message] RECV < {"id":"516dfbbc-6dd2-4de7-84f2-f65e2a863054","result":{"result":{"accountInfo":{"appId":"wx02da6f6037f28c99","nickname":"sandbox account of wxid_yalgzp87d9zt12","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2023-12-21 16:18:54,261 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"42a9081f-9b9e-4411-8e7f-c3ae225f3d69","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:18:54,269 minium.Conn2096 connection#651 __on_message] RECV < {"id":"42a9081f-9b9e-4411-8e7f-c3ae225f3d69","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":37,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[I 2023-12-21 16:18:54,275 minium minitest#189 init_miniprogram] end init miniprogram
[I 2023-12-21 16:18:54,291 minium minitest#370 _miniSetUp] =========Current case: test_get_sysyem_info=========
[I 2023-12-21 16:18:54,293 minium minitest#373 _miniSetUp] package info: C:.Users.zhiha.OneDrive.Desktop.auto_minium.test2.first_test, case info: FirstTest.test_get_sysyem_info
[I 2023-12-21 16:18:54,293 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2023-12-21 16:18:54,297 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2023-12-21 16:18:54,298 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2023-12-21 16:18:54,298 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2023-12-21 16:18:54,301 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2023-12-21 16:18:54,307 minium.Conn2096 connection#417 _safely_send] ASYNC_SEND > {"id":"b6e0fdb4-fe3d-4c69-8247-e03dfca41352","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:18:54,391 minium.Conn2096 connection#653 __on_message] RECV < {"id":"b6e0fdb4-fe3d-4c69-8247-e03dfca41352","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2023-12-21 16:18:54,395 minium.Conn2096 connection#697 _handle_async_msg] received async msg: b6e0fdb4-fe3d-4c69-8247-e03dfca41352
[I 2023-12-21 16:18:54,397 minium minitest#717 capture] capture setup.png
[I 2023-12-21 16:18:54,399 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:18:54,403 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"d6e7412b-fcfc-451e-8369-0d95925839e6","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:18:54,614 minium.Conn2096 connection#651 __on_message] RECV < {"id":"d6e7412b-fcfc-451e-8369-0d95925839e6","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:18:54,618 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:18:54,618 minium minitest#424 _miniSetUp] =========case: test_get_sysyem_info start=========
[D 2023-12-21 16:18:54,624 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"aea46355-ef7e-4937-99c4-12be3ef837ca","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:18:54,634 minium.Conn2096 connection#651 __on_message] RECV < {"id":"aea46355-ef7e-4937-99c4-12be3ef837ca","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":37,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[I 2023-12-21 16:18:54,800 minium minitest#717 capture] capture assertIn-success.png
[I 2023-12-21 16:18:54,800 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:18:54,800 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"d00af8bc-c41f-49f9-8768-69af79256ab8","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:18:55,012 minium.Conn2096 connection#651 __on_message] RECV < {"id":"d00af8bc-c41f-49f9-8768-69af79256ab8","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:18:55,016 minium basenative#29 wrapper] call IdeNative.screen_shot end
[D 2023-12-21 16:18:55,020 minium minitest#620 _miniTearDown] =========Current case Down: test_get_sysyem_info=========
[I 2023-12-21 16:18:55,020 minium minitest#717 capture] capture teardown.png
[I 2023-12-21 16:18:55,024 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:18:55,024 minium.Conn2096 connection#417 _safely_send] SEND > {"id":"b1941481-9a0b-41cf-b216-1763150014d3","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:18:55,235 minium.Conn2096 connection#651 __on_message] RECV < {"id":"b1941481-9a0b-41cf-b216-1763150014d3","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:18:55,239 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:18:55,239 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2023-12-21 16:18:55,239 minium basenative#29 wrapper] call BaseNative.get_start_up end
[I 2023-12-21 16:19:05,292 minium.SESSION session#67 run] case queue is empty, test complete, release None
[D 2023-12-21 16:19:05,296 minium.Conn2096 connection#417 _safely_send] ASYNC_SEND > {"id":"fa3395f8-b204-4efc-a795-d7f43dae5d4b","method":"Tool.close","params":{}}
[D 2023-12-21 16:19:05,308 minium.Conn2096 connection#653 __on_message] RECV < {"id":"fa3395f8-b204-4efc-a795-d7f43dae5d4b","result":{}}
[I 2023-12-21 16:19:05,308 minium.Conn2096 connection#697 _handle_async_msg] received async msg: fa3395f8-b204-4efc-a795-d7f43dae5d4b, maybe command ignore response
[E 2023-12-21 16:19:05,338 minium.Conn2096 connection#632 _on_error] Connection to remote host was lost.
[I 2023-12-21 16:19:05,342 minium.Conn2096 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2023-12-21 16:19:06,335 minium basenative#25 wrapper] call IdeNative.stop_wechat
[I 2023-12-21 16:19:06,336 minium basenative#29 wrapper] call IdeNative.stop_wechat end
[I 2023-12-21 16:19:06,337 minium basenative#25 wrapper] call IdeNative.release
[I 2023-12-21 16:19:06,340 minium basenative#25 wrapper] call BaseNative.release
[I 2023-12-21 16:19:06,346 minium basenative#101 release] Native release
[I 2023-12-21 16:19:06,346 minium basenative#25 wrapper] call BaseNative.release_auto_authorize
[I 2023-12-21 16:19:06,347 minium basenative#29 wrapper] call BaseNative.release_auto_authorize end
[I 2023-12-21 16:19:06,348 minium basenative#29 wrapper] call BaseNative.release end
[I 2023-12-21 16:19:06,348 minium basenative#29 wrapper] call IdeNative.release end
[D 2023-12-21 16:28:27,597 minium loader#135 load_from_module] Loading module: .\test3\search_test
[D 2023-12-21 16:29:10,802 minium loader#135 load_from_module] Loading module: test3.search_test
[D 2023-12-21 16:29:10,823 minium loader#139 load_from_module] put module[test3.search_test] into queue
[I 2023-12-21 16:29:10,877 minium loader#298 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test3', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-3', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221162910'}

[D 2023-12-21 16:29:11,840 minium minitest#278 _miniClassSetUp] =====================
[D 2023-12-21 16:29:11,842 minium minitest#279 _miniClassSetUp] Testing class：FirstTest
[D 2023-12-21 16:29:11,842 minium minitest#280 _miniClassSetUp] =====================
[I 2023-12-21 16:29:11,842 minium minitest#173 init_miniprogram] start init miniprogram
[I 2023-12-21 16:29:11,846 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2023-12-21 16:29:11,846 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2023-12-21 16:29:11,850 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2023-12-21 16:29:11,850 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\Users\zhiha\WeChatProjects\miniprogram-3" --auto-port 9420
[I 2023-12-21 16:29:19,242 minium minium_object#101 _do_shell] err:
- initialize

× IDE may already started at port 61151, trying to connect

√ IDE server started successfully, listening on http://127.0.0.1:45028
- preparing
- Fetching AppID (wx02da6f6037f28c99) permissions
√ Using AppID: wx02da6f6037f28c99
√ auto

[I 2023-12-21 16:29:19,245 minium minium_object#102 _do_shell] out:

[I 2023-12-21 16:29:29,247 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2023-12-21 16:29:29,543 minium.Conn0272 connection#342 _connect] connect to WebChatTools successfully
[D 2023-12-21 16:29:29,543 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"37f4b6e3-8975-422e-aafa-cda9294a33bb","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:29:29,604 minium.Conn0272 connection#653 __on_message] RECV < {"id":"37f4b6e3-8975-422e-aafa-cda9294a33bb","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:29:29,604 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"699bc7da-9f58-4691-8433-7292f97d1af5","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:29:43,470 minium.Conn0272 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2023-12-21 16:29:43,486 minium.Conn0272 connection#651 __on_message] RECV < {"id":"699bc7da-9f58-4691-8433-7292f97d1af5","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":33,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[D 2023-12-21 16:29:43,494 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2023-12-21 16:29:43,497 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"0e2130fe-35e0-4d7c-8d19-6c214cb2f5e5","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2023-12-21 16:29:43,515 minium.Conn0272 connection#653 __on_message] RECV < {"id":"0e2130fe-35e0-4d7c-8d19-6c214cb2f5e5","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2023-12-21 16:29:43,519 minium.Conn0272 connection#283 remove] remove key which is not in observers
[D 2023-12-21 16:29:43,520 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"f0cb3a7a-9235-44c2-b038-a0b5795b1484","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2023-12-21 16:29:43,527 minium.Conn0272 connection#653 __on_message] RECV < {"id":"f0cb3a7a-9235-44c2-b038-a0b5795b1484","result":{}}
[D 2023-12-21 16:29:43,533 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"1f617850-708f-4076-8c91-b3d913b179e1","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2023-12-21 16:29:43,540 minium.Conn0272 connection#653 __on_message] RECV < {"id":"1f617850-708f-4076-8c91-b3d913b179e1","result":{}}
[D 2023-12-21 16:29:43,544 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2023-12-21 16:29:43,547 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"9bd321dd-dadf-43d4-ba1e-8cbd133720ab","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2023-12-21 16:29:43,646 minium.Conn0272 connection#653 __on_message] RECV < {"id":"9bd321dd-dadf-43d4-ba1e-8cbd133720ab","result":{}}
[D 2023-12-21 16:29:43,650 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2023-12-21 16:29:43,654 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"64bbe032-7050-42fa-93ec-a877ea5707e3","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2023-12-21 16:29:43,679 minium.Conn0272 connection#653 __on_message] RECV < {"id":"64bbe032-7050-42fa-93ec-a877ea5707e3","result":{}}
[D 2023-12-21 16:29:43,679 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2023-12-21 16:29:43,683 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"0a6233cc-ae66-471c-9d58-9ea252cf1b36","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2023-12-21 16:29:43,693 minium.Conn0272 connection#653 __on_message] RECV < {"id":"0a6233cc-ae66-471c-9d58-9ea252cf1b36","result":{"result":true}}
[D 2023-12-21 16:29:43,695 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"55581596-55ab-4156-87d7-03d756c1adef","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2023-12-21 16:29:43,705 minium.Conn0272 connection#651 __on_message] RECV < {"id":"55581596-55ab-4156-87d7-03d756c1adef","result":{"result":{"pages":["pages/home/home","pages/usercenter/index","pages/usercenter/person-info/index","pages/usercenter/address/list/index","pages/usercenter/address/edit/index","pages/goods/list/index","pages/goods/details/index","pages/goods/category/index","pages/goods/search/index","pages/goods/result/index","pages/cart/index","pages/order/order-confirm/index","pages/order/receipt/index","pages/order/pay-result/index","pages/order/order-list/index",...
[D 2023-12-21 16:29:43,707 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"48d73701-b202-48c1-b461-c13f2803d187","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2023-12-21 16:29:43,711 minium.Conn0272 connection#653 __on_message] RECV < {"id":"48d73701-b202-48c1-b461-c13f2803d187","result":{"result":{"miniProgram":{"appId":"wx02da6f6037f28c99","envVersion":"develop","version":""}}}}
[D 2023-12-21 16:29:43,715 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"24c87e20-8bc3-421f-8f5e-e8803d7e00d3","method":"App.addBinding","params":{"name":"showModal_before_1703194183715"}}
[D 2023-12-21 16:29:43,723 minium.Conn0272 connection#653 __on_message] RECV < {"id":"24c87e20-8bc3-421f-8f5e-e8803d7e00d3","result":{}}
[D 2023-12-21 16:29:43,724 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"7826a530-6e50-4120-8169-60e587c29eb6","method":"App.addBinding","params":{"name":"showModal_callback_1703194183715"}}
[D 2023-12-21 16:29:43,732 minium.Conn0272 connection#653 __on_message] RECV < {"id":"7826a530-6e50-4120-8169-60e587c29eb6","result":{}}
[D 2023-12-21 16:29:43,732 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:29:43,737 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"c5050651-923f-4210-9eb4-829e81555c7e","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1703194183715,after:undefined,callback:showModal_callback_1703194183715},!0):global.__minium__.delCall(_,l)}","args":["showModal",1703194183715,true]}}
[D 2023-12-21 16:29:43,748 minium.Conn0272 connection#653 __on_message] RECV < {"id":"c5050651-923f-4210-9eb4-829e81555c7e","result":{}}
[D 2023-12-21 16:29:43,748 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"7753d43c-c5bf-4388-a7b2-d1a362a24697","method":"App.addBinding","params":{"name":"showToast_before_1703194183748"}}
[D 2023-12-21 16:29:43,756 minium.Conn0272 connection#653 __on_message] RECV < {"id":"7753d43c-c5bf-4388-a7b2-d1a362a24697","result":{}}
[D 2023-12-21 16:29:43,757 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"0310efb2-dfad-4b9b-822f-54314ca01b15","method":"App.addBinding","params":{"name":"showToast_callback_1703194183748"}}
[D 2023-12-21 16:29:43,764 minium.Conn0272 connection#653 __on_message] RECV < {"id":"0310efb2-dfad-4b9b-822f-54314ca01b15","result":{}}
[D 2023-12-21 16:29:43,764 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:29:43,764 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"4f6804a4-5cee-4806-bfe0-5131dfbb40ec","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1703194183748,after:undefined,callback:showToast_callback_1703194183748},!0):global.__minium__.delCall(_,l)}","args":["showToast",1703194183748,true]}}
[D 2023-12-21 16:29:43,772 minium.Conn0272 connection#653 __on_message] RECV < {"id":"4f6804a4-5cee-4806-bfe0-5131dfbb40ec","result":{}}
[D 2023-12-21 16:29:43,776 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"09dad6a0-ad8f-4252-bd80-20a2b1baa03e","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2023-12-21 16:29:43,785 minium.Conn0272 connection#653 __on_message] RECV < {"id":"09dad6a0-ad8f-4252-bd80-20a2b1baa03e","result":{"result":{"path":"pages/home/home","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2023-12-21 16:29:43,789 minium app#731 relaunch] ReLaunch: /pages/home/home
[D 2023-12-21 16:29:43,792 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"6fe84148-0a94-4196-9b61-0aef2da9536b","method":"App.getCurrentPage","params":{}}
[D 2023-12-21 16:29:43,796 minium.Conn0272 connection#653 __on_message] RECV < {"id":"6fe84148-0a94-4196-9b61-0aef2da9536b","result":{"pageId":1,"path":"pages/home/home","query":{}}}
[D 2023-12-21 16:29:43,800 minium.Conn0272 connection#417 _safely_send] ASYNC_SEND > {"id":"cf579234-fa59-4b90-9f30-26e08851d743","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:29:43,956 minium.Conn0272 connection#653 __on_message] RECV < {"id":"cf579234-fa59-4b90-9f30-26e08851d743","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2023-12-21 16:29:43,956 minium.Conn0272 connection#697 _handle_async_msg] received async msg: cf579234-fa59-4b90-9f30-26e08851d743
[D 2023-12-21 16:29:46,223 minium.Conn0272 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/home/home","query":{},"openType":"reLaunch","__ts__":1703194186149},1703194186150]}}
[I 2023-12-21 16:29:46,223 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/home/home', 'query': {}, 'openType': 'reLaunch', '__ts__': 1703194186149}, 1703194186150]}
[D 2023-12-21 16:29:46,228 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"8e78b9c9-9ede-490f-9b1b-3820f85bc696","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:29:46,239 minium.Conn0272 connection#653 __on_message] RECV < {"id":"8e78b9c9-9ede-490f-9b1b-3820f85bc696","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:29:46,243 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"b87ec9b9-4f0e-4eb6-a007-0f8cce29b637","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2023-12-21 16:29:46,353 minium.Conn0272 connection#653 __on_message] RECV < {"id":"b87ec9b9-4f0e-4eb6-a007-0f8cce29b637","result":{"result":false}}
[D 2023-12-21 16:29:46,357 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2023-12-21 16:29:46,357 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"7a533493-13e7-4635-85c8-c3c5557480f3","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2023-12-21 16:29:46,373 minium.Conn0272 connection#653 __on_message] RECV < {"id":"7a533493-13e7-4635-85c8-c3c5557480f3","result":{}}
[D 2023-12-21 16:29:46,379 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"8ba49de4-9f3f-4fb9-b93c-52a77493b5ce","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2023-12-21 16:29:47,016 minium.Conn0272 connection#653 __on_message] RECV < {"id":"8ba49de4-9f3f-4fb9-b93c-52a77493b5ce","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2023-12-21 16:29:47,018 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"37615da2-9cba-4145-b86f-2dbb7f11dcad","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2023-12-21 16:29:47,027 minium.Conn0272 connection#653 __on_message] RECV < {"id":"37615da2-9cba-4145-b86f-2dbb7f11dcad","result":{}}
[D 2023-12-21 16:29:47,030 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"82cf037e-9b0d-4b01-b9ad-6a7b49781b5c","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2023-12-21 16:29:47,036 minium.Conn0272 connection#653 __on_message] RECV < {"id":"82cf037e-9b0d-4b01-b9ad-6a7b49781b5c","result":{"result":{"accountInfo":{"appId":"wx02da6f6037f28c99","nickname":"sandbox account of wxid_yalgzp87d9zt12","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2023-12-21 16:29:47,040 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"984b03d4-21c3-400b-b0fa-5d9854db5dd8","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:29:47,048 minium.Conn0272 connection#651 __on_message] RECV < {"id":"984b03d4-21c3-400b-b0fa-5d9854db5dd8","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":33,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[I 2023-12-21 16:29:47,052 minium minitest#189 init_miniprogram] end init miniprogram
[I 2023-12-21 16:29:47,056 minium minitest#370 _miniSetUp] =========Current case: test_search=========
[I 2023-12-21 16:29:47,060 minium minitest#373 _miniSetUp] package info: C:.Users.zhiha.OneDrive.Desktop.auto_minium.test3.search_test, case info: FirstTest.test_search
[I 2023-12-21 16:29:47,060 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2023-12-21 16:29:47,060 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2023-12-21 16:29:47,064 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2023-12-21 16:29:47,064 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2023-12-21 16:29:47,069 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2023-12-21 16:29:47,084 minium.Conn0272 connection#417 _safely_send] ASYNC_SEND > {"id":"95ba55ea-ca9c-4f2b-837b-3204a10aed98","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:29:47,171 minium.Conn0272 connection#653 __on_message] RECV < {"id":"95ba55ea-ca9c-4f2b-837b-3204a10aed98","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2023-12-21 16:29:47,175 minium.Conn0272 connection#697 _handle_async_msg] received async msg: 95ba55ea-ca9c-4f2b-837b-3204a10aed98
[I 2023-12-21 16:29:47,179 minium minitest#717 capture] capture setup.png
[I 2023-12-21 16:29:47,191 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:29:47,195 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"75e23fad-4fcd-44c7-9b39-16a8f2404629","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:29:47,464 minium.Conn0272 connection#651 __on_message] RECV < {"id":"75e23fad-4fcd-44c7-9b39-16a8f2404629","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:29:47,468 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:29:47,473 minium minitest#424 _miniSetUp] =========case: test_search start=========
[I 2023-12-21 16:29:47,476 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 16:29:47,476 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"f8a48fa9-a04e-4b9b-b5a7-e04946867ece","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":2}}
[D 2023-12-21 16:29:47,683 minium.Conn0272 connection#653 __on_message] RECV < {"id":"f8a48fa9-a04e-4b9b-b5a7-e04946867ece","result":{"elements":[{"elementId":"13f8285b-6cee-4f7a-a347-1ca3830d579e","tagName":"input"}]}}
[I 2023-12-21 16:29:47,687 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000021D3847FC10>]
[I 2023-12-21 16:29:47,877 minium minitest#717 capture] capture assertTrue-success.png
[I 2023-12-21 16:29:47,877 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:29:47,885 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"80677005-f4f9-4cd1-aad0-927ae26c3195","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:29:48,173 minium.Conn0272 connection#651 __on_message] RECV < {"id":"80677005-f4f9-4cd1-aad0-927ae26c3195","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:29:48,177 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:29:48,180 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 16:29:48,181 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"7fdda1d6-1fc6-4ac6-9ed0-6b340694541c","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":2}}
[D 2023-12-21 16:29:48,860 minium.Conn0272 connection#653 __on_message] RECV < {"id":"7fdda1d6-1fc6-4ac6-9ed0-6b340694541c","result":{"elements":[{"elementId":"13f8285b-6cee-4f7a-a347-1ca3830d579e","tagName":"input"}]}}
[I 2023-12-21 16:29:48,864 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000021D3847F610>]
[D 2023-12-21 16:29:48,869 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"3f64f503-7637-41d4-a08b-2ebc699008f8","method":"Element.triggerEvent","params":{"type":"confirm","detail":{"value":"\u9e21"},"elementId":"13f8285b-6cee-4f7a-a347-1ca3830d579e","pageId":2}}
[D 2023-12-21 16:29:48,909 minium.Conn0272 connection#653 __on_message] RECV < {"id":"3f64f503-7637-41d4-a08b-2ebc699008f8","result":{}}
[D 2023-12-21 16:29:53,912 minium page#321 wait_for] waitFor: 5.002965927124023 s
[I 2023-12-21 16:29:53,912 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:29:53,916 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"e185b558-ddf8-4d88-9505-aa158eb20881","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":2}}
[D 2023-12-21 16:29:53,932 minium.Conn0272 connection#653 __on_message] RECV < {"id":"e185b558-ddf8-4d88-9505-aa158eb20881","result":{"elements":[]}}
[W 2023-12-21 16:29:53,940 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:29:54,952 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:29:54,956 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"85c08b98-f9d4-41a5-9407-b56fd4ddf112","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":2}}
[D 2023-12-21 16:29:54,977 minium.Conn0272 connection#653 __on_message] RECV < {"id":"85c08b98-f9d4-41a5-9407-b56fd4ddf112","result":{"elements":[]}}
[W 2023-12-21 16:29:54,977 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:29:55,988 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:29:55,989 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"0fcaf2b7-d74a-47e6-b108-e47ca787caaf","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":2}}
[D 2023-12-21 16:29:56,019 minium.Conn0272 connection#653 __on_message] RECV < {"id":"0fcaf2b7-d74a-47e6-b108-e47ca787caaf","result":{"elements":[]}}
[W 2023-12-21 16:29:56,021 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:29:57,032 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:29:57,033 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"597f148f-1922-470d-8701-888050070f4a","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":2}}
[D 2023-12-21 16:29:57,077 minium.Conn0272 connection#653 __on_message] RECV < {"id":"597f148f-1922-470d-8701-888050070f4a","result":{"elements":[]}}
[W 2023-12-21 16:29:57,089 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:29:58,092 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:29:58,092 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"43a6b356-842a-48c3-8108-b32ba78d7145","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":2}}
[D 2023-12-21 16:29:58,128 minium.Conn0272 connection#653 __on_message] RECV < {"id":"43a6b356-842a-48c3-8108-b32ba78d7145","result":{"elements":[]}}
[W 2023-12-21 16:29:58,133 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:29:59,141 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:29:59,143 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"9c667f29-8c9c-4cb8-abaa-252c7799d854","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":2}}
[D 2023-12-21 16:29:59,180 minium.Conn0272 connection#653 __on_message] RECV < {"id":"9c667f29-8c9c-4cb8-abaa-252c7799d854","result":{"elements":[]}}
[W 2023-12-21 16:29:59,182 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:30:00,188 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:30:00,190 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"4fca1d33-ae95-46de-8809-beb7c0416fc3","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":2}}
[D 2023-12-21 16:30:00,215 minium.Conn0272 connection#653 __on_message] RECV < {"id":"4fca1d33-ae95-46de-8809-beb7c0416fc3","result":{"elements":[]}}
[W 2023-12-21 16:30:00,219 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:30:01,230 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:30:01,230 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"fadc7105-8071-4bcb-800d-05f64c33bb0a","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":2}}
[D 2023-12-21 16:30:01,246 minium.Conn0272 connection#653 __on_message] RECV < {"id":"fadc7105-8071-4bcb-800d-05f64c33bb0a","result":{"elements":[]}}
[W 2023-12-21 16:30:01,249 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:30:02,266 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:30:02,270 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"541d856a-0c51-4558-9ad3-c72ac62c5f67","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":2}}
[D 2023-12-21 16:30:02,297 minium.Conn0272 connection#653 __on_message] RECV < {"id":"541d856a-0c51-4558-9ad3-c72ac62c5f67","result":{"elements":[]}}
[W 2023-12-21 16:30:02,298 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:30:03,302 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:30:03,302 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"247db104-05cb-4085-9cff-822020c5e869","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":2}}
[D 2023-12-21 16:30:03,318 minium.Conn0272 connection#653 __on_message] RECV < {"id":"247db104-05cb-4085-9cff-822020c5e869","result":{"elements":[]}}
[W 2023-12-21 16:30:03,323 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:30:04,333 minium minitest#717 capture] capture assertTrue-failed.png
[I 2023-12-21 16:30:04,333 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:30:04,337 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"b05499c5-9523-49c1-82a4-0f5c69c17198","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:30:04,773 minium.Conn0272 connection#651 __on_message] RECV < {"id":"b05499c5-9523-49c1-82a4-0f5c69c17198","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:30:04,777 minium basenative#29 wrapper] call IdeNative.screen_shot end
[D 2023-12-21 16:30:04,777 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"cc0f68b9-f7d5-4f04-9db0-e8638c56cb13","method":"Page.getElementByXpath","params":{"selector":"/*","pageId":2}}
[D 2023-12-21 16:30:04,805 minium.Conn0272 connection#653 __on_message] RECV < {"id":"cc0f68b9-f7d5-4f04-9db0-e8638c56cb13","result":{"elementId":"02b69657-eead-4c1e-8069-369f53d0aaee","tagName":"tab-bar-wrapper"}}
[D 2023-12-21 16:30:04,805 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"85202032-8307-4cd2-a831-5a4249844270","method":"Element.getWXML","params":{"type":"outer","elementId":"02b69657-eead-4c1e-8069-369f53d0aaee","pageId":2}}
[D 2023-12-21 16:30:04,835 minium.Conn0272 connection#651 __on_message] RECV < {"id":"85202032-8307-4cd2-a831-5a4249844270","result":{"wxml":"<tab-bar-wrapper><view role=\"tablist\" aria-role=\"tablist\" class=\"t-tab-bar bar--t-tab-bar t-tab-bar--border bar--t-tab-bar--border t-tab-bar--fixed bar--t-tab-bar--fixed t-tab-bar--safe bar--t-tab-bar--safe t-tab-bar--normal bar--t-tab-bar--normal  \" style=\"\"><view class=\"t-tab-bar-item item--t-tab-bar-item t-tab-bar-item--text-only item--t-tab-bar-item--text-only t-tab-bar-item--normal item--t-tab-bar-item--normal  \" style=\"\"><vi...
[D 2023-12-21 16:30:04,841 minium minitest#620 _miniTearDown] =========Current case Down: test_search=========
[I 2023-12-21 16:30:04,843 minium minitest#717 capture] capture teardown.png
[I 2023-12-21 16:30:04,845 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:30:04,847 minium.Conn0272 connection#417 _safely_send] SEND > {"id":"0f8f5871-b84a-4b03-988a-00e7f9d4a83d","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:30:05,301 minium.Conn0272 connection#651 __on_message] RECV < {"id":"0f8f5871-b84a-4b03-988a-00e7f9d4a83d","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:30:05,315 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:30:05,317 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2023-12-21 16:30:05,318 minium basenative#29 wrapper] call BaseNative.get_start_up end
[E 2023-12-21 16:30:05,330 minium assertbase#349 _get_stack_info] <bound method FirstTest.test_search of <test3.search_test.FirstTest testMethod=test_search>>
Traceback (most recent call last):
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\minium\framework\libs\unittest\case.py", line 42, in testPartExecutor
    yield
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\minium\framework\libs\unittest\case.py", line 124, in run
    self._callTestMethod(testMethod)
AssertionError: False is not true : 用户搜索后是否弹出搜索结果
[W 2023-12-21 16:30:05,335 minium assertbase#331 _log_info_when_error] config: {'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test3', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-3', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221162910', 'case_output': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs\\20231221162910\\test_search\\20231221162947052259'}
[W 2023-12-21 16:30:05,339 minium assertbase#332 _log_info_when_error] build info: {'version': '1.4.6', 'revision': 'b389ff4b1d94cc73bb5363fc602f5823512df292', 'branch': 'master', 'update_at': '2023-08-28 17:46:51'}
[W 2023-12-21 16:30:05,342 minium minitest#828 _log_info_when_error] native: <minium.native.wx_native.idenative.IdeNative object at 0x0000021D3842D9D0>
[I 2023-12-21 16:30:15,356 minium.SESSION session#67 run] case queue is empty, test complete, release None
[D 2023-12-21 16:30:15,357 minium.Conn0272 connection#417 _safely_send] ASYNC_SEND > {"id":"29b2f3f3-324f-43e9-872c-87c7cf6d4a09","method":"Tool.close","params":{}}
[D 2023-12-21 16:30:15,362 minium.Conn0272 connection#653 __on_message] RECV < {"id":"29b2f3f3-324f-43e9-872c-87c7cf6d4a09","result":{}}
[I 2023-12-21 16:30:15,364 minium.Conn0272 connection#697 _handle_async_msg] received async msg: 29b2f3f3-324f-43e9-872c-87c7cf6d4a09, maybe command ignore response
[E 2023-12-21 16:30:15,391 minium.Conn0272 connection#632 _on_error] Connection to remote host was lost.
[I 2023-12-21 16:30:15,391 minium.Conn0272 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2023-12-21 16:30:16,363 minium basenative#25 wrapper] call IdeNative.stop_wechat
[I 2023-12-21 16:30:16,364 minium basenative#29 wrapper] call IdeNative.stop_wechat end
[I 2023-12-21 16:30:16,364 minium basenative#25 wrapper] call IdeNative.release
[I 2023-12-21 16:30:16,364 minium basenative#25 wrapper] call BaseNative.release
[I 2023-12-21 16:30:16,364 minium basenative#101 release] Native release
[I 2023-12-21 16:30:16,368 minium basenative#25 wrapper] call BaseNative.release_auto_authorize
[I 2023-12-21 16:30:16,369 minium basenative#29 wrapper] call BaseNative.release_auto_authorize end
[I 2023-12-21 16:30:16,369 minium basenative#29 wrapper] call BaseNative.release end
[I 2023-12-21 16:30:16,372 minium basenative#29 wrapper] call IdeNative.release end
[D 2023-12-21 16:36:45,456 minium loader#135 load_from_module] Loading module: test3.search_test
[D 2023-12-21 16:36:45,477 minium loader#139 load_from_module] put module[test3.search_test] into queue
[I 2023-12-21 16:36:45,575 minium loader#298 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test3', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-3', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221163645'}

[D 2023-12-21 16:36:46,447 minium minitest#278 _miniClassSetUp] =====================
[D 2023-12-21 16:36:46,447 minium minitest#279 _miniClassSetUp] Testing class：FirstTest
[D 2023-12-21 16:36:46,447 minium minitest#280 _miniClassSetUp] =====================
[I 2023-12-21 16:36:46,447 minium minitest#173 init_miniprogram] start init miniprogram
[I 2023-12-21 16:36:46,451 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2023-12-21 16:36:46,455 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2023-12-21 16:36:46,491 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2023-12-21 16:36:46,495 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\Users\zhiha\WeChatProjects\miniprogram-3" --auto-port 9420
[I 2023-12-21 16:36:53,881 minium minium_object#101 _do_shell] err:
- initialize

× IDE may already started at port 45028, trying to connect

√ IDE server started successfully, listening on http://127.0.0.1:50725
- preparing
- Fetching AppID (wx02da6f6037f28c99) permissions
√ Using AppID: wx02da6f6037f28c99
√ auto

[I 2023-12-21 16:36:53,884 minium minium_object#102 _do_shell] out:

[I 2023-12-21 16:37:03,888 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2023-12-21 16:37:04,575 minium.Conn1696 connection#342 _connect] connect to WebChatTools successfully
[D 2023-12-21 16:37:04,575 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"3c4979bc-f507-430c-8f89-c68486a52063","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:37:04,701 minium.Conn1696 connection#653 __on_message] RECV < {"id":"3c4979bc-f507-430c-8f89-c68486a52063","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:37:04,705 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"0da8c083-0e2d-450d-8d74-7633a42d1dcd","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:37:19,739 minium.Conn1696 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2023-12-21 16:37:19,771 minium.Conn1696 connection#651 __on_message] RECV < {"id":"0da8c083-0e2d-450d-8d74-7633a42d1dcd","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":30,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[D 2023-12-21 16:37:19,775 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2023-12-21 16:37:19,779 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"9e1a2f5f-8333-4fc6-a6a4-e78cfd36cead","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2023-12-21 16:37:19,859 minium.Conn1696 connection#653 __on_message] RECV < {"id":"9e1a2f5f-8333-4fc6-a6a4-e78cfd36cead","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2023-12-21 16:37:19,859 minium.Conn1696 connection#283 remove] remove key which is not in observers
[D 2023-12-21 16:37:19,863 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"aef1b6ed-afd6-47c4-b23c-2adc25f1d8a8","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2023-12-21 16:37:19,871 minium.Conn1696 connection#653 __on_message] RECV < {"id":"aef1b6ed-afd6-47c4-b23c-2adc25f1d8a8","result":{}}
[D 2023-12-21 16:37:19,871 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"c8d19f07-73aa-4500-83d7-4b155084e999","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2023-12-21 16:37:19,883 minium.Conn1696 connection#653 __on_message] RECV < {"id":"c8d19f07-73aa-4500-83d7-4b155084e999","result":{}}
[D 2023-12-21 16:37:19,887 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2023-12-21 16:37:19,887 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"b999a3c4-31f7-4bfe-8e62-74842121a7fe","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2023-12-21 16:37:19,903 minium.Conn1696 connection#653 __on_message] RECV < {"id":"b999a3c4-31f7-4bfe-8e62-74842121a7fe","result":{}}
[D 2023-12-21 16:37:19,907 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2023-12-21 16:37:19,911 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"8cde435e-e173-4b31-b456-9c0044ac2ded","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2023-12-21 16:37:19,931 minium.Conn1696 connection#653 __on_message] RECV < {"id":"8cde435e-e173-4b31-b456-9c0044ac2ded","result":{}}
[D 2023-12-21 16:37:19,931 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2023-12-21 16:37:19,935 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"5c5da7e7-1a7e-4d54-b76f-18e21387309e","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2023-12-21 16:37:19,951 minium.Conn1696 connection#653 __on_message] RECV < {"id":"5c5da7e7-1a7e-4d54-b76f-18e21387309e","result":{"result":true}}
[D 2023-12-21 16:37:19,955 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"c4c1dec3-2730-4699-a239-4c5d08d7a8c9","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2023-12-21 16:37:19,967 minium.Conn1696 connection#651 __on_message] RECV < {"id":"c4c1dec3-2730-4699-a239-4c5d08d7a8c9","result":{"result":{"pages":["pages/home/home","pages/usercenter/index","pages/usercenter/person-info/index","pages/usercenter/address/list/index","pages/usercenter/address/edit/index","pages/goods/list/index","pages/goods/details/index","pages/goods/category/index","pages/goods/search/index","pages/goods/result/index","pages/cart/index","pages/order/order-confirm/index","pages/order/receipt/index","pages/order/pay-result/index","pages/order/order-list/index",...
[D 2023-12-21 16:37:19,971 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"2c771f99-3061-40d8-9e54-b33a6f5bdd84","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2023-12-21 16:37:19,979 minium.Conn1696 connection#653 __on_message] RECV < {"id":"2c771f99-3061-40d8-9e54-b33a6f5bdd84","result":{"result":{"miniProgram":{"appId":"wx02da6f6037f28c99","envVersion":"develop","version":""}}}}
[D 2023-12-21 16:37:19,983 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"7bbac470-5735-42cd-bde7-e19163242239","method":"App.addBinding","params":{"name":"showModal_before_1703194639983"}}
[D 2023-12-21 16:37:19,993 minium.Conn1696 connection#653 __on_message] RECV < {"id":"7bbac470-5735-42cd-bde7-e19163242239","result":{}}
[D 2023-12-21 16:37:19,995 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"3f408aa1-6451-4ff2-9910-a2e5bd061303","method":"App.addBinding","params":{"name":"showModal_callback_1703194639983"}}
[D 2023-12-21 16:37:20,003 minium.Conn1696 connection#653 __on_message] RECV < {"id":"3f408aa1-6451-4ff2-9910-a2e5bd061303","result":{}}
[D 2023-12-21 16:37:20,007 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:37:20,007 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"18178e90-4749-4049-a2bd-ed90f7904395","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1703194639983,after:undefined,callback:showModal_callback_1703194639983},!0):global.__minium__.delCall(_,l)}","args":["showModal",1703194639983,true]}}
[D 2023-12-21 16:37:20,019 minium.Conn1696 connection#653 __on_message] RECV < {"id":"18178e90-4749-4049-a2bd-ed90f7904395","result":{}}
[D 2023-12-21 16:37:20,019 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"5bb8a0d5-8220-4ec1-8eaa-12d4c8f532a4","method":"App.addBinding","params":{"name":"showToast_before_1703194640019"}}
[D 2023-12-21 16:37:20,039 minium.Conn1696 connection#653 __on_message] RECV < {"id":"5bb8a0d5-8220-4ec1-8eaa-12d4c8f532a4","result":{}}
[D 2023-12-21 16:37:20,041 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"7a22c000-4396-4a54-912c-2e4b1dd11841","method":"App.addBinding","params":{"name":"showToast_callback_1703194640019"}}
[D 2023-12-21 16:37:20,048 minium.Conn1696 connection#653 __on_message] RECV < {"id":"7a22c000-4396-4a54-912c-2e4b1dd11841","result":{}}
[D 2023-12-21 16:37:20,048 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:37:20,052 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"1baef487-ab9e-4860-a683-c39590a23a6c","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1703194640019,after:undefined,callback:showToast_callback_1703194640019},!0):global.__minium__.delCall(_,l)}","args":["showToast",1703194640019,true]}}
[D 2023-12-21 16:37:20,059 minium.Conn1696 connection#653 __on_message] RECV < {"id":"1baef487-ab9e-4860-a683-c39590a23a6c","result":{}}
[D 2023-12-21 16:37:20,063 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"51708ba1-316f-41c4-8ba1-6aab872b2b49","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2023-12-21 16:37:20,075 minium.Conn1696 connection#653 __on_message] RECV < {"id":"51708ba1-316f-41c4-8ba1-6aab872b2b49","result":{"result":{"path":"pages/home/home","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2023-12-21 16:37:20,075 minium app#731 relaunch] ReLaunch: /pages/home/home
[D 2023-12-21 16:37:20,079 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"eb761dee-55ea-48dd-bf77-d667e98d8c77","method":"App.getCurrentPage","params":{}}
[D 2023-12-21 16:37:20,087 minium.Conn1696 connection#653 __on_message] RECV < {"id":"eb761dee-55ea-48dd-bf77-d667e98d8c77","result":{"pageId":2,"path":"pages/home/home","query":{}}}
[D 2023-12-21 16:37:20,089 minium.Conn1696 connection#417 _safely_send] ASYNC_SEND > {"id":"fc274255-52f6-4174-87fd-5bf1b74d54d7","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:37:20,248 minium.Conn1696 connection#653 __on_message] RECV < {"id":"fc274255-52f6-4174-87fd-5bf1b74d54d7","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2023-12-21 16:37:20,248 minium.Conn1696 connection#697 _handle_async_msg] received async msg: fc274255-52f6-4174-87fd-5bf1b74d54d7
[D 2023-12-21 16:37:22,379 minium.Conn1696 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":3,"path":"pages/home/home","query":{},"openType":"reLaunch","__ts__":1703194642294},1703194642296]}}
[I 2023-12-21 16:37:22,383 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 3, 'path': 'pages/home/home', 'query': {}, 'openType': 'reLaunch', '__ts__': 1703194642294}, 1703194642296]}
[D 2023-12-21 16:37:22,387 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"f9c039e3-3ffa-48ca-a129-33b594afa1c5","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:37:22,399 minium.Conn1696 connection#653 __on_message] RECV < {"id":"f9c039e3-3ffa-48ca-a129-33b594afa1c5","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:37:22,403 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"b127d0e5-c922-4dfa-9d9c-61b4f9e12fc7","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2023-12-21 16:37:22,423 minium.Conn1696 connection#653 __on_message] RECV < {"id":"b127d0e5-c922-4dfa-9d9c-61b4f9e12fc7","result":{"result":false}}
[D 2023-12-21 16:37:22,427 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2023-12-21 16:37:22,431 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"4de05487-1747-4d44-927e-5314fea31a65","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2023-12-21 16:37:22,467 minium.Conn1696 connection#653 __on_message] RECV < {"id":"4de05487-1747-4d44-927e-5314fea31a65","result":{}}
[D 2023-12-21 16:37:22,471 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"514a025a-fed0-41b8-a878-49f11aad9e23","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2023-12-21 16:37:23,107 minium.Conn1696 connection#653 __on_message] RECV < {"id":"514a025a-fed0-41b8-a878-49f11aad9e23","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2023-12-21 16:37:23,111 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"b2c8ddbc-8254-427e-9fc1-f244ffb8f163","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2023-12-21 16:37:23,131 minium.Conn1696 connection#653 __on_message] RECV < {"id":"b2c8ddbc-8254-427e-9fc1-f244ffb8f163","result":{}}
[D 2023-12-21 16:37:23,135 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"e6e59839-ad0b-4b3d-9fca-d02df7654f53","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2023-12-21 16:37:23,151 minium.Conn1696 connection#653 __on_message] RECV < {"id":"e6e59839-ad0b-4b3d-9fca-d02df7654f53","result":{"result":{"accountInfo":{"appId":"wx02da6f6037f28c99","nickname":"sandbox account of wxid_yalgzp87d9zt12","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2023-12-21 16:37:23,159 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"c51dd457-d397-46a9-8f9e-880f6b6bfbb6","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:37:23,175 minium.Conn1696 connection#651 __on_message] RECV < {"id":"c51dd457-d397-46a9-8f9e-880f6b6bfbb6","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":30,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[I 2023-12-21 16:37:23,175 minium minitest#189 init_miniprogram] end init miniprogram
[I 2023-12-21 16:37:23,191 minium minitest#370 _miniSetUp] =========Current case: test_search=========
[I 2023-12-21 16:37:23,198 minium minitest#373 _miniSetUp] package info: C:.Users.zhiha.OneDrive.Desktop.auto_minium.test3.search_test, case info: FirstTest.test_search
[I 2023-12-21 16:37:23,204 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2023-12-21 16:37:23,204 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2023-12-21 16:37:23,204 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2023-12-21 16:37:23,224 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2023-12-21 16:37:23,230 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2023-12-21 16:37:23,235 minium.Conn1696 connection#417 _safely_send] ASYNC_SEND > {"id":"e8627726-e181-4177-a20d-9ba083c0d27a","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:37:23,326 minium.Conn1696 connection#653 __on_message] RECV < {"id":"e8627726-e181-4177-a20d-9ba083c0d27a","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2023-12-21 16:37:23,326 minium.Conn1696 connection#697 _handle_async_msg] received async msg: e8627726-e181-4177-a20d-9ba083c0d27a
[I 2023-12-21 16:37:23,331 minium minitest#717 capture] capture setup.png
[I 2023-12-21 16:37:23,334 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:37:23,334 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"2a622225-762e-460a-b8c5-0439181e3b77","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:37:23,575 minium.Conn1696 connection#651 __on_message] RECV < {"id":"2a622225-762e-460a-b8c5-0439181e3b77","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:37:23,579 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:37:23,583 minium minitest#424 _miniSetUp] =========case: test_search start=========
[I 2023-12-21 16:37:23,586 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 16:37:23,599 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"0162e99d-db6c-4aef-b1f8-a8144b931d91","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":3}}
[D 2023-12-21 16:37:24,007 minium.Conn1696 connection#653 __on_message] RECV < {"id":"0162e99d-db6c-4aef-b1f8-a8144b931d91","result":{"elements":[{"elementId":"67ddf003-3f38-4e73-8c75-c81679c936ae","tagName":"input"}]}}
[I 2023-12-21 16:37:24,007 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000025C9C372A10>]
[I 2023-12-21 16:37:24,232 minium minitest#717 capture] capture assertTrue-success.png
[I 2023-12-21 16:37:24,232 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:37:24,236 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"afcab184-ee08-40d1-90a7-9dff7a6957c1","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:37:24,691 minium.Conn1696 connection#651 __on_message] RECV < {"id":"afcab184-ee08-40d1-90a7-9dff7a6957c1","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:37:24,699 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:37:24,703 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 16:37:24,703 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"eda2c7b4-6829-4747-b61d-f90002dee820","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":3}}
[D 2023-12-21 16:37:25,170 minium.Conn1696 connection#653 __on_message] RECV < {"id":"eda2c7b4-6829-4747-b61d-f90002dee820","result":{"elements":[{"elementId":"67ddf003-3f38-4e73-8c75-c81679c936ae","tagName":"input"}]}}
[I 2023-12-21 16:37:25,173 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000025C9C3FC8D0>]
[D 2023-12-21 16:37:30,176 minium page#321 wait_for] waitFor: 5.001509428024292 s
[I 2023-12-21 16:37:30,178 minium page#557 _get_elements_by_css] try to get elements: view[data-index='1']
[D 2023-12-21 16:37:30,180 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"8abbed83-6bd8-4342-99c3-977d7e46b469","method":"Page.getElements","params":{"selector":"view[data-index='1']","pageId":3}}
[D 2023-12-21 16:37:30,237 minium.Conn1696 connection#653 __on_message] RECV < {"id":"8abbed83-6bd8-4342-99c3-977d7e46b469","result":{"elements":[{"elementId":"63a643c9-788d-4e96-b68e-83d72484dd43","tagName":"view"}]}}
[I 2023-12-21 16:37:30,239 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000025C9C3E4090>]
[I 2023-12-21 16:37:30,246 minium minitest#717 capture] capture assertTrue-success_163730246130.png
[I 2023-12-21 16:37:30,250 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:37:30,250 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"d5ec4069-f8c8-4b47-be6d-aadbce4bd1ad","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:37:30,737 minium.Conn1696 connection#651 __on_message] RECV < {"id":"d5ec4069-f8c8-4b47-be6d-aadbce4bd1ad","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:37:30,742 minium basenative#29 wrapper] call IdeNative.screen_shot end
[D 2023-12-21 16:37:30,742 minium minitest#620 _miniTearDown] =========Current case Down: test_search=========
[I 2023-12-21 16:37:30,747 minium minitest#717 capture] capture teardown.png
[I 2023-12-21 16:37:30,759 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:37:30,761 minium.Conn1696 connection#417 _safely_send] SEND > {"id":"012054dc-ddc8-4e70-a58e-11e45a0fac6f","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:37:31,252 minium.Conn1696 connection#651 __on_message] RECV < {"id":"012054dc-ddc8-4e70-a58e-11e45a0fac6f","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:37:31,270 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:37:31,272 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2023-12-21 16:37:31,275 minium basenative#29 wrapper] call BaseNative.get_start_up end
[I 2023-12-21 16:37:41,314 minium.SESSION session#67 run] case queue is empty, test complete, release None
[D 2023-12-21 16:37:41,316 minium.Conn1696 connection#417 _safely_send] ASYNC_SEND > {"id":"8dcb7d41-fffe-4c7a-b532-77c7c1cffb5a","method":"Tool.close","params":{}}
[D 2023-12-21 16:37:41,320 minium.Conn1696 connection#653 __on_message] RECV < {"id":"8dcb7d41-fffe-4c7a-b532-77c7c1cffb5a","result":{}}
[I 2023-12-21 16:37:41,323 minium.Conn1696 connection#697 _handle_async_msg] received async msg: 8dcb7d41-fffe-4c7a-b532-77c7c1cffb5a, maybe command ignore response
[E 2023-12-21 16:37:41,347 minium.Conn1696 connection#632 _on_error] Connection to remote host was lost.
[I 2023-12-21 16:37:41,351 minium.Conn1696 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2023-12-21 16:37:42,321 minium basenative#25 wrapper] call IdeNative.stop_wechat
[I 2023-12-21 16:37:42,321 minium basenative#29 wrapper] call IdeNative.stop_wechat end
[I 2023-12-21 16:37:42,326 minium basenative#25 wrapper] call IdeNative.release
[I 2023-12-21 16:37:42,326 minium basenative#25 wrapper] call BaseNative.release
[I 2023-12-21 16:37:42,330 minium basenative#101 release] Native release
[I 2023-12-21 16:37:42,334 minium basenative#25 wrapper] call BaseNative.release_auto_authorize
[I 2023-12-21 16:37:42,344 minium basenative#29 wrapper] call BaseNative.release_auto_authorize end
[I 2023-12-21 16:37:42,347 minium basenative#29 wrapper] call BaseNative.release end
[I 2023-12-21 16:37:42,355 minium basenative#29 wrapper] call IdeNative.release end
[D 2023-12-21 16:38:51,074 minium loader#135 load_from_module] Loading module: test3.search_test
[D 2023-12-21 16:38:51,082 minium loader#139 load_from_module] put module[test3.search_test] into queue
[I 2023-12-21 16:38:51,144 minium loader#298 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test3', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-3', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221163851'}

[D 2023-12-21 16:38:52,034 minium minitest#278 _miniClassSetUp] =====================
[D 2023-12-21 16:38:52,034 minium minitest#279 _miniClassSetUp] Testing class：FirstTest
[D 2023-12-21 16:38:52,034 minium minitest#280 _miniClassSetUp] =====================
[I 2023-12-21 16:38:52,034 minium minitest#173 init_miniprogram] start init miniprogram
[I 2023-12-21 16:38:52,038 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2023-12-21 16:38:52,042 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2023-12-21 16:38:52,055 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2023-12-21 16:38:52,066 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\Users\zhiha\WeChatProjects\miniprogram-3" --auto-port 9420
[I 2023-12-21 16:38:57,031 minium minium_object#101 _do_shell] err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:50725
- preparing
- Fetching AppID (wx02da6f6037f28c99) permissions
√ Using AppID: wx02da6f6037f28c99
√ auto

[I 2023-12-21 16:38:57,035 minium minium_object#102 _do_shell] out:

[I 2023-12-21 16:39:07,040 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2023-12-21 16:39:07,335 minium.Conn4880 connection#342 _connect] connect to WebChatTools successfully
[D 2023-12-21 16:39:07,335 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"15cd9090-839b-4c59-b4a7-879141e20e58","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:39:07,343 minium.Conn4880 connection#653 __on_message] RECV < {"id":"15cd9090-839b-4c59-b4a7-879141e20e58","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:39:07,346 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"7878d9f8-a5b6-4385-9d76-c2c195c5920d","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:39:16,514 minium.Conn4880 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2023-12-21 16:39:16,518 minium.Conn4880 connection#651 __on_message] RECV < {"id":"7878d9f8-a5b6-4385-9d76-c2c195c5920d","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":28,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[D 2023-12-21 16:39:16,523 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2023-12-21 16:39:16,526 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"b8656b9a-d2a6-4d69-8c1d-c4ac8853bd21","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2023-12-21 16:39:16,535 minium.Conn4880 connection#653 __on_message] RECV < {"id":"b8656b9a-d2a6-4d69-8c1d-c4ac8853bd21","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2023-12-21 16:39:16,539 minium.Conn4880 connection#283 remove] remove key which is not in observers
[D 2023-12-21 16:39:16,541 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"1750c741-3899-454c-92c2-4ec16b639fe5","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2023-12-21 16:39:16,547 minium.Conn4880 connection#653 __on_message] RECV < {"id":"1750c741-3899-454c-92c2-4ec16b639fe5","result":{}}
[D 2023-12-21 16:39:16,549 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"4801086c-d41c-41bc-b842-dabcbfca95d3","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2023-12-21 16:39:16,555 minium.Conn4880 connection#653 __on_message] RECV < {"id":"4801086c-d41c-41bc-b842-dabcbfca95d3","result":{}}
[D 2023-12-21 16:39:16,559 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2023-12-21 16:39:16,562 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"f94a9339-fcf5-4596-a703-769459e5d188","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2023-12-21 16:39:16,574 minium.Conn4880 connection#653 __on_message] RECV < {"id":"f94a9339-fcf5-4596-a703-769459e5d188","result":{}}
[D 2023-12-21 16:39:16,578 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2023-12-21 16:39:16,582 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"c5c3f628-2bfe-4111-a97a-0f2d3a93f0c3","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2023-12-21 16:39:16,594 minium.Conn4880 connection#653 __on_message] RECV < {"id":"c5c3f628-2bfe-4111-a97a-0f2d3a93f0c3","result":{}}
[D 2023-12-21 16:39:16,600 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2023-12-21 16:39:16,601 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"daf95fd9-1943-4268-938d-e749b58d9c86","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2023-12-21 16:39:16,610 minium.Conn4880 connection#653 __on_message] RECV < {"id":"daf95fd9-1943-4268-938d-e749b58d9c86","result":{"result":true}}
[D 2023-12-21 16:39:16,614 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"a8de4f1d-e57c-491d-a454-277b45c49a0a","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2023-12-21 16:39:16,622 minium.Conn4880 connection#651 __on_message] RECV < {"id":"a8de4f1d-e57c-491d-a454-277b45c49a0a","result":{"result":{"pages":["pages/home/home","pages/usercenter/index","pages/usercenter/person-info/index","pages/usercenter/address/list/index","pages/usercenter/address/edit/index","pages/goods/list/index","pages/goods/details/index","pages/goods/category/index","pages/goods/search/index","pages/goods/result/index","pages/cart/index","pages/order/order-confirm/index","pages/order/receipt/index","pages/order/pay-result/index","pages/order/order-list/index",...
[D 2023-12-21 16:39:16,627 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"f9098f0a-99b3-46f5-b5f9-33a2ad55e67a","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2023-12-21 16:39:16,636 minium.Conn4880 connection#653 __on_message] RECV < {"id":"f9098f0a-99b3-46f5-b5f9-33a2ad55e67a","result":{"result":{"miniProgram":{"appId":"wx02da6f6037f28c99","envVersion":"develop","version":""}}}}
[D 2023-12-21 16:39:16,639 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"74065971-8611-487a-b09b-bfbf44300486","method":"App.addBinding","params":{"name":"showModal_before_1703194756639"}}
[D 2023-12-21 16:39:16,643 minium.Conn4880 connection#653 __on_message] RECV < {"id":"74065971-8611-487a-b09b-bfbf44300486","result":{}}
[D 2023-12-21 16:39:16,646 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"d33d9289-5ee8-4fc3-8b09-f7e4e6bd0af6","method":"App.addBinding","params":{"name":"showModal_callback_1703194756639"}}
[D 2023-12-21 16:39:16,654 minium.Conn4880 connection#653 __on_message] RECV < {"id":"d33d9289-5ee8-4fc3-8b09-f7e4e6bd0af6","result":{}}
[D 2023-12-21 16:39:16,657 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:39:16,659 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"3c4ff7a0-50ea-47eb-b40d-1b08161e128c","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1703194756639,after:undefined,callback:showModal_callback_1703194756639},!0):global.__minium__.delCall(_,l)}","args":["showModal",1703194756639,true]}}
[D 2023-12-21 16:39:16,663 minium.Conn4880 connection#653 __on_message] RECV < {"id":"3c4ff7a0-50ea-47eb-b40d-1b08161e128c","result":{}}
[D 2023-12-21 16:39:16,668 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"465fd629-0c83-4c3f-bfde-2c56031fdc6b","method":"App.addBinding","params":{"name":"showToast_before_1703194756668"}}
[D 2023-12-21 16:39:16,675 minium.Conn4880 connection#653 __on_message] RECV < {"id":"465fd629-0c83-4c3f-bfde-2c56031fdc6b","result":{}}
[D 2023-12-21 16:39:16,678 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"60eeab45-6bfe-42d8-8e9d-8012538f903e","method":"App.addBinding","params":{"name":"showToast_callback_1703194756668"}}
[D 2023-12-21 16:39:16,684 minium.Conn4880 connection#653 __on_message] RECV < {"id":"60eeab45-6bfe-42d8-8e9d-8012538f903e","result":{}}
[D 2023-12-21 16:39:16,689 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:39:16,689 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"1141e4f5-33e4-4935-b7f7-e7c401ff0c62","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1703194756668,after:undefined,callback:showToast_callback_1703194756668},!0):global.__minium__.delCall(_,l)}","args":["showToast",1703194756668,true]}}
[D 2023-12-21 16:39:16,698 minium.Conn4880 connection#653 __on_message] RECV < {"id":"1141e4f5-33e4-4935-b7f7-e7c401ff0c62","result":{}}
[D 2023-12-21 16:39:16,706 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"5fc2654f-2e7a-4934-8233-71760a13011f","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2023-12-21 16:39:16,709 minium.Conn4880 connection#653 __on_message] RECV < {"id":"5fc2654f-2e7a-4934-8233-71760a13011f","result":{"result":{"path":"pages/home/home","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2023-12-21 16:39:16,714 minium app#731 relaunch] ReLaunch: /pages/home/home
[D 2023-12-21 16:39:16,718 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"a0c7dfb9-6bb1-4cdb-ac49-26a56719c4bc","method":"App.getCurrentPage","params":{}}
[D 2023-12-21 16:39:16,727 minium.Conn4880 connection#653 __on_message] RECV < {"id":"a0c7dfb9-6bb1-4cdb-ac49-26a56719c4bc","result":{"pageId":1,"path":"pages/home/home","query":{}}}
[D 2023-12-21 16:39:16,729 minium.Conn4880 connection#417 _safely_send] ASYNC_SEND > {"id":"588b4d5c-5427-4d72-bcb9-223a88c35461","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:39:16,850 minium.Conn4880 connection#653 __on_message] RECV < {"id":"588b4d5c-5427-4d72-bcb9-223a88c35461","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2023-12-21 16:39:16,850 minium.Conn4880 connection#697 _handle_async_msg] received async msg: 588b4d5c-5427-4d72-bcb9-223a88c35461
[D 2023-12-21 16:39:17,650 minium.Conn4880 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/home/home","query":{},"openType":"reLaunch","__ts__":1703194757603},1703194757604]}}
[I 2023-12-21 16:39:17,652 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/home/home', 'query': {}, 'openType': 'reLaunch', '__ts__': 1703194757603}, 1703194757604]}
[D 2023-12-21 16:39:17,654 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"c411fe82-e5ff-4ad6-929a-17b691f0d337","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:39:17,662 minium.Conn4880 connection#653 __on_message] RECV < {"id":"c411fe82-e5ff-4ad6-929a-17b691f0d337","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:39:17,667 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"f41a6333-dcc8-493d-8eac-302042822325","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2023-12-21 16:39:17,750 minium.Conn4880 connection#653 __on_message] RECV < {"id":"f41a6333-dcc8-493d-8eac-302042822325","result":{"result":false}}
[D 2023-12-21 16:39:17,753 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2023-12-21 16:39:17,753 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"a6148d05-4e80-4955-9baa-17cb71a7484a","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2023-12-21 16:39:17,762 minium.Conn4880 connection#653 __on_message] RECV < {"id":"a6148d05-4e80-4955-9baa-17cb71a7484a","result":{}}
[D 2023-12-21 16:39:17,764 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"a4968674-1200-4f81-8edd-87f7a3b2c260","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2023-12-21 16:39:18,488 minium.Conn4880 connection#653 __on_message] RECV < {"id":"a4968674-1200-4f81-8edd-87f7a3b2c260","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2023-12-21 16:39:18,493 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"933f0be6-f35d-4c94-acef-46f734802d9b","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2023-12-21 16:39:18,507 minium.Conn4880 connection#653 __on_message] RECV < {"id":"933f0be6-f35d-4c94-acef-46f734802d9b","result":{}}
[D 2023-12-21 16:39:18,509 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"65bc2935-e58d-4330-9e80-50ce299ab569","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2023-12-21 16:39:18,518 minium.Conn4880 connection#653 __on_message] RECV < {"id":"65bc2935-e58d-4330-9e80-50ce299ab569","result":{"result":{"accountInfo":{"appId":"wx02da6f6037f28c99","nickname":"sandbox account of wxid_yalgzp87d9zt12","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2023-12-21 16:39:18,522 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"fc435e15-bfc0-452f-88f3-3a9b69585be2","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:39:18,530 minium.Conn4880 connection#651 __on_message] RECV < {"id":"fc435e15-bfc0-452f-88f3-3a9b69585be2","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":28,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[I 2023-12-21 16:39:18,533 minium minitest#189 init_miniprogram] end init miniprogram
[I 2023-12-21 16:39:18,550 minium minitest#370 _miniSetUp] =========Current case: test_search=========
[I 2023-12-21 16:39:18,556 minium minitest#373 _miniSetUp] package info: C:.Users.zhiha.OneDrive.Desktop.auto_minium.test3.search_test, case info: FirstTest.test_search
[I 2023-12-21 16:39:18,560 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2023-12-21 16:39:18,560 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2023-12-21 16:39:18,563 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2023-12-21 16:39:18,573 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2023-12-21 16:39:18,576 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2023-12-21 16:39:18,591 minium.Conn4880 connection#417 _safely_send] ASYNC_SEND > {"id":"2e964848-06e3-4969-b655-2d80db978e71","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:39:18,663 minium.Conn4880 connection#653 __on_message] RECV < {"id":"2e964848-06e3-4969-b655-2d80db978e71","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2023-12-21 16:39:18,668 minium.Conn4880 connection#697 _handle_async_msg] received async msg: 2e964848-06e3-4969-b655-2d80db978e71
[I 2023-12-21 16:39:18,676 minium minitest#717 capture] capture setup.png
[I 2023-12-21 16:39:18,677 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:39:18,679 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"220817e5-1ad6-4c87-9cc6-31be1837e7e1","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:39:18,882 minium.Conn4880 connection#651 __on_message] RECV < {"id":"220817e5-1ad6-4c87-9cc6-31be1837e7e1","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:39:18,890 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:39:18,890 minium minitest#424 _miniSetUp] =========case: test_search start=========
[I 2023-12-21 16:39:18,894 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 16:39:18,898 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"efa7a0dc-bb2a-431f-939b-e79a68cdf656","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":2}}
[D 2023-12-21 16:39:19,150 minium.Conn4880 connection#653 __on_message] RECV < {"id":"efa7a0dc-bb2a-431f-939b-e79a68cdf656","result":{"elements":[{"elementId":"da8d1566-df97-4479-a97a-ccb9902a4f0b","tagName":"input"}]}}
[I 2023-12-21 16:39:19,154 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000002518479EA10>]
[I 2023-12-21 16:39:19,358 minium minitest#717 capture] capture assertTrue-success.png
[I 2023-12-21 16:39:19,362 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:39:19,362 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"1313f62f-7a12-455e-ae22-7f834c61030a","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:39:19,954 minium.Conn4880 connection#651 __on_message] RECV < {"id":"1313f62f-7a12-455e-ae22-7f834c61030a","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:39:19,958 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:39:19,964 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 16:39:19,965 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"1beb2f22-aedb-4caa-bc1d-0f67c65d1739","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":2}}
[D 2023-12-21 16:39:19,991 minium.Conn4880 connection#653 __on_message] RECV < {"id":"1beb2f22-aedb-4caa-bc1d-0f67c65d1739","result":{"elements":[{"elementId":"da8d1566-df97-4479-a97a-ccb9902a4f0b","tagName":"input"}]}}
[I 2023-12-21 16:39:19,994 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000002518479F610>]
[D 2023-12-21 16:39:24,998 minium page#321 wait_for] waitFor: 5.002386569976807 s
[I 2023-12-21 16:39:24,998 minium page#557 _get_elements_by_css] try to get elements: view[data-index='1']
[D 2023-12-21 16:39:25,005 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"3eca3051-e749-4ac3-9adf-28ce3fc2cf81","method":"Page.getElements","params":{"selector":"view[data-index='1']","pageId":2}}
[D 2023-12-21 16:39:25,042 minium.Conn4880 connection#653 __on_message] RECV < {"id":"3eca3051-e749-4ac3-9adf-28ce3fc2cf81","result":{"elements":[{"elementId":"e122c650-97fd-46cb-ba56-097290ebd395","tagName":"view"}]}}
[I 2023-12-21 16:39:25,047 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000025183742D10>]
[I 2023-12-21 16:39:25,055 minium minitest#717 capture] capture assertTrue-success_163925055170.png
[I 2023-12-21 16:39:25,056 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:39:25,059 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"92bca61f-1141-4589-9fee-a9505ae10111","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:39:25,446 minium.Conn4880 connection#651 __on_message] RECV < {"id":"92bca61f-1141-4589-9fee-a9505ae10111","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:39:25,457 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:39:25,459 minium page#557 _get_elements_by_css] try to get elements: view[data-index='1']
[D 2023-12-21 16:39:25,463 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"9dd0de06-5a76-48de-9c4f-f305edddaff1","method":"Page.getElements","params":{"selector":"view[data-index='1']","pageId":2}}
[D 2023-12-21 16:39:25,491 minium.Conn4880 connection#653 __on_message] RECV < {"id":"9dd0de06-5a76-48de-9c4f-f305edddaff1","result":{"elements":[{"elementId":"e122c650-97fd-46cb-ba56-097290ebd395","tagName":"view"}]}}
[I 2023-12-21 16:39:25,495 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x000002518479EB50>]
[D 2023-12-21 16:39:25,496 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"6c5038c6-38c7-46d8-8f99-3cc97bc1be02","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"e122c650-97fd-46cb-ba56-097290ebd395","pageId":2}}
[D 2023-12-21 16:39:25,509 minium.Conn4880 connection#653 __on_message] RECV < {"id":"6c5038c6-38c7-46d8-8f99-3cc97bc1be02","result":{"styles":["auto"]}}
[D 2023-12-21 16:39:25,509 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"333d9ba4-f33b-4cbc-8820-d6d276cc41e7","method":"Element.tap","params":{"elementId":"e122c650-97fd-46cb-ba56-097290ebd395","pageId":2}}
[D 2023-12-21 16:39:25,570 minium.Conn4880 connection#653 __on_message] RECV < {"id":"333d9ba4-f33b-4cbc-8820-d6d276cc41e7","result":{}}
[D 2023-12-21 16:39:31,582 minium page#321 wait_for] waitFor: 5.001085996627808 s
[D 2023-12-21 16:39:31,582 minium minitest#620 _miniTearDown] =========Current case Down: test_search=========
[I 2023-12-21 16:39:31,589 minium minitest#717 capture] capture teardown.png
[I 2023-12-21 16:39:31,594 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:39:31,598 minium.Conn4880 connection#417 _safely_send] SEND > {"id":"85d04d58-06d3-4490-932b-0c23d3cb4b15","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:39:32,129 minium.Conn4880 connection#651 __on_message] RECV < {"id":"85d04d58-06d3-4490-932b-0c23d3cb4b15","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:39:32,150 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:39:32,152 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2023-12-21 16:39:32,152 minium basenative#29 wrapper] call BaseNative.get_start_up end
[I 2023-12-21 16:39:42,183 minium.SESSION session#67 run] case queue is empty, test complete, release None
[D 2023-12-21 16:39:42,189 minium.Conn4880 connection#417 _safely_send] ASYNC_SEND > {"id":"ee63b967-5a11-42fe-8092-3dd7d3559bac","method":"Tool.close","params":{}}
[D 2023-12-21 16:39:42,191 minium.Conn4880 connection#653 __on_message] RECV < {"id":"ee63b967-5a11-42fe-8092-3dd7d3559bac","result":{}}
[I 2023-12-21 16:39:42,194 minium.Conn4880 connection#697 _handle_async_msg] received async msg: ee63b967-5a11-42fe-8092-3dd7d3559bac, maybe command ignore response
[E 2023-12-21 16:39:42,227 minium.Conn4880 connection#632 _on_error] Connection to remote host was lost.
[I 2023-12-21 16:39:42,230 minium.Conn4880 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2023-12-21 16:39:43,192 minium basenative#25 wrapper] call IdeNative.stop_wechat
[I 2023-12-21 16:39:43,192 minium basenative#29 wrapper] call IdeNative.stop_wechat end
[I 2023-12-21 16:39:43,194 minium basenative#25 wrapper] call IdeNative.release
[I 2023-12-21 16:39:43,196 minium basenative#25 wrapper] call BaseNative.release
[I 2023-12-21 16:39:43,197 minium basenative#101 release] Native release
[I 2023-12-21 16:39:43,198 minium basenative#25 wrapper] call BaseNative.release_auto_authorize
[I 2023-12-21 16:39:43,198 minium basenative#29 wrapper] call BaseNative.release_auto_authorize end
[I 2023-12-21 16:39:43,202 minium basenative#29 wrapper] call BaseNative.release end
[I 2023-12-21 16:39:43,206 minium basenative#29 wrapper] call IdeNative.release end
[D 2023-12-21 16:43:28,897 minium loader#135 load_from_module] Loading module: test3.search_test
[D 2023-12-21 16:43:28,909 minium loader#139 load_from_module] put module[test3.search_test] into queue
[I 2023-12-21 16:43:28,960 minium loader#298 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test3', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-3', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221164328'}

[D 2023-12-21 16:43:29,989 minium minitest#278 _miniClassSetUp] =====================
[D 2023-12-21 16:43:29,989 minium minitest#279 _miniClassSetUp] Testing class：FirstTest
[D 2023-12-21 16:43:29,993 minium minitest#280 _miniClassSetUp] =====================
[I 2023-12-21 16:43:29,995 minium minitest#173 init_miniprogram] start init miniprogram
[I 2023-12-21 16:43:29,997 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2023-12-21 16:43:30,005 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2023-12-21 16:43:30,021 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2023-12-21 16:43:30,037 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\Users\zhiha\WeChatProjects\miniprogram-3" --auto-port 9420
[I 2023-12-21 16:43:35,094 minium minium_object#101 _do_shell] err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:40354
- preparing
- Fetching AppID (wx02da6f6037f28c99) permissions
√ Using AppID: wx02da6f6037f28c99
√ auto

[I 2023-12-21 16:43:35,094 minium minium_object#102 _do_shell] out:

[I 2023-12-21 16:43:45,099 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2023-12-21 16:43:45,305 minium.Conn8400 connection#342 _connect] connect to WebChatTools successfully
[D 2023-12-21 16:43:45,309 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"75d4b593-f860-4049-8ce7-1db2c3b28603","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:43:45,401 minium.Conn8400 connection#653 __on_message] RECV < {"id":"75d4b593-f860-4049-8ce7-1db2c3b28603","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:43:45,401 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"69630b59-bf51-4797-92a1-9fa41cc5834c","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:43:57,055 minium.Conn8400 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2023-12-21 16:43:57,061 minium.Conn8400 connection#651 __on_message] RECV < {"id":"69630b59-bf51-4797-92a1-9fa41cc5834c","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":27,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[D 2023-12-21 16:43:57,065 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2023-12-21 16:43:57,065 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"4a1a5ca5-f180-4b30-a99f-f4489fed0109","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2023-12-21 16:43:57,081 minium.Conn8400 connection#653 __on_message] RECV < {"id":"4a1a5ca5-f180-4b30-a99f-f4489fed0109","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2023-12-21 16:43:57,081 minium.Conn8400 connection#283 remove] remove key which is not in observers
[D 2023-12-21 16:43:57,086 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"caa62e16-5308-435e-afa9-f75a011ba164","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2023-12-21 16:43:57,093 minium.Conn8400 connection#653 __on_message] RECV < {"id":"caa62e16-5308-435e-afa9-f75a011ba164","result":{}}
[D 2023-12-21 16:43:57,093 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"6e1e17eb-8ff7-47bd-a11d-5babea42d1d5","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2023-12-21 16:43:57,101 minium.Conn8400 connection#653 __on_message] RECV < {"id":"6e1e17eb-8ff7-47bd-a11d-5babea42d1d5","result":{}}
[D 2023-12-21 16:43:57,105 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2023-12-21 16:43:57,105 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"2361ccc3-a9bb-4583-ad9d-907762eff2f6","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2023-12-21 16:43:57,121 minium.Conn8400 connection#653 __on_message] RECV < {"id":"2361ccc3-a9bb-4583-ad9d-907762eff2f6","result":{}}
[D 2023-12-21 16:43:57,121 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2023-12-21 16:43:57,125 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"f8c45d76-baf7-49e9-95e7-3b7e9d23522e","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2023-12-21 16:43:57,141 minium.Conn8400 connection#653 __on_message] RECV < {"id":"f8c45d76-baf7-49e9-95e7-3b7e9d23522e","result":{}}
[D 2023-12-21 16:43:57,141 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2023-12-21 16:43:57,147 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"759312b4-890a-4482-a1c9-27d3ed0f335b","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2023-12-21 16:43:57,157 minium.Conn8400 connection#653 __on_message] RECV < {"id":"759312b4-890a-4482-a1c9-27d3ed0f335b","result":{"result":true}}
[D 2023-12-21 16:43:57,157 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"fa08e68a-804a-46d4-8a16-584bdd3139ed","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2023-12-21 16:43:57,213 minium.Conn8400 connection#651 __on_message] RECV < {"id":"fa08e68a-804a-46d4-8a16-584bdd3139ed","result":{"result":{"pages":["pages/home/home","pages/usercenter/index","pages/usercenter/person-info/index","pages/usercenter/address/list/index","pages/usercenter/address/edit/index","pages/goods/list/index","pages/goods/details/index","pages/goods/category/index","pages/goods/search/index","pages/goods/result/index","pages/cart/index","pages/order/order-confirm/index","pages/order/receipt/index","pages/order/pay-result/index","pages/order/order-list/index",...
[D 2023-12-21 16:43:57,217 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"13f3bbb7-4952-4b0f-a73d-272a3fa87402","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2023-12-21 16:43:57,241 minium.Conn8400 connection#653 __on_message] RECV < {"id":"13f3bbb7-4952-4b0f-a73d-272a3fa87402","result":{"result":{"miniProgram":{"appId":"wx02da6f6037f28c99","envVersion":"develop","version":""}}}}
[D 2023-12-21 16:43:57,241 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"376deaf5-ef70-4712-9338-bd85fed966ff","method":"App.addBinding","params":{"name":"showModal_before_1703195037241"}}
[D 2023-12-21 16:43:57,249 minium.Conn8400 connection#653 __on_message] RECV < {"id":"376deaf5-ef70-4712-9338-bd85fed966ff","result":{}}
[D 2023-12-21 16:43:57,255 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"f54e4ed6-e052-420b-abcb-e66990d11264","method":"App.addBinding","params":{"name":"showModal_callback_1703195037241"}}
[D 2023-12-21 16:43:57,285 minium.Conn8400 connection#653 __on_message] RECV < {"id":"f54e4ed6-e052-420b-abcb-e66990d11264","result":{}}
[D 2023-12-21 16:43:57,285 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:43:57,289 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"c334fe9d-49bc-4b24-9092-3b3b1fbe38a9","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1703195037241,after:undefined,callback:showModal_callback_1703195037241},!0):global.__minium__.delCall(_,l)}","args":["showModal",1703195037241,true]}}
[D 2023-12-21 16:43:57,321 minium.Conn8400 connection#653 __on_message] RECV < {"id":"c334fe9d-49bc-4b24-9092-3b3b1fbe38a9","result":{}}
[D 2023-12-21 16:43:57,325 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"02659281-3a3b-49d7-b915-2e0e68c34439","method":"App.addBinding","params":{"name":"showToast_before_1703195037325"}}
[D 2023-12-21 16:43:57,333 minium.Conn8400 connection#653 __on_message] RECV < {"id":"02659281-3a3b-49d7-b915-2e0e68c34439","result":{}}
[D 2023-12-21 16:43:57,337 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"a1375be4-5a1e-457b-8a2b-ce2c736a644f","method":"App.addBinding","params":{"name":"showToast_callback_1703195037325"}}
[D 2023-12-21 16:43:57,341 minium.Conn8400 connection#653 __on_message] RECV < {"id":"a1375be4-5a1e-457b-8a2b-ce2c736a644f","result":{}}
[D 2023-12-21 16:43:57,345 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:43:57,345 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"8ec239c2-9cd6-4f31-ac8c-732d899ed07a","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1703195037325,after:undefined,callback:showToast_callback_1703195037325},!0):global.__minium__.delCall(_,l)}","args":["showToast",1703195037325,true]}}
[D 2023-12-21 16:43:57,356 minium.Conn8400 connection#653 __on_message] RECV < {"id":"8ec239c2-9cd6-4f31-ac8c-732d899ed07a","result":{}}
[D 2023-12-21 16:43:57,357 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"848f85da-13ac-4e36-97f3-ba39f291c8f8","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2023-12-21 16:43:57,365 minium.Conn8400 connection#653 __on_message] RECV < {"id":"848f85da-13ac-4e36-97f3-ba39f291c8f8","result":{"result":{"path":"pages/home/home","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2023-12-21 16:43:57,369 minium app#731 relaunch] ReLaunch: /pages/home/home
[D 2023-12-21 16:43:57,369 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"0f4f6640-50fb-4b8a-a967-0905aac0225c","method":"App.getCurrentPage","params":{}}
[D 2023-12-21 16:43:57,373 minium.Conn8400 connection#653 __on_message] RECV < {"id":"0f4f6640-50fb-4b8a-a967-0905aac0225c","result":{"pageId":1,"path":"pages/home/home","query":{}}}
[D 2023-12-21 16:43:57,377 minium.Conn8400 connection#417 _safely_send] ASYNC_SEND > {"id":"e4af741a-5d12-4161-9014-010341b0f516","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:43:57,533 minium.Conn8400 connection#653 __on_message] RECV < {"id":"e4af741a-5d12-4161-9014-010341b0f516","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2023-12-21 16:43:57,537 minium.Conn8400 connection#697 _handle_async_msg] received async msg: e4af741a-5d12-4161-9014-010341b0f516
[D 2023-12-21 16:43:59,781 minium.Conn8400 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/home/home","query":{},"openType":"reLaunch","__ts__":1703195039675},1703195039682]}}
[I 2023-12-21 16:43:59,785 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/home/home', 'query': {}, 'openType': 'reLaunch', '__ts__': 1703195039675}, 1703195039682]}
[D 2023-12-21 16:43:59,785 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"baaaa2a3-6647-462a-8db1-905cabc06329","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:43:59,801 minium.Conn8400 connection#653 __on_message] RECV < {"id":"baaaa2a3-6647-462a-8db1-905cabc06329","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:43:59,805 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"ea98848c-a7ae-46da-965c-8eead68ffadb","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2023-12-21 16:43:59,833 minium.Conn8400 connection#653 __on_message] RECV < {"id":"ea98848c-a7ae-46da-965c-8eead68ffadb","result":{"result":false}}
[D 2023-12-21 16:43:59,837 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2023-12-21 16:43:59,837 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"fcf671ec-44df-4855-a97e-21f047b2d8c6","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2023-12-21 16:43:59,956 minium.Conn8400 connection#653 __on_message] RECV < {"id":"fcf671ec-44df-4855-a97e-21f047b2d8c6","result":{}}
[D 2023-12-21 16:43:59,960 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"61c5e81b-c7a9-40a6-8a34-d2704f0e0348","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2023-12-21 16:44:00,641 minium.Conn8400 connection#653 __on_message] RECV < {"id":"61c5e81b-c7a9-40a6-8a34-d2704f0e0348","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2023-12-21 16:44:00,641 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"06e1f439-4c72-4033-b8b6-8120f6491aec","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2023-12-21 16:44:00,653 minium.Conn8400 connection#653 __on_message] RECV < {"id":"06e1f439-4c72-4033-b8b6-8120f6491aec","result":{}}
[D 2023-12-21 16:44:00,653 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"5d5bf2b7-3917-4b60-b9c7-ce2ecd707b8d","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2023-12-21 16:44:00,661 minium.Conn8400 connection#653 __on_message] RECV < {"id":"5d5bf2b7-3917-4b60-b9c7-ce2ecd707b8d","result":{"result":{"accountInfo":{"appId":"wx02da6f6037f28c99","nickname":"sandbox account of wxid_yalgzp87d9zt12","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2023-12-21 16:44:00,665 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"d0433a88-18e9-45cf-9918-080cc3aa27b6","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:44:00,673 minium.Conn8400 connection#651 __on_message] RECV < {"id":"d0433a88-18e9-45cf-9918-080cc3aa27b6","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":27,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[I 2023-12-21 16:44:00,677 minium minitest#189 init_miniprogram] end init miniprogram
[I 2023-12-21 16:44:00,681 minium minitest#370 _miniSetUp] =========Current case: test_search=========
[I 2023-12-21 16:44:00,681 minium minitest#373 _miniSetUp] package info: C:.Users.zhiha.OneDrive.Desktop.auto_minium.test3.search_test, case info: FirstTest.test_search
[I 2023-12-21 16:44:00,685 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2023-12-21 16:44:00,685 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2023-12-21 16:44:00,685 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2023-12-21 16:44:00,689 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2023-12-21 16:44:00,689 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2023-12-21 16:44:00,702 minium.Conn8400 connection#417 _safely_send] ASYNC_SEND > {"id":"111533fd-028d-4170-aff1-f09228c201c5","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:44:00,796 minium.Conn8400 connection#653 __on_message] RECV < {"id":"111533fd-028d-4170-aff1-f09228c201c5","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2023-12-21 16:44:00,800 minium.Conn8400 connection#697 _handle_async_msg] received async msg: 111533fd-028d-4170-aff1-f09228c201c5
[I 2023-12-21 16:44:00,800 minium minitest#717 capture] capture setup.png
[I 2023-12-21 16:44:00,805 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:44:00,805 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"ff5079a1-dbeb-4bfd-95c1-8940a06ae170","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:44:00,997 minium.Conn8400 connection#651 __on_message] RECV < {"id":"ff5079a1-dbeb-4bfd-95c1-8940a06ae170","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:44:01,001 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:44:01,001 minium minitest#424 _miniSetUp] =========case: test_search start=========
[I 2023-12-21 16:44:01,005 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 16:44:01,009 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"20ad75b4-5e6b-496a-a5ad-dafbd2c4fd37","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":2}}
[D 2023-12-21 16:44:02,681 minium.Conn8400 connection#653 __on_message] RECV < {"id":"20ad75b4-5e6b-496a-a5ad-dafbd2c4fd37","result":{"elements":[{"elementId":"f30fb074-4f6f-4ba6-b6f6-64d7bf144c8e","tagName":"input"}]}}
[I 2023-12-21 16:44:02,681 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001A0F604FC10>]
[I 2023-12-21 16:44:02,862 minium minitest#717 capture] capture assertTrue-success.png
[I 2023-12-21 16:44:02,866 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:44:02,870 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"5092b656-f359-4af4-81c6-c214a81791db","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:44:03,413 minium.Conn8400 connection#651 __on_message] RECV < {"id":"5092b656-f359-4af4-81c6-c214a81791db","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:44:03,417 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:44:03,417 minium page#557 _get_elements_by_css] try to get elements: view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']
[D 2023-12-21 16:44:03,417 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"2772d71e-9191-45cd-8cc2-221050c110ab","method":"Page.getElements","params":{"selector":"view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']","pageId":2}}
[D 2023-12-21 16:44:03,865 minium.Conn8400 connection#653 __on_message] RECV < {"id":"2772d71e-9191-45cd-8cc2-221050c110ab","result":{"elements":[]}}
[W 2023-12-21 16:44:03,869 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']' you need
[I 2023-12-21 16:44:04,873 minium page#557 _get_elements_by_css] try to get elements: view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']
[D 2023-12-21 16:44:04,873 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"920f5710-797f-4452-b41a-dd26471c5bb5","method":"Page.getElements","params":{"selector":"view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']","pageId":2}}
[D 2023-12-21 16:44:04,989 minium.Conn8400 connection#653 __on_message] RECV < {"id":"920f5710-797f-4452-b41a-dd26471c5bb5","result":{"elements":[]}}
[W 2023-12-21 16:44:04,990 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']' you need
[I 2023-12-21 16:44:05,993 minium page#557 _get_elements_by_css] try to get elements: view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']
[D 2023-12-21 16:44:05,997 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"f7cf4a9e-da66-4605-ac8f-eeeb957b656d","method":"Page.getElements","params":{"selector":"view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']","pageId":2}}
[D 2023-12-21 16:44:06,021 minium.Conn8400 connection#653 __on_message] RECV < {"id":"f7cf4a9e-da66-4605-ac8f-eeeb957b656d","result":{"elements":[]}}
[W 2023-12-21 16:44:06,025 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']' you need
[I 2023-12-21 16:44:07,029 minium page#557 _get_elements_by_css] try to get elements: view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']
[D 2023-12-21 16:44:07,029 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"50be9025-17b6-49a1-b0f5-a50ec22d3e88","method":"Page.getElements","params":{"selector":"view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']","pageId":2}}
[D 2023-12-21 16:44:07,062 minium.Conn8400 connection#653 __on_message] RECV < {"id":"50be9025-17b6-49a1-b0f5-a50ec22d3e88","result":{"elements":[]}}
[W 2023-12-21 16:44:07,066 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']' you need
[I 2023-12-21 16:44:08,068 minium page#557 _get_elements_by_css] try to get elements: view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']
[D 2023-12-21 16:44:08,094 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"0c3b38a4-3308-4cef-a23d-cb9495d6631d","method":"Page.getElements","params":{"selector":"view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']","pageId":2}}
[D 2023-12-21 16:44:08,176 minium.Conn8400 connection#653 __on_message] RECV < {"id":"0c3b38a4-3308-4cef-a23d-cb9495d6631d","result":{"elements":[]}}
[W 2023-12-21 16:44:08,176 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']' you need
[I 2023-12-21 16:44:09,182 minium page#557 _get_elements_by_css] try to get elements: view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']
[D 2023-12-21 16:44:09,184 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"d2d059df-eb82-4107-bc17-f6d737c56553","method":"Page.getElements","params":{"selector":"view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']","pageId":2}}
[D 2023-12-21 16:44:09,231 minium.Conn8400 connection#653 __on_message] RECV < {"id":"d2d059df-eb82-4107-bc17-f6d737c56553","result":{"elements":[]}}
[W 2023-12-21 16:44:09,235 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']' you need
[I 2023-12-21 16:44:10,254 minium page#557 _get_elements_by_css] try to get elements: view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']
[D 2023-12-21 16:44:10,254 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"9ba329cd-6683-4d70-af43-8d1a8c03b61a","method":"Page.getElements","params":{"selector":"view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']","pageId":2}}
[D 2023-12-21 16:44:10,266 minium.Conn8400 connection#653 __on_message] RECV < {"id":"9ba329cd-6683-4d70-af43-8d1a8c03b61a","result":{"elements":[]}}
[W 2023-12-21 16:44:10,270 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']' you need
[I 2023-12-21 16:44:11,273 minium page#557 _get_elements_by_css] try to get elements: view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']
[D 2023-12-21 16:44:11,273 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"d4b91f99-aaae-4d36-8a30-14fd275698a9","method":"Page.getElements","params":{"selector":"view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']","pageId":2}}
[D 2023-12-21 16:44:11,313 minium.Conn8400 connection#653 __on_message] RECV < {"id":"d4b91f99-aaae-4d36-8a30-14fd275698a9","result":{"elements":[]}}
[W 2023-12-21 16:44:11,314 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']' you need
[I 2023-12-21 16:44:12,318 minium page#557 _get_elements_by_css] try to get elements: view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']
[D 2023-12-21 16:44:12,318 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"24a37356-f8b0-458c-9c95-d34f0a22c3c5","method":"Page.getElements","params":{"selector":"view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']","pageId":2}}
[D 2023-12-21 16:44:12,329 minium.Conn8400 connection#653 __on_message] RECV < {"id":"24a37356-f8b0-458c-9c95-d34f0a22c3c5","result":{"elements":[]}}
[W 2023-12-21 16:44:12,333 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']' you need
[I 2023-12-21 16:44:13,349 minium page#557 _get_elements_by_css] try to get elements: view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']
[D 2023-12-21 16:44:13,351 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"9358b612-7da9-4d8e-8785-7ed7c7ede9c7","method":"Page.getElements","params":{"selector":"view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']","pageId":2}}
[D 2023-12-21 16:44:13,396 minium.Conn8400 connection#653 __on_message] RECV < {"id":"9358b612-7da9-4d8e-8785-7ed7c7ede9c7","result":{"elements":[]}}
[W 2023-12-21 16:44:13,396 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-search__input-box t-not-focused t-search__input-box-- t-search__input-box--square t-class-input-container']' you need
[I 2023-12-21 16:44:14,410 minium minitest#717 capture] capture assertTrue-failed.png
[I 2023-12-21 16:44:14,411 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:44:14,413 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"2cec91c7-152b-4972-9ad9-87d42bce4ffb","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:44:15,017 minium.Conn8400 connection#651 __on_message] RECV < {"id":"2cec91c7-152b-4972-9ad9-87d42bce4ffb","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:44:15,025 minium basenative#29 wrapper] call IdeNative.screen_shot end
[D 2023-12-21 16:44:15,059 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"cbd06594-87f1-4ade-8793-ae465a276829","method":"Page.getElementByXpath","params":{"selector":"/*","pageId":2}}
[D 2023-12-21 16:44:15,088 minium.Conn8400 connection#653 __on_message] RECV < {"id":"cbd06594-87f1-4ade-8793-ae465a276829","result":{"elementId":"c9f8c441-c86a-4d0a-9b28-f49a9dcde5cc","tagName":"tab-bar-wrapper"}}
[D 2023-12-21 16:44:15,092 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"31baf49a-bd08-44ba-8a7d-7e2fd27909c6","method":"Element.getWXML","params":{"type":"outer","elementId":"c9f8c441-c86a-4d0a-9b28-f49a9dcde5cc","pageId":2}}
[D 2023-12-21 16:44:15,121 minium.Conn8400 connection#651 __on_message] RECV < {"id":"31baf49a-bd08-44ba-8a7d-7e2fd27909c6","result":{"wxml":"<tab-bar-wrapper><view role=\"tablist\" aria-role=\"tablist\" class=\"t-tab-bar bar--t-tab-bar t-tab-bar--border bar--t-tab-bar--border t-tab-bar--fixed bar--t-tab-bar--fixed t-tab-bar--safe bar--t-tab-bar--safe t-tab-bar--normal bar--t-tab-bar--normal  \" style=\"\"><view class=\"t-tab-bar-item item--t-tab-bar-item t-tab-bar-item--text-only item--t-tab-bar-item--text-only t-tab-bar-item--normal item--t-tab-bar-item--normal  \" style=\"\"><vi...
[D 2023-12-21 16:44:15,125 minium minitest#620 _miniTearDown] =========Current case Down: test_search=========
[I 2023-12-21 16:44:15,129 minium minitest#717 capture] capture teardown.png
[I 2023-12-21 16:44:15,135 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:44:15,136 minium.Conn8400 connection#417 _safely_send] SEND > {"id":"34374f7f-3a42-4237-8d71-1177e5266b21","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:44:15,773 minium.Conn8400 connection#651 __on_message] RECV < {"id":"34374f7f-3a42-4237-8d71-1177e5266b21","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:44:15,793 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:44:15,795 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2023-12-21 16:44:15,797 minium basenative#29 wrapper] call BaseNative.get_start_up end
[E 2023-12-21 16:44:15,809 minium assertbase#349 _get_stack_info] <bound method FirstTest.test_search of <test3.search_test.FirstTest testMethod=test_search>>
Traceback (most recent call last):
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\minium\framework\libs\unittest\case.py", line 42, in testPartExecutor
    yield
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\minium\framework\libs\unittest\case.py", line 124, in run
    self._callTestMethod(testMethod)
AssertionError: False is not true : 首页是否存在输入框 view
[W 2023-12-21 16:44:15,810 minium assertbase#331 _log_info_when_error] config: {'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test3', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-3', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221164328', 'case_output': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs\\20231221164328\\test_search\\20231221164400677646'}
[W 2023-12-21 16:44:15,817 minium assertbase#332 _log_info_when_error] build info: {'version': '1.4.6', 'revision': 'b389ff4b1d94cc73bb5363fc602f5823512df292', 'branch': 'master', 'update_at': '2023-08-28 17:46:51'}
[W 2023-12-21 16:44:15,818 minium minitest#828 _log_info_when_error] native: <minium.native.wx_native.idenative.IdeNative object at 0x000001A0F5FFDA50>
[I 2023-12-21 16:44:25,840 minium.SESSION session#67 run] case queue is empty, test complete, release None
[D 2023-12-21 16:44:25,840 minium.Conn8400 connection#417 _safely_send] ASYNC_SEND > {"id":"49f42f44-da33-4b4c-88dd-6cf732c9c006","method":"Tool.close","params":{}}
[D 2023-12-21 16:44:25,844 minium.Conn8400 connection#653 __on_message] RECV < {"id":"49f42f44-da33-4b4c-88dd-6cf732c9c006","result":{}}
[I 2023-12-21 16:44:25,846 minium.Conn8400 connection#697 _handle_async_msg] received async msg: 49f42f44-da33-4b4c-88dd-6cf732c9c006, maybe command ignore response
[E 2023-12-21 16:44:25,871 minium.Conn8400 connection#632 _on_error] Connection to remote host was lost.
[I 2023-12-21 16:44:25,874 minium.Conn8400 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2023-12-21 16:44:26,844 minium basenative#25 wrapper] call IdeNative.stop_wechat
[I 2023-12-21 16:44:26,845 minium basenative#29 wrapper] call IdeNative.stop_wechat end
[I 2023-12-21 16:44:26,846 minium basenative#25 wrapper] call IdeNative.release
[I 2023-12-21 16:44:26,853 minium basenative#25 wrapper] call BaseNative.release
[I 2023-12-21 16:44:26,853 minium basenative#101 release] Native release
[I 2023-12-21 16:44:26,858 minium basenative#25 wrapper] call BaseNative.release_auto_authorize
[I 2023-12-21 16:44:26,871 minium basenative#29 wrapper] call BaseNative.release_auto_authorize end
[I 2023-12-21 16:44:26,873 minium basenative#29 wrapper] call BaseNative.release end
[I 2023-12-21 16:44:26,876 minium basenative#29 wrapper] call IdeNative.release end
[D 2023-12-21 16:44:50,996 minium loader#135 load_from_module] Loading module: test3.search_test
[D 2023-12-21 16:44:51,004 minium loader#139 load_from_module] put module[test3.search_test] into queue
[I 2023-12-21 16:44:51,093 minium loader#298 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test3', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-3', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221164450'}

[D 2023-12-21 16:44:51,997 minium minitest#278 _miniClassSetUp] =====================
[D 2023-12-21 16:44:51,997 minium minitest#279 _miniClassSetUp] Testing class：FirstTest
[D 2023-12-21 16:44:51,997 minium minitest#280 _miniClassSetUp] =====================
[I 2023-12-21 16:44:52,001 minium minitest#173 init_miniprogram] start init miniprogram
[I 2023-12-21 16:44:52,009 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2023-12-21 16:44:52,033 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2023-12-21 16:44:52,037 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2023-12-21 16:44:52,041 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\Users\zhiha\WeChatProjects\miniprogram-3" --auto-port 9420
[I 2023-12-21 16:44:59,498 minium minium_object#101 _do_shell] err:
- initialize

× IDE may already started at port 40354, trying to connect

√ IDE server started successfully, listening on http://127.0.0.1:25532
- preparing
- Fetching AppID (wx02da6f6037f28c99) permissions
√ Using AppID: wx02da6f6037f28c99
√ auto

[I 2023-12-21 16:44:59,501 minium minium_object#102 _do_shell] out:

[I 2023-12-21 16:45:09,503 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2023-12-21 16:45:09,677 minium.Conn6544 connection#342 _connect] connect to WebChatTools successfully
[D 2023-12-21 16:45:09,685 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"7653ae4e-ae61-49bc-b704-321fa2d2983a","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:45:09,713 minium.Conn6544 connection#653 __on_message] RECV < {"id":"7653ae4e-ae61-49bc-b704-321fa2d2983a","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:45:09,721 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"df024e0d-12fd-4ecd-a15e-c0986bb43b3e","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:45:20,403 minium.Conn6544 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2023-12-21 16:45:20,412 minium.Conn6544 connection#651 __on_message] RECV < {"id":"df024e0d-12fd-4ecd-a15e-c0986bb43b3e","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":26,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[D 2023-12-21 16:45:20,413 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2023-12-21 16:45:20,416 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"d6754276-3b7d-4807-a79b-74d7077bdd69","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2023-12-21 16:45:20,428 minium.Conn6544 connection#653 __on_message] RECV < {"id":"d6754276-3b7d-4807-a79b-74d7077bdd69","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2023-12-21 16:45:20,428 minium.Conn6544 connection#283 remove] remove key which is not in observers
[D 2023-12-21 16:45:20,433 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"edeeae88-8451-4259-9d6f-bf644ddf630a","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2023-12-21 16:45:20,437 minium.Conn6544 connection#653 __on_message] RECV < {"id":"edeeae88-8451-4259-9d6f-bf644ddf630a","result":{}}
[D 2023-12-21 16:45:20,441 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"ed58b935-8d58-4479-b2aa-9bfb955f1ba1","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2023-12-21 16:45:20,449 minium.Conn6544 connection#653 __on_message] RECV < {"id":"ed58b935-8d58-4479-b2aa-9bfb955f1ba1","result":{}}
[D 2023-12-21 16:45:20,452 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2023-12-21 16:45:20,453 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"bdc6c483-1df2-4aa4-87c9-d847d5c4de89","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2023-12-21 16:45:20,469 minium.Conn6544 connection#653 __on_message] RECV < {"id":"bdc6c483-1df2-4aa4-87c9-d847d5c4de89","result":{}}
[D 2023-12-21 16:45:20,473 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2023-12-21 16:45:20,479 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"6fb6f76e-dd5f-4401-9634-c608800022ed","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2023-12-21 16:45:20,494 minium.Conn6544 connection#653 __on_message] RECV < {"id":"6fb6f76e-dd5f-4401-9634-c608800022ed","result":{}}
[D 2023-12-21 16:45:20,497 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2023-12-21 16:45:20,498 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"f7cd1056-e533-4dde-b01b-f97a73dc5734","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2023-12-21 16:45:20,512 minium.Conn6544 connection#653 __on_message] RECV < {"id":"f7cd1056-e533-4dde-b01b-f97a73dc5734","result":{"result":true}}
[D 2023-12-21 16:45:20,515 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"3ce9664f-d5cb-4b9e-afea-7c9140dc3acd","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2023-12-21 16:45:20,523 minium.Conn6544 connection#651 __on_message] RECV < {"id":"3ce9664f-d5cb-4b9e-afea-7c9140dc3acd","result":{"result":{"pages":["pages/home/home","pages/usercenter/index","pages/usercenter/person-info/index","pages/usercenter/address/list/index","pages/usercenter/address/edit/index","pages/goods/list/index","pages/goods/details/index","pages/goods/category/index","pages/goods/search/index","pages/goods/result/index","pages/cart/index","pages/order/order-confirm/index","pages/order/receipt/index","pages/order/pay-result/index","pages/order/order-list/index",...
[D 2023-12-21 16:45:20,527 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"e4ecbcbd-501f-41a7-9bcd-1fe6cd642ffa","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2023-12-21 16:45:20,533 minium.Conn6544 connection#653 __on_message] RECV < {"id":"e4ecbcbd-501f-41a7-9bcd-1fe6cd642ffa","result":{"result":{"miniProgram":{"appId":"wx02da6f6037f28c99","envVersion":"develop","version":""}}}}
[D 2023-12-21 16:45:20,538 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"2413ee87-6a58-4019-b6b3-1654ae7192be","method":"App.addBinding","params":{"name":"showModal_before_1703195120537"}}
[D 2023-12-21 16:45:20,545 minium.Conn6544 connection#653 __on_message] RECV < {"id":"2413ee87-6a58-4019-b6b3-1654ae7192be","result":{}}
[D 2023-12-21 16:45:20,547 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"2efe2cdb-9f7f-4d4b-b0b1-6844da05c177","method":"App.addBinding","params":{"name":"showModal_callback_1703195120537"}}
[D 2023-12-21 16:45:20,553 minium.Conn6544 connection#653 __on_message] RECV < {"id":"2efe2cdb-9f7f-4d4b-b0b1-6844da05c177","result":{}}
[D 2023-12-21 16:45:20,553 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:45:20,558 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"2e47a98c-dbb3-4a23-96e4-09920be542a3","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1703195120537,after:undefined,callback:showModal_callback_1703195120537},!0):global.__minium__.delCall(_,l)}","args":["showModal",1703195120537,true]}}
[D 2023-12-21 16:45:20,566 minium.Conn6544 connection#653 __on_message] RECV < {"id":"2e47a98c-dbb3-4a23-96e4-09920be542a3","result":{}}
[D 2023-12-21 16:45:20,569 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"8a58b72d-8880-4130-895d-ad1a365e4031","method":"App.addBinding","params":{"name":"showToast_before_1703195120566"}}
[D 2023-12-21 16:45:20,573 minium.Conn6544 connection#653 __on_message] RECV < {"id":"8a58b72d-8880-4130-895d-ad1a365e4031","result":{}}
[D 2023-12-21 16:45:20,577 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"7c053f67-262b-4b3f-9e18-460939f69a86","method":"App.addBinding","params":{"name":"showToast_callback_1703195120566"}}
[D 2023-12-21 16:45:20,581 minium.Conn6544 connection#653 __on_message] RECV < {"id":"7c053f67-262b-4b3f-9e18-460939f69a86","result":{}}
[D 2023-12-21 16:45:20,585 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:45:20,586 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"1f4e9d90-0cca-4a5f-9a42-569ee505e82f","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1703195120566,after:undefined,callback:showToast_callback_1703195120566},!0):global.__minium__.delCall(_,l)}","args":["showToast",1703195120566,true]}}
[D 2023-12-21 16:45:20,593 minium.Conn6544 connection#653 __on_message] RECV < {"id":"1f4e9d90-0cca-4a5f-9a42-569ee505e82f","result":{}}
[D 2023-12-21 16:45:20,598 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"ed09e3d5-4ab2-4176-b3e6-242c3e56f8b0","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2023-12-21 16:45:20,605 minium.Conn6544 connection#653 __on_message] RECV < {"id":"ed09e3d5-4ab2-4176-b3e6-242c3e56f8b0","result":{"result":{"path":"pages/home/home","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2023-12-21 16:45:20,609 minium app#731 relaunch] ReLaunch: /pages/home/home
[D 2023-12-21 16:45:20,613 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"34db5770-953a-4d7b-b97f-9d55dac762f5","method":"App.getCurrentPage","params":{}}
[D 2023-12-21 16:45:20,617 minium.Conn6544 connection#653 __on_message] RECV < {"id":"34db5770-953a-4d7b-b97f-9d55dac762f5","result":{"pageId":2,"path":"pages/home/home","query":{}}}
[D 2023-12-21 16:45:20,622 minium.Conn6544 connection#417 _safely_send] ASYNC_SEND > {"id":"0ca08f6b-a867-45ac-8dbb-0e72664766b1","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:45:20,752 minium.Conn6544 connection#653 __on_message] RECV < {"id":"0ca08f6b-a867-45ac-8dbb-0e72664766b1","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2023-12-21 16:45:20,753 minium.Conn6544 connection#697 _handle_async_msg] received async msg: 0ca08f6b-a867-45ac-8dbb-0e72664766b1
[D 2023-12-21 16:45:21,632 minium.Conn6544 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":3,"path":"pages/home/home","query":{},"openType":"reLaunch","__ts__":1703195121583},1703195121586]}}
[I 2023-12-21 16:45:21,637 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 3, 'path': 'pages/home/home', 'query': {}, 'openType': 'reLaunch', '__ts__': 1703195121583}, 1703195121586]}
[D 2023-12-21 16:45:21,637 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"ed249785-1f47-4ebe-8924-bdfa06c5d05b","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:45:21,650 minium.Conn6544 connection#653 __on_message] RECV < {"id":"ed249785-1f47-4ebe-8924-bdfa06c5d05b","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:45:21,655 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"a0595123-dfb1-449a-a1ae-9bd7924ec0e5","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2023-12-21 16:45:21,742 minium.Conn6544 connection#653 __on_message] RECV < {"id":"a0595123-dfb1-449a-a1ae-9bd7924ec0e5","result":{"result":false}}
[D 2023-12-21 16:45:21,747 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2023-12-21 16:45:21,748 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"c299b6f2-c46e-4612-8f49-754cbaba5953","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2023-12-21 16:45:21,777 minium.Conn6544 connection#653 __on_message] RECV < {"id":"c299b6f2-c46e-4612-8f49-754cbaba5953","result":{}}
[D 2023-12-21 16:45:21,781 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"cdab793d-0410-4687-8a9e-0f6b8d248905","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2023-12-21 16:45:22,357 minium.Conn6544 connection#653 __on_message] RECV < {"id":"cdab793d-0410-4687-8a9e-0f6b8d248905","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2023-12-21 16:45:22,361 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"6794177f-bc20-4593-ba1a-cad4f6719138","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2023-12-21 16:45:22,374 minium.Conn6544 connection#653 __on_message] RECV < {"id":"6794177f-bc20-4593-ba1a-cad4f6719138","result":{}}
[D 2023-12-21 16:45:22,379 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"a0421f16-1bd4-4f69-a9fc-52867880974b","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2023-12-21 16:45:22,388 minium.Conn6544 connection#653 __on_message] RECV < {"id":"a0421f16-1bd4-4f69-a9fc-52867880974b","result":{"result":{"accountInfo":{"appId":"wx02da6f6037f28c99","nickname":"sandbox account of wxid_yalgzp87d9zt12","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2023-12-21 16:45:22,391 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"bfc89faf-1147-4e57-813d-b54999d62593","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:45:22,401 minium.Conn6544 connection#651 __on_message] RECV < {"id":"bfc89faf-1147-4e57-813d-b54999d62593","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":26,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[I 2023-12-21 16:45:22,405 minium minitest#189 init_miniprogram] end init miniprogram
[I 2023-12-21 16:45:22,432 minium minitest#370 _miniSetUp] =========Current case: test_search=========
[I 2023-12-21 16:45:22,432 minium minitest#373 _miniSetUp] package info: C:.Users.zhiha.OneDrive.Desktop.auto_minium.test3.search_test, case info: FirstTest.test_search
[I 2023-12-21 16:45:22,436 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2023-12-21 16:45:22,436 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2023-12-21 16:45:22,443 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2023-12-21 16:45:22,444 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2023-12-21 16:45:22,445 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2023-12-21 16:45:22,447 minium.Conn6544 connection#417 _safely_send] ASYNC_SEND > {"id":"2992505b-9baf-4c35-aa61-25737807515a","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:45:22,537 minium.Conn6544 connection#653 __on_message] RECV < {"id":"2992505b-9baf-4c35-aa61-25737807515a","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2023-12-21 16:45:22,537 minium.Conn6544 connection#697 _handle_async_msg] received async msg: 2992505b-9baf-4c35-aa61-25737807515a
[I 2023-12-21 16:45:22,542 minium minitest#717 capture] capture setup.png
[I 2023-12-21 16:45:22,545 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:45:22,548 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"3c792a58-e217-437c-b0f4-692f1d42746d","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:45:22,945 minium.Conn6544 connection#651 __on_message] RECV < {"id":"3c792a58-e217-437c-b0f4-692f1d42746d","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:45:22,950 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:45:22,953 minium minitest#424 _miniSetUp] =========case: test_search start=========
[I 2023-12-21 16:45:22,953 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 16:45:22,957 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"85994b50-2333-4046-8938-787554e5224d","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":3}}
[D 2023-12-21 16:45:23,490 minium.Conn6544 connection#653 __on_message] RECV < {"id":"85994b50-2333-4046-8938-787554e5224d","result":{"elements":[{"elementId":"80be213e-f775-428d-9f58-1b2e4e1e4cef","tagName":"input"}]}}
[I 2023-12-21 16:45:23,490 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001A4D1D3C450>]
[I 2023-12-21 16:45:23,761 minium minitest#717 capture] capture assertTrue-success.png
[I 2023-12-21 16:45:23,761 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:45:23,765 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"29cfe331-64eb-4e64-b465-3876a0211b80","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:45:24,201 minium.Conn6544 connection#651 __on_message] RECV < {"id":"29cfe331-64eb-4e64-b465-3876a0211b80","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:45:24,209 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:45:24,221 minium page#557 _get_elements_by_css] try to get elements: view[class='t-class-input-container']
[D 2023-12-21 16:45:24,229 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"a7380da3-e377-4008-9bf4-9e010639b351","method":"Page.getElements","params":{"selector":"view[class='t-class-input-container']","pageId":3}}
[D 2023-12-21 16:45:24,258 minium.Conn6544 connection#653 __on_message] RECV < {"id":"a7380da3-e377-4008-9bf4-9e010639b351","result":{"elements":[]}}
[W 2023-12-21 16:45:24,258 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-class-input-container']' you need
[I 2023-12-21 16:45:25,265 minium page#557 _get_elements_by_css] try to get elements: view[class='t-class-input-container']
[D 2023-12-21 16:45:25,266 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"2bafdb96-5a35-4fa2-a54d-b2bab9f12542","method":"Page.getElements","params":{"selector":"view[class='t-class-input-container']","pageId":3}}
[D 2023-12-21 16:45:25,341 minium.Conn6544 connection#653 __on_message] RECV < {"id":"2bafdb96-5a35-4fa2-a54d-b2bab9f12542","result":{"elements":[]}}
[W 2023-12-21 16:45:25,341 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-class-input-container']' you need
[I 2023-12-21 16:45:26,348 minium page#557 _get_elements_by_css] try to get elements: view[class='t-class-input-container']
[D 2023-12-21 16:45:26,348 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"79a6e544-5978-43ad-b7ff-8a2fe117c8e2","method":"Page.getElements","params":{"selector":"view[class='t-class-input-container']","pageId":3}}
[D 2023-12-21 16:45:26,425 minium.Conn6544 connection#653 __on_message] RECV < {"id":"79a6e544-5978-43ad-b7ff-8a2fe117c8e2","result":{"elements":[]}}
[W 2023-12-21 16:45:26,433 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-class-input-container']' you need
[I 2023-12-21 16:45:27,439 minium page#557 _get_elements_by_css] try to get elements: view[class='t-class-input-container']
[D 2023-12-21 16:45:27,439 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"52f31380-ba45-4c2e-853c-5844a2c3c942","method":"Page.getElements","params":{"selector":"view[class='t-class-input-container']","pageId":3}}
[D 2023-12-21 16:45:27,475 minium.Conn6544 connection#653 __on_message] RECV < {"id":"52f31380-ba45-4c2e-853c-5844a2c3c942","result":{"elements":[]}}
[W 2023-12-21 16:45:27,481 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-class-input-container']' you need
[I 2023-12-21 16:45:28,487 minium page#557 _get_elements_by_css] try to get elements: view[class='t-class-input-container']
[D 2023-12-21 16:45:28,494 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"a1d90683-35a1-460a-80e3-f04a8499b54d","method":"Page.getElements","params":{"selector":"view[class='t-class-input-container']","pageId":3}}
[D 2023-12-21 16:45:28,532 minium.Conn6544 connection#653 __on_message] RECV < {"id":"a1d90683-35a1-460a-80e3-f04a8499b54d","result":{"elements":[]}}
[W 2023-12-21 16:45:28,533 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-class-input-container']' you need
[I 2023-12-21 16:45:29,541 minium page#557 _get_elements_by_css] try to get elements: view[class='t-class-input-container']
[D 2023-12-21 16:45:29,541 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"ec5de29f-8be0-4d40-b182-de3316bd1c9d","method":"Page.getElements","params":{"selector":"view[class='t-class-input-container']","pageId":3}}
[D 2023-12-21 16:45:29,562 minium.Conn6544 connection#653 __on_message] RECV < {"id":"ec5de29f-8be0-4d40-b182-de3316bd1c9d","result":{"elements":[]}}
[W 2023-12-21 16:45:29,565 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-class-input-container']' you need
[I 2023-12-21 16:45:30,569 minium page#557 _get_elements_by_css] try to get elements: view[class='t-class-input-container']
[D 2023-12-21 16:45:30,570 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"c983fe05-7d0b-4226-ab8d-88db66e92e4b","method":"Page.getElements","params":{"selector":"view[class='t-class-input-container']","pageId":3}}
[D 2023-12-21 16:45:30,608 minium.Conn6544 connection#653 __on_message] RECV < {"id":"c983fe05-7d0b-4226-ab8d-88db66e92e4b","result":{"elements":[]}}
[W 2023-12-21 16:45:30,610 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-class-input-container']' you need
[I 2023-12-21 16:45:31,616 minium page#557 _get_elements_by_css] try to get elements: view[class='t-class-input-container']
[D 2023-12-21 16:45:31,617 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"2bbcdeb5-aade-456d-b27f-96062514d52d","method":"Page.getElements","params":{"selector":"view[class='t-class-input-container']","pageId":3}}
[D 2023-12-21 16:45:31,650 minium.Conn6544 connection#653 __on_message] RECV < {"id":"2bbcdeb5-aade-456d-b27f-96062514d52d","result":{"elements":[]}}
[W 2023-12-21 16:45:31,650 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-class-input-container']' you need
[I 2023-12-21 16:45:32,655 minium page#557 _get_elements_by_css] try to get elements: view[class='t-class-input-container']
[D 2023-12-21 16:45:32,657 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"e19d0a7c-229d-433d-900a-d5ffe46283d2","method":"Page.getElements","params":{"selector":"view[class='t-class-input-container']","pageId":3}}
[D 2023-12-21 16:45:32,665 minium.Conn6544 connection#653 __on_message] RECV < {"id":"e19d0a7c-229d-433d-900a-d5ffe46283d2","result":{"elements":[]}}
[W 2023-12-21 16:45:32,665 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-class-input-container']' you need
[I 2023-12-21 16:45:33,671 minium page#557 _get_elements_by_css] try to get elements: view[class='t-class-input-container']
[D 2023-12-21 16:45:33,673 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"1072b8d5-f82b-4f86-b91f-42d797dd09ea","method":"Page.getElements","params":{"selector":"view[class='t-class-input-container']","pageId":3}}
[D 2023-12-21 16:45:33,709 minium.Conn6544 connection#653 __on_message] RECV < {"id":"1072b8d5-f82b-4f86-b91f-42d797dd09ea","result":{"elements":[]}}
[W 2023-12-21 16:45:33,711 minium page#562 _get_elements_by_css] Could not found any element 'view[class='t-class-input-container']' you need
[I 2023-12-21 16:45:34,730 minium minitest#717 capture] capture assertTrue-failed.png
[I 2023-12-21 16:45:34,730 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:45:34,730 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"61c6f011-11b4-4889-bbbf-66286e658200","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:45:35,336 minium.Conn6544 connection#651 __on_message] RECV < {"id":"61c6f011-11b4-4889-bbbf-66286e658200","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:45:35,341 minium basenative#29 wrapper] call IdeNative.screen_shot end
[D 2023-12-21 16:45:35,344 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"819303cc-cfc6-481d-a51f-596969d1ca7c","method":"Page.getElementByXpath","params":{"selector":"/*","pageId":3}}
[D 2023-12-21 16:45:35,361 minium.Conn6544 connection#653 __on_message] RECV < {"id":"819303cc-cfc6-481d-a51f-596969d1ca7c","result":{"elementId":"c790df90-964e-4b96-8aea-d469cf3fee17","tagName":"tab-bar-wrapper"}}
[D 2023-12-21 16:45:35,366 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"8c1a42f4-2c09-42e3-b44c-6399138c3c57","method":"Element.getWXML","params":{"type":"outer","elementId":"c790df90-964e-4b96-8aea-d469cf3fee17","pageId":3}}
[D 2023-12-21 16:45:35,383 minium.Conn6544 connection#651 __on_message] RECV < {"id":"8c1a42f4-2c09-42e3-b44c-6399138c3c57","result":{"wxml":"<tab-bar-wrapper><view role=\"tablist\" aria-role=\"tablist\" class=\"t-tab-bar bar--t-tab-bar t-tab-bar--border bar--t-tab-bar--border t-tab-bar--fixed bar--t-tab-bar--fixed t-tab-bar--safe bar--t-tab-bar--safe t-tab-bar--normal bar--t-tab-bar--normal  \" style=\"\"><view class=\"t-tab-bar-item item--t-tab-bar-item t-tab-bar-item--text-only item--t-tab-bar-item--text-only t-tab-bar-item--normal item--t-tab-bar-item--normal  \" style=\"\"><vi...
[D 2023-12-21 16:45:35,386 minium minitest#620 _miniTearDown] =========Current case Down: test_search=========
[I 2023-12-21 16:45:35,389 minium minitest#717 capture] capture teardown.png
[I 2023-12-21 16:45:35,389 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:45:35,394 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"37c16065-ed51-4ac9-bdba-2aa1cfc06f11","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:45:35,981 minium.Conn6544 connection#651 __on_message] RECV < {"id":"37c16065-ed51-4ac9-bdba-2aa1cfc06f11","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:45:35,997 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:45:36,001 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2023-12-21 16:45:36,001 minium basenative#29 wrapper] call BaseNative.get_start_up end
[E 2023-12-21 16:45:36,014 minium assertbase#349 _get_stack_info] <bound method FirstTest.test_search of <test3.search_test.FirstTest testMethod=test_search>>
Traceback (most recent call last):
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\minium\framework\libs\unittest\case.py", line 42, in testPartExecutor
    yield
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\minium\framework\libs\unittest\case.py", line 124, in run
    self._callTestMethod(testMethod)
AssertionError: False is not true : 首页是否存在输入框 view
[W 2023-12-21 16:45:36,018 minium assertbase#331 _log_info_when_error] config: {'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test3', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-3', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221164450', 'case_output': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs\\20231221164450\\test_search\\20231221164522413726'}
[W 2023-12-21 16:45:36,020 minium assertbase#332 _log_info_when_error] build info: {'version': '1.4.6', 'revision': 'b389ff4b1d94cc73bb5363fc602f5823512df292', 'branch': 'master', 'update_at': '2023-08-28 17:46:51'}
[W 2023-12-21 16:45:36,023 minium minitest#828 _log_info_when_error] native: <minium.native.wx_native.idenative.IdeNative object at 0x000001A4D1CEDA50>
[I 2023-12-21 16:45:46,049 minium.SESSION session#67 run] case queue is empty, test complete, release None
[D 2023-12-21 16:45:46,049 minium.Conn6544 connection#417 _safely_send] ASYNC_SEND > {"id":"5eab4364-a28e-48d0-8d9b-1b27404fa153","method":"Tool.close","params":{}}
[D 2023-12-21 16:45:46,053 minium.Conn6544 connection#653 __on_message] RECV < {"id":"5eab4364-a28e-48d0-8d9b-1b27404fa153","result":{}}
[I 2023-12-21 16:45:46,053 minium.Conn6544 connection#697 _handle_async_msg] received async msg: 5eab4364-a28e-48d0-8d9b-1b27404fa153, maybe command ignore response
[E 2023-12-21 16:45:46,077 minium.Conn6544 connection#632 _on_error] Connection to remote host was lost.
[I 2023-12-21 16:45:46,080 minium.Conn6544 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2023-12-21 16:45:47,053 minium basenative#25 wrapper] call IdeNative.stop_wechat
[I 2023-12-21 16:45:47,053 minium basenative#29 wrapper] call IdeNative.stop_wechat end
[I 2023-12-21 16:45:47,053 minium basenative#25 wrapper] call IdeNative.release
[I 2023-12-21 16:45:47,057 minium basenative#25 wrapper] call BaseNative.release
[I 2023-12-21 16:45:47,061 minium basenative#101 release] Native release
[I 2023-12-21 16:45:47,065 minium basenative#25 wrapper] call BaseNative.release_auto_authorize
[I 2023-12-21 16:45:47,073 minium basenative#29 wrapper] call BaseNative.release_auto_authorize end
[I 2023-12-21 16:45:47,073 minium basenative#29 wrapper] call BaseNative.release end
[I 2023-12-21 16:45:47,077 minium basenative#29 wrapper] call IdeNative.release end
[D 2023-12-21 16:48:37,840 minium loader#135 load_from_module] Loading module: test3.search_test
[D 2023-12-21 16:48:37,856 minium loader#139 load_from_module] put module[test3.search_test] into queue
[I 2023-12-21 16:48:37,918 minium loader#298 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test3', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-3', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221164837'}

[D 2023-12-21 16:48:38,981 minium minitest#278 _miniClassSetUp] =====================
[D 2023-12-21 16:48:38,985 minium minitest#279 _miniClassSetUp] Testing class：FirstTest
[D 2023-12-21 16:48:38,985 minium minitest#280 _miniClassSetUp] =====================
[I 2023-12-21 16:48:38,989 minium minitest#173 init_miniprogram] start init miniprogram
[I 2023-12-21 16:48:38,997 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2023-12-21 16:48:39,000 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2023-12-21 16:48:39,001 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2023-12-21 16:48:39,014 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\Users\zhiha\WeChatProjects\miniprogram-3" --auto-port 9420
[I 2023-12-21 16:48:42,881 minium minium_object#101 _do_shell] err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:25532
- preparing
- Fetching AppID (wx02da6f6037f28c99) permissions
√ Using AppID: wx02da6f6037f28c99
√ auto

[I 2023-12-21 16:48:42,884 minium minium_object#102 _do_shell] out:

[I 2023-12-21 16:48:52,887 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2023-12-21 16:48:52,992 minium.Conn8816 connection#342 _connect] connect to WebChatTools successfully
[D 2023-12-21 16:48:53,031 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"c5f6586e-082a-498c-88cc-3f8b27b91bda","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:48:53,116 minium.Conn8816 connection#653 __on_message] RECV < {"id":"c5f6586e-082a-498c-88cc-3f8b27b91bda","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:48:53,120 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"9034b0e9-ec34-46be-a5e4-6155e83e0cb4","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:49:10,716 minium.Conn8816 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2023-12-21 16:49:10,736 minium.Conn8816 connection#651 __on_message] RECV < {"id":"9034b0e9-ec34-46be-a5e4-6155e83e0cb4","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":24,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[D 2023-12-21 16:49:10,736 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2023-12-21 16:49:10,740 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"5d751575-69f0-423b-9bd1-ddd273dfcf13","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2023-12-21 16:49:10,761 minium.Conn8816 connection#653 __on_message] RECV < {"id":"5d751575-69f0-423b-9bd1-ddd273dfcf13","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2023-12-21 16:49:10,765 minium.Conn8816 connection#283 remove] remove key which is not in observers
[D 2023-12-21 16:49:10,766 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"12c36b4d-5c6d-4ec1-be8e-c65bede48b00","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2023-12-21 16:49:10,776 minium.Conn8816 connection#653 __on_message] RECV < {"id":"12c36b4d-5c6d-4ec1-be8e-c65bede48b00","result":{}}
[D 2023-12-21 16:49:10,778 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"9851bc51-d550-4b2a-bf8e-b88fd3cf958b","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2023-12-21 16:49:10,788 minium.Conn8816 connection#653 __on_message] RECV < {"id":"9851bc51-d550-4b2a-bf8e-b88fd3cf958b","result":{}}
[D 2023-12-21 16:49:10,790 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2023-12-21 16:49:10,794 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"b7ba0d08-c777-4790-8264-2d33929aeb74","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2023-12-21 16:49:10,805 minium.Conn8816 connection#653 __on_message] RECV < {"id":"b7ba0d08-c777-4790-8264-2d33929aeb74","result":{}}
[D 2023-12-21 16:49:10,806 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2023-12-21 16:49:10,806 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"8d76f63d-1105-4e69-a78e-4d036a10564b","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2023-12-21 16:49:10,824 minium.Conn8816 connection#653 __on_message] RECV < {"id":"8d76f63d-1105-4e69-a78e-4d036a10564b","result":{}}
[D 2023-12-21 16:49:10,827 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2023-12-21 16:49:10,827 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"624e3297-94ab-40b7-ab12-048b986f9a4e","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2023-12-21 16:49:10,837 minium.Conn8816 connection#653 __on_message] RECV < {"id":"624e3297-94ab-40b7-ab12-048b986f9a4e","result":{"result":true}}
[D 2023-12-21 16:49:10,837 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"26c55227-d120-4afa-9f82-a4c357a5cc3d","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2023-12-21 16:49:10,848 minium.Conn8816 connection#651 __on_message] RECV < {"id":"26c55227-d120-4afa-9f82-a4c357a5cc3d","result":{"result":{"pages":["pages/home/home","pages/usercenter/index","pages/usercenter/person-info/index","pages/usercenter/address/list/index","pages/usercenter/address/edit/index","pages/goods/list/index","pages/goods/details/index","pages/goods/category/index","pages/goods/search/index","pages/goods/result/index","pages/cart/index","pages/order/order-confirm/index","pages/order/receipt/index","pages/order/pay-result/index","pages/order/order-list/index",...
[D 2023-12-21 16:49:10,850 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"d9c16647-eb18-4eaf-be5c-950993ae35cd","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2023-12-21 16:49:10,857 minium.Conn8816 connection#653 __on_message] RECV < {"id":"d9c16647-eb18-4eaf-be5c-950993ae35cd","result":{"result":{"miniProgram":{"appId":"wx02da6f6037f28c99","envVersion":"develop","version":""}}}}
[D 2023-12-21 16:49:10,860 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"a4f4e4a4-469b-4667-b148-7e93ae92df50","method":"App.addBinding","params":{"name":"showModal_before_1703195350860"}}
[D 2023-12-21 16:49:10,867 minium.Conn8816 connection#653 __on_message] RECV < {"id":"a4f4e4a4-469b-4667-b148-7e93ae92df50","result":{}}
[D 2023-12-21 16:49:10,869 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"7825b816-02c0-4c75-b4ea-97039a0dd0de","method":"App.addBinding","params":{"name":"showModal_callback_1703195350860"}}
[D 2023-12-21 16:49:10,873 minium.Conn8816 connection#653 __on_message] RECV < {"id":"7825b816-02c0-4c75-b4ea-97039a0dd0de","result":{}}
[D 2023-12-21 16:49:10,879 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:49:10,879 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"18a17155-544b-4847-bd4e-9080a6c3b0e9","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1703195350860,after:undefined,callback:showModal_callback_1703195350860},!0):global.__minium__.delCall(_,l)}","args":["showModal",1703195350860,true]}}
[D 2023-12-21 16:49:10,886 minium.Conn8816 connection#653 __on_message] RECV < {"id":"18a17155-544b-4847-bd4e-9080a6c3b0e9","result":{}}
[D 2023-12-21 16:49:10,890 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"52978f90-40f9-4143-bcae-4fdf1bf6657c","method":"App.addBinding","params":{"name":"showToast_before_1703195350890"}}
[D 2023-12-21 16:49:10,896 minium.Conn8816 connection#653 __on_message] RECV < {"id":"52978f90-40f9-4143-bcae-4fdf1bf6657c","result":{}}
[D 2023-12-21 16:49:10,898 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"473fd2eb-d644-408e-9419-1e10120030c1","method":"App.addBinding","params":{"name":"showToast_callback_1703195350890"}}
[D 2023-12-21 16:49:10,911 minium.Conn8816 connection#653 __on_message] RECV < {"id":"473fd2eb-d644-408e-9419-1e10120030c1","result":{}}
[D 2023-12-21 16:49:10,915 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:49:10,915 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"29ce2b52-398a-4f89-aa41-944c1404a32a","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1703195350890,after:undefined,callback:showToast_callback_1703195350890},!0):global.__minium__.delCall(_,l)}","args":["showToast",1703195350890,true]}}
[D 2023-12-21 16:49:10,931 minium.Conn8816 connection#653 __on_message] RECV < {"id":"29ce2b52-398a-4f89-aa41-944c1404a32a","result":{}}
[D 2023-12-21 16:49:10,935 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"acbc7934-1748-401d-b091-97821df8ab1c","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2023-12-21 16:49:10,950 minium.Conn8816 connection#653 __on_message] RECV < {"id":"acbc7934-1748-401d-b091-97821df8ab1c","result":{"result":{"path":"pages/home/home","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2023-12-21 16:49:10,953 minium app#731 relaunch] ReLaunch: /pages/home/home
[D 2023-12-21 16:49:10,958 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"badba9c8-2a6e-47be-bada-f0f5f1a78927","method":"App.getCurrentPage","params":{}}
[D 2023-12-21 16:49:10,972 minium.Conn8816 connection#653 __on_message] RECV < {"id":"badba9c8-2a6e-47be-bada-f0f5f1a78927","result":{"pageId":1,"path":"pages/home/home","query":{}}}
[D 2023-12-21 16:49:10,972 minium.Conn8816 connection#417 _safely_send] ASYNC_SEND > {"id":"f8ecd192-79b9-4a01-8fc7-7b901d1e742d","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:49:11,180 minium.Conn8816 connection#653 __on_message] RECV < {"id":"f8ecd192-79b9-4a01-8fc7-7b901d1e742d","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2023-12-21 16:49:11,185 minium.Conn8816 connection#697 _handle_async_msg] received async msg: f8ecd192-79b9-4a01-8fc7-7b901d1e742d
[D 2023-12-21 16:49:13,524 minium.Conn8816 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/home/home","query":{},"openType":"reLaunch","__ts__":1703195353446},1703195353450]}}
[I 2023-12-21 16:49:13,528 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/home/home', 'query': {}, 'openType': 'reLaunch', '__ts__': 1703195353446}, 1703195353450]}
[D 2023-12-21 16:49:13,528 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"1d953c20-9835-4c9c-aa50-8f6dc8ebe623","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:49:13,546 minium.Conn8816 connection#653 __on_message] RECV < {"id":"1d953c20-9835-4c9c-aa50-8f6dc8ebe623","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:49:13,550 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"c062f18a-0c98-4d6f-a6cd-074b9b6afd86","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2023-12-21 16:49:13,592 minium.Conn8816 connection#653 __on_message] RECV < {"id":"c062f18a-0c98-4d6f-a6cd-074b9b6afd86","result":{"result":false}}
[D 2023-12-21 16:49:13,595 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2023-12-21 16:49:13,595 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"8b9f2df4-4ace-410f-b879-c02745fd976b","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2023-12-21 16:49:13,715 minium.Conn8816 connection#653 __on_message] RECV < {"id":"8b9f2df4-4ace-410f-b879-c02745fd976b","result":{}}
[D 2023-12-21 16:49:13,716 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"d0c2a833-5909-4c82-b00c-2de09091b919","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2023-12-21 16:49:14,384 minium.Conn8816 connection#653 __on_message] RECV < {"id":"d0c2a833-5909-4c82-b00c-2de09091b919","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2023-12-21 16:49:14,388 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"5324ea3b-223e-4f38-94b7-51d344497647","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2023-12-21 16:49:14,400 minium.Conn8816 connection#653 __on_message] RECV < {"id":"5324ea3b-223e-4f38-94b7-51d344497647","result":{}}
[D 2023-12-21 16:49:14,400 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"6fe83257-fc44-4879-8b03-97e554a81fa1","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2023-12-21 16:49:14,408 minium.Conn8816 connection#653 __on_message] RECV < {"id":"6fe83257-fc44-4879-8b03-97e554a81fa1","result":{"result":{"accountInfo":{"appId":"wx02da6f6037f28c99","nickname":"sandbox account of wxid_yalgzp87d9zt12","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2023-12-21 16:49:14,414 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"1f0787c5-dbf2-41dd-b6ab-8b002becca62","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:49:14,424 minium.Conn8816 connection#651 __on_message] RECV < {"id":"1f0787c5-dbf2-41dd-b6ab-8b002becca62","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":24,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[I 2023-12-21 16:49:14,432 minium minitest#189 init_miniprogram] end init miniprogram
[I 2023-12-21 16:49:14,437 minium minitest#370 _miniSetUp] =========Current case: test_search=========
[I 2023-12-21 16:49:14,440 minium minitest#373 _miniSetUp] package info: C:.Users.zhiha.OneDrive.Desktop.auto_minium.test3.search_test, case info: FirstTest.test_search
[I 2023-12-21 16:49:14,442 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2023-12-21 16:49:14,444 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2023-12-21 16:49:14,444 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2023-12-21 16:49:14,444 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2023-12-21 16:49:14,448 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2023-12-21 16:49:14,460 minium.Conn8816 connection#417 _safely_send] ASYNC_SEND > {"id":"708d3547-88f4-4a21-8034-b6b30c3e4265","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:49:14,533 minium.Conn8816 connection#653 __on_message] RECV < {"id":"708d3547-88f4-4a21-8034-b6b30c3e4265","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2023-12-21 16:49:14,538 minium.Conn8816 connection#697 _handle_async_msg] received async msg: 708d3547-88f4-4a21-8034-b6b30c3e4265
[I 2023-12-21 16:49:14,542 minium minitest#717 capture] capture setup.png
[I 2023-12-21 16:49:14,542 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:49:14,544 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"9c1e12f3-0400-430f-a767-893538d5ff6e","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:49:14,741 minium.Conn8816 connection#651 __on_message] RECV < {"id":"9c1e12f3-0400-430f-a767-893538d5ff6e","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:49:14,745 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:49:14,749 minium minitest#424 _miniSetUp] =========case: test_search start=========
[I 2023-12-21 16:49:14,749 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 16:49:14,755 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"2ce3b96f-364f-4679-8eb9-b8bf54a7e2f6","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":2}}
[D 2023-12-21 16:49:15,904 minium.Conn8816 connection#653 __on_message] RECV < {"id":"2ce3b96f-364f-4679-8eb9-b8bf54a7e2f6","result":{"elements":[{"elementId":"94d058ef-6a6a-4530-a5c6-481a4bc6323b","tagName":"input"}]}}
[I 2023-12-21 16:49:15,908 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000022E11DEFC10>]
[I 2023-12-21 16:49:16,092 minium minitest#717 capture] capture assertTrue-success.png
[I 2023-12-21 16:49:16,094 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:49:16,094 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"19c963aa-f68d-482b-9116-15eebf9d3850","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:49:16,343 minium.Conn8816 connection#651 __on_message] RECV < {"id":"19c963aa-f68d-482b-9116-15eebf9d3850","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:49:16,347 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:49:16,348 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 16:49:16,350 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"b3604670-5be9-4127-a549-5a1361b7a495","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":2}}
[D 2023-12-21 16:49:16,812 minium.Conn8816 connection#653 __on_message] RECV < {"id":"b3604670-5be9-4127-a549-5a1361b7a495","result":{"elements":[{"elementId":"94d058ef-6a6a-4530-a5c6-481a4bc6323b","tagName":"input"}]}}
[I 2023-12-21 16:49:16,816 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000022E11E00F10>]
[D 2023-12-21 16:49:16,816 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"148a1b0f-8a15-4918-91a0-be8b9acea54d","method":"Element.tap","params":{"elementId":"94d058ef-6a6a-4530-a5c6-481a4bc6323b","pageId":2}}
[D 2023-12-21 16:49:17,180 minium.Conn8816 connection#653 __on_message] RECV < {"id":"148a1b0f-8a15-4918-91a0-be8b9acea54d","result":{}}
[D 2023-12-21 16:49:18,692 minium.Conn8816 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/goods/search/index","query":{},"openType":"navigateTo","__ts__":1703195358650},1703195358651]}}
[I 2023-12-21 16:49:18,696 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/goods/search/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1703195358650}, 1703195358651]}
[D 2023-12-21 16:49:22,188 minium page#321 wait_for] waitFor: 5.001381158828735 s
[D 2023-12-21 16:49:22,188 minium minitest#620 _miniTearDown] =========Current case Down: test_search=========
[I 2023-12-21 16:49:22,192 minium minitest#717 capture] capture teardown.png
[I 2023-12-21 16:49:22,215 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:49:22,219 minium.Conn8816 connection#417 _safely_send] SEND > {"id":"7cac14ad-b2a1-45b3-bd7e-ec1e499c5c69","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:49:22,432 minium.Conn8816 connection#651 __on_message] RECV < {"id":"7cac14ad-b2a1-45b3-bd7e-ec1e499c5c69","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:49:22,436 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:49:22,440 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2023-12-21 16:49:22,440 minium basenative#29 wrapper] call BaseNative.get_start_up end
[I 2023-12-21 16:49:32,486 minium.SESSION session#67 run] case queue is empty, test complete, release None
[D 2023-12-21 16:49:32,486 minium.Conn8816 connection#417 _safely_send] ASYNC_SEND > {"id":"7bd95bac-44c3-4704-941e-986bf5bd15d3","method":"Tool.close","params":{}}
[D 2023-12-21 16:49:32,490 minium.Conn8816 connection#653 __on_message] RECV < {"id":"7bd95bac-44c3-4704-941e-986bf5bd15d3","result":{}}
[I 2023-12-21 16:49:32,490 minium.Conn8816 connection#697 _handle_async_msg] received async msg: 7bd95bac-44c3-4704-941e-986bf5bd15d3, maybe command ignore response
[E 2023-12-21 16:49:32,524 minium.Conn8816 connection#632 _on_error] Connection to remote host was lost.
[I 2023-12-21 16:49:32,526 minium.Conn8816 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2023-12-21 16:49:33,500 minium basenative#25 wrapper] call IdeNative.stop_wechat
[I 2023-12-21 16:49:33,500 minium basenative#29 wrapper] call IdeNative.stop_wechat end
[I 2023-12-21 16:49:33,504 minium basenative#25 wrapper] call IdeNative.release
[I 2023-12-21 16:49:33,504 minium basenative#25 wrapper] call BaseNative.release
[I 2023-12-21 16:49:33,508 minium basenative#101 release] Native release
[I 2023-12-21 16:49:33,512 minium basenative#25 wrapper] call BaseNative.release_auto_authorize
[I 2023-12-21 16:49:33,512 minium basenative#29 wrapper] call BaseNative.release_auto_authorize end
[I 2023-12-21 16:49:33,523 minium basenative#29 wrapper] call BaseNative.release end
[I 2023-12-21 16:49:33,524 minium basenative#29 wrapper] call IdeNative.release end
[D 2023-12-21 16:49:41,196 minium loader#135 load_from_module] Loading module: test3.search_test
[D 2023-12-21 16:49:41,224 minium loader#139 load_from_module] put module[test3.search_test] into queue
[I 2023-12-21 16:49:41,276 minium loader#298 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test3', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-3', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221164941'}

[D 2023-12-21 16:49:42,161 minium minitest#278 _miniClassSetUp] =====================
[D 2023-12-21 16:49:42,161 minium minitest#279 _miniClassSetUp] Testing class：FirstTest
[D 2023-12-21 16:49:42,161 minium minitest#280 _miniClassSetUp] =====================
[I 2023-12-21 16:49:42,164 minium minitest#173 init_miniprogram] start init miniprogram
[I 2023-12-21 16:49:42,169 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2023-12-21 16:49:42,169 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2023-12-21 16:49:42,169 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2023-12-21 16:49:42,177 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\Users\zhiha\WeChatProjects\miniprogram-3" --auto-port 9420
[I 2023-12-21 16:49:46,173 minium minium_object#101 _do_shell] err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:25532
- preparing
- Fetching AppID (wx02da6f6037f28c99) permissions
√ Using AppID: wx02da6f6037f28c99
√ auto

[I 2023-12-21 16:49:46,176 minium minium_object#102 _do_shell] out:

[I 2023-12-21 16:49:56,179 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2023-12-21 16:49:56,359 minium.Conn9744 connection#342 _connect] connect to WebChatTools successfully
[D 2023-12-21 16:49:56,359 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"c0de6c4e-d676-4a28-bca8-fb7830ec0622","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:49:56,371 minium.Conn9744 connection#653 __on_message] RECV < {"id":"c0de6c4e-d676-4a28-bca8-fb7830ec0622","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:49:56,371 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"7ecef5bc-3bdf-4bb2-a808-a3849e11a930","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:50:10,848 minium.Conn9744 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2023-12-21 16:50:10,861 minium.Conn9744 connection#651 __on_message] RECV < {"id":"7ecef5bc-3bdf-4bb2-a808-a3849e11a930","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":23,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[D 2023-12-21 16:50:10,865 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2023-12-21 16:50:10,872 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"63f59b52-90db-4c5e-a10f-f7e9eb582f71","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2023-12-21 16:50:10,897 minium.Conn9744 connection#653 __on_message] RECV < {"id":"63f59b52-90db-4c5e-a10f-f7e9eb582f71","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2023-12-21 16:50:10,908 minium.Conn9744 connection#283 remove] remove key which is not in observers
[D 2023-12-21 16:50:10,910 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"9600e1e7-156b-47fa-a251-e0d5440e1239","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2023-12-21 16:50:10,943 minium.Conn9744 connection#653 __on_message] RECV < {"id":"9600e1e7-156b-47fa-a251-e0d5440e1239","result":{}}
[D 2023-12-21 16:50:10,944 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"e93d40d9-6f51-4513-ba8f-ab941e710ed4","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2023-12-21 16:50:10,959 minium.Conn9744 connection#653 __on_message] RECV < {"id":"e93d40d9-6f51-4513-ba8f-ab941e710ed4","result":{}}
[D 2023-12-21 16:50:10,963 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2023-12-21 16:50:10,963 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"15762513-75eb-448d-81bc-dcb0a8e4a8ec","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2023-12-21 16:50:10,980 minium.Conn9744 connection#653 __on_message] RECV < {"id":"15762513-75eb-448d-81bc-dcb0a8e4a8ec","result":{}}
[D 2023-12-21 16:50:10,980 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2023-12-21 16:50:10,989 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"214567ef-fbc6-4300-9723-b382b78fe659","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2023-12-21 16:50:11,023 minium.Conn9744 connection#653 __on_message] RECV < {"id":"214567ef-fbc6-4300-9723-b382b78fe659","result":{}}
[D 2023-12-21 16:50:11,026 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2023-12-21 16:50:11,028 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"1efcb01e-eb9c-4ecc-970e-0e771c48e818","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2023-12-21 16:50:11,040 minium.Conn9744 connection#653 __on_message] RECV < {"id":"1efcb01e-eb9c-4ecc-970e-0e771c48e818","result":{"result":true}}
[D 2023-12-21 16:50:11,043 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"eb52ee32-6067-4c88-92a6-47b02eb463b4","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2023-12-21 16:50:11,060 minium.Conn9744 connection#651 __on_message] RECV < {"id":"eb52ee32-6067-4c88-92a6-47b02eb463b4","result":{"result":{"pages":["pages/home/home","pages/usercenter/index","pages/usercenter/person-info/index","pages/usercenter/address/list/index","pages/usercenter/address/edit/index","pages/goods/list/index","pages/goods/details/index","pages/goods/category/index","pages/goods/search/index","pages/goods/result/index","pages/cart/index","pages/order/order-confirm/index","pages/order/receipt/index","pages/order/pay-result/index","pages/order/order-list/index",...
[D 2023-12-21 16:50:11,063 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"012fd903-28c3-402d-8c73-b70655d58ab6","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2023-12-21 16:50:11,071 minium.Conn9744 connection#653 __on_message] RECV < {"id":"012fd903-28c3-402d-8c73-b70655d58ab6","result":{"result":{"miniProgram":{"appId":"wx02da6f6037f28c99","envVersion":"develop","version":""}}}}
[D 2023-12-21 16:50:11,079 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"a9ef1f9f-36d0-4077-85e0-dd0b77668219","method":"App.addBinding","params":{"name":"showModal_before_1703195411079"}}
[D 2023-12-21 16:50:11,088 minium.Conn9744 connection#653 __on_message] RECV < {"id":"a9ef1f9f-36d0-4077-85e0-dd0b77668219","result":{}}
[D 2023-12-21 16:50:11,094 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"51773c6c-456c-4fd0-8a10-b88ac39af3b1","method":"App.addBinding","params":{"name":"showModal_callback_1703195411079"}}
[D 2023-12-21 16:50:11,111 minium.Conn9744 connection#653 __on_message] RECV < {"id":"51773c6c-456c-4fd0-8a10-b88ac39af3b1","result":{}}
[D 2023-12-21 16:50:11,112 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:50:11,117 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"d048a2ed-8db5-434d-b82d-4d6608799e9d","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1703195411079,after:undefined,callback:showModal_callback_1703195411079},!0):global.__minium__.delCall(_,l)}","args":["showModal",1703195411079,true]}}
[D 2023-12-21 16:50:11,143 minium.Conn9744 connection#653 __on_message] RECV < {"id":"d048a2ed-8db5-434d-b82d-4d6608799e9d","result":{}}
[D 2023-12-21 16:50:11,143 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"3e5c3d57-7360-43a2-b146-09df39597530","method":"App.addBinding","params":{"name":"showToast_before_1703195411143"}}
[D 2023-12-21 16:50:11,156 minium.Conn9744 connection#653 __on_message] RECV < {"id":"3e5c3d57-7360-43a2-b146-09df39597530","result":{}}
[D 2023-12-21 16:50:11,157 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"4a93f6c7-e8b9-4145-a10c-0623bb76a20c","method":"App.addBinding","params":{"name":"showToast_callback_1703195411143"}}
[D 2023-12-21 16:50:11,163 minium.Conn9744 connection#653 __on_message] RECV < {"id":"4a93f6c7-e8b9-4145-a10c-0623bb76a20c","result":{}}
[D 2023-12-21 16:50:11,163 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:50:11,168 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"3c8fb67d-b227-47a1-b3e9-fb454dddd22f","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1703195411143,after:undefined,callback:showToast_callback_1703195411143},!0):global.__minium__.delCall(_,l)}","args":["showToast",1703195411143,true]}}
[D 2023-12-21 16:50:11,185 minium.Conn9744 connection#653 __on_message] RECV < {"id":"3c8fb67d-b227-47a1-b3e9-fb454dddd22f","result":{}}
[D 2023-12-21 16:50:11,188 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"b4bcca69-cc07-4f70-9bfb-44c8fce05bb1","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2023-12-21 16:50:11,203 minium.Conn9744 connection#653 __on_message] RECV < {"id":"b4bcca69-cc07-4f70-9bfb-44c8fce05bb1","result":{"result":{"path":"pages/home/home","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2023-12-21 16:50:11,208 minium app#731 relaunch] ReLaunch: /pages/home/home
[D 2023-12-21 16:50:11,212 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"4104764d-0cc8-4985-aedc-5ca25a32b5ad","method":"App.getCurrentPage","params":{}}
[D 2023-12-21 16:50:11,240 minium.Conn9744 connection#653 __on_message] RECV < {"id":"4104764d-0cc8-4985-aedc-5ca25a32b5ad","result":{"pageId":1,"path":"pages/home/home","query":{}}}
[D 2023-12-21 16:50:11,244 minium.Conn9744 connection#417 _safely_send] ASYNC_SEND > {"id":"c4956800-f49a-4bf1-b3d2-28114ffb5b9f","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:50:11,550 minium.Conn9744 connection#653 __on_message] RECV < {"id":"c4956800-f49a-4bf1-b3d2-28114ffb5b9f","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2023-12-21 16:50:11,554 minium.Conn9744 connection#697 _handle_async_msg] received async msg: c4956800-f49a-4bf1-b3d2-28114ffb5b9f
[D 2023-12-21 16:50:14,180 minium.Conn9744 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/home/home","query":{},"openType":"reLaunch","__ts__":1703195414175},1703195414177]}}
[I 2023-12-21 16:50:14,183 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/home/home', 'query': {}, 'openType': 'reLaunch', '__ts__': 1703195414175}, 1703195414177]}
[D 2023-12-21 16:50:14,183 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"1be2cf2f-d932-4c7a-b4e6-121934e959e5","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:50:14,187 minium.Conn9744 connection#653 __on_message] RECV < {"id":"1be2cf2f-d932-4c7a-b4e6-121934e959e5","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:50:14,191 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"4df904a8-df6f-4b26-9b60-5910045ee14b","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2023-12-21 16:50:14,213 minium.Conn9744 connection#653 __on_message] RECV < {"id":"4df904a8-df6f-4b26-9b60-5910045ee14b","result":{"result":false}}
[D 2023-12-21 16:50:14,217 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2023-12-21 16:50:14,222 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"8edce0f3-8047-4145-8af2-c83ea4cdcf83","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2023-12-21 16:50:14,233 minium.Conn9744 connection#653 __on_message] RECV < {"id":"8edce0f3-8047-4145-8af2-c83ea4cdcf83","result":{}}
[D 2023-12-21 16:50:14,233 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"09456b3e-097a-4d5c-9d85-21abd51523dc","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2023-12-21 16:50:14,863 minium.Conn9744 connection#653 __on_message] RECV < {"id":"09456b3e-097a-4d5c-9d85-21abd51523dc","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2023-12-21 16:50:14,869 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"a636f2a0-2efd-4515-8b17-1607e45ed26d","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2023-12-21 16:50:14,880 minium.Conn9744 connection#653 __on_message] RECV < {"id":"a636f2a0-2efd-4515-8b17-1607e45ed26d","result":{}}
[D 2023-12-21 16:50:14,884 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"80a86343-d37a-4b16-960d-2a6efe31d0d1","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2023-12-21 16:50:14,894 minium.Conn9744 connection#653 __on_message] RECV < {"id":"80a86343-d37a-4b16-960d-2a6efe31d0d1","result":{"result":{"accountInfo":{"appId":"wx02da6f6037f28c99","nickname":"sandbox account of wxid_yalgzp87d9zt12","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2023-12-21 16:50:14,896 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"850248fa-00da-4e9b-9435-70db016a1e12","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:50:14,907 minium.Conn9744 connection#651 __on_message] RECV < {"id":"850248fa-00da-4e9b-9435-70db016a1e12","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":23,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[I 2023-12-21 16:50:14,909 minium minitest#189 init_miniprogram] end init miniprogram
[I 2023-12-21 16:50:14,917 minium minitest#370 _miniSetUp] =========Current case: test_search=========
[I 2023-12-21 16:50:14,921 minium minitest#373 _miniSetUp] package info: C:.Users.zhiha.OneDrive.Desktop.auto_minium.test3.search_test, case info: FirstTest.test_search
[I 2023-12-21 16:50:14,925 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2023-12-21 16:50:14,929 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2023-12-21 16:50:14,929 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2023-12-21 16:50:14,933 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2023-12-21 16:50:14,940 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2023-12-21 16:50:14,955 minium.Conn9744 connection#417 _safely_send] ASYNC_SEND > {"id":"12b64d12-cd92-4e09-92aa-7f4b73d33263","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:50:15,037 minium.Conn9744 connection#653 __on_message] RECV < {"id":"12b64d12-cd92-4e09-92aa-7f4b73d33263","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2023-12-21 16:50:15,037 minium.Conn9744 connection#697 _handle_async_msg] received async msg: 12b64d12-cd92-4e09-92aa-7f4b73d33263
[I 2023-12-21 16:50:15,045 minium minitest#717 capture] capture setup.png
[I 2023-12-21 16:50:15,048 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:50:15,048 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"e96b14f2-d540-4176-9a90-dd973edeec1b","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:50:15,360 minium.Conn9744 connection#651 __on_message] RECV < {"id":"e96b14f2-d540-4176-9a90-dd973edeec1b","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:50:15,368 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:50:15,371 minium minitest#424 _miniSetUp] =========case: test_search start=========
[I 2023-12-21 16:50:15,376 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 16:50:15,376 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"91c60c62-d2fc-4bf4-b485-866c068cb5a8","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":2}}
[D 2023-12-21 16:50:16,336 minium.Conn9744 connection#653 __on_message] RECV < {"id":"91c60c62-d2fc-4bf4-b485-866c068cb5a8","result":{"elements":[{"elementId":"f2e5944a-418c-4b32-bc89-eb2ccfe79323","tagName":"input"}]}}
[I 2023-12-21 16:50:16,338 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001D387A3C490>]
[I 2023-12-21 16:50:16,578 minium minitest#717 capture] capture assertTrue-success.png
[I 2023-12-21 16:50:16,578 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:50:16,582 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"6178af4b-8774-4a87-9b69-ef53378c7536","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:50:16,864 minium.Conn9744 connection#651 __on_message] RECV < {"id":"6178af4b-8774-4a87-9b69-ef53378c7536","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:50:16,872 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:50:16,877 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 16:50:16,878 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"db8c2f34-1f80-4247-82d8-71bb1c588a7d","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":2}}
[D 2023-12-21 16:50:17,398 minium.Conn9744 connection#653 __on_message] RECV < {"id":"db8c2f34-1f80-4247-82d8-71bb1c588a7d","result":{"elements":[{"elementId":"f2e5944a-418c-4b32-bc89-eb2ccfe79323","tagName":"input"}]}}
[I 2023-12-21 16:50:17,399 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001D387A50FD0>]
[D 2023-12-21 16:50:17,401 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"b5ecaa81-e039-4172-a66d-cd8d06cf2a92","method":"Element.tap","params":{"elementId":"f2e5944a-418c-4b32-bc89-eb2ccfe79323","pageId":2}}
[D 2023-12-21 16:50:17,916 minium.Conn9744 connection#653 __on_message] RECV < {"id":"b5ecaa81-e039-4172-a66d-cd8d06cf2a92","result":{}}
[D 2023-12-21 16:50:19,504 minium.Conn9744 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/goods/search/index","query":{},"openType":"navigateTo","__ts__":1703195419470},1703195419471]}}
[I 2023-12-21 16:50:19,509 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/goods/search/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1703195419470}, 1703195419471]}
[D 2023-12-21 16:50:22,920 minium page#321 wait_for] waitFor: 5.001546382904053 s
[D 2023-12-21 16:50:22,921 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"c7069be8-0411-4f73-985e-94d6e56cea0d","method":"Element.triggerEvent","params":{"type":"confirm","detail":{"value":"\u9e21"},"elementId":"f2e5944a-418c-4b32-bc89-eb2ccfe79323","pageId":2}}
[D 2023-12-21 16:50:22,963 minium.Conn9744 connection#653 __on_message] RECV < {"id":"c7069be8-0411-4f73-985e-94d6e56cea0d","result":{}}
[D 2023-12-21 16:50:22,967 minium minitest#620 _miniTearDown] =========Current case Down: test_search=========
[I 2023-12-21 16:50:22,971 minium minitest#717 capture] capture teardown.png
[I 2023-12-21 16:50:22,971 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:50:22,980 minium.Conn9744 connection#417 _safely_send] SEND > {"id":"cfb3978f-02a1-4c3d-8836-86cdd45e9914","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:50:23,180 minium.Conn9744 connection#651 __on_message] RECV < {"id":"cfb3978f-02a1-4c3d-8836-86cdd45e9914","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:50:23,184 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:50:23,184 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2023-12-21 16:50:23,184 minium basenative#29 wrapper] call BaseNative.get_start_up end
[I 2023-12-21 16:50:33,204 minium.SESSION session#67 run] case queue is empty, test complete, release None
[D 2023-12-21 16:50:33,204 minium.Conn9744 connection#417 _safely_send] ASYNC_SEND > {"id":"8560fe52-e0ab-407e-86c3-3e1b5507b76a","method":"Tool.close","params":{}}
[D 2023-12-21 16:50:33,208 minium.Conn9744 connection#653 __on_message] RECV < {"id":"8560fe52-e0ab-407e-86c3-3e1b5507b76a","result":{}}
[I 2023-12-21 16:50:33,208 minium.Conn9744 connection#697 _handle_async_msg] received async msg: 8560fe52-e0ab-407e-86c3-3e1b5507b76a, maybe command ignore response
[E 2023-12-21 16:50:33,240 minium.Conn9744 connection#632 _on_error] Connection to remote host was lost.
[I 2023-12-21 16:50:33,257 minium.Conn9744 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2023-12-21 16:50:34,228 minium basenative#25 wrapper] call IdeNative.stop_wechat
[I 2023-12-21 16:50:34,232 minium basenative#29 wrapper] call IdeNative.stop_wechat end
[I 2023-12-21 16:50:34,234 minium basenative#25 wrapper] call IdeNative.release
[I 2023-12-21 16:50:34,236 minium basenative#25 wrapper] call BaseNative.release
[I 2023-12-21 16:50:34,246 minium basenative#101 release] Native release
[I 2023-12-21 16:50:34,252 minium basenative#25 wrapper] call BaseNative.release_auto_authorize
[I 2023-12-21 16:50:34,254 minium basenative#29 wrapper] call BaseNative.release_auto_authorize end
[I 2023-12-21 16:50:34,258 minium basenative#29 wrapper] call BaseNative.release end
[I 2023-12-21 16:50:34,260 minium basenative#29 wrapper] call IdeNative.release end
[D 2023-12-21 16:51:53,279 minium loader#135 load_from_module] Loading module: test3.search_test
[D 2023-12-21 16:51:53,287 minium loader#139 load_from_module] put module[test3.search_test] into queue
[I 2023-12-21 16:51:53,350 minium loader#298 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test3', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-3', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221165153'}

[D 2023-12-21 16:51:54,291 minium minitest#278 _miniClassSetUp] =====================
[D 2023-12-21 16:51:54,291 minium minitest#279 _miniClassSetUp] Testing class：FirstTest
[D 2023-12-21 16:51:54,291 minium minitest#280 _miniClassSetUp] =====================
[I 2023-12-21 16:51:54,295 minium minitest#173 init_miniprogram] start init miniprogram
[I 2023-12-21 16:51:54,307 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2023-12-21 16:51:54,311 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2023-12-21 16:51:54,315 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2023-12-21 16:51:54,327 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\Users\zhiha\WeChatProjects\miniprogram-3" --auto-port 9420
[I 2023-12-21 16:51:58,319 minium minium_object#101 _do_shell] err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:25532
- preparing
- Fetching AppID (wx02da6f6037f28c99) permissions
√ Using AppID: wx02da6f6037f28c99
√ auto

[I 2023-12-21 16:51:58,325 minium minium_object#102 _do_shell] out:

[I 2023-12-21 16:52:08,327 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2023-12-21 16:52:08,547 minium.Conn5296 connection#342 _connect] connect to WebChatTools successfully
[D 2023-12-21 16:52:08,559 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"d7e8dfb8-dd79-481e-953d-eab9f144b864","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:52:08,619 minium.Conn5296 connection#653 __on_message] RECV < {"id":"d7e8dfb8-dd79-481e-953d-eab9f144b864","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:52:08,624 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"1ef7b64b-f895-46ad-ad4c-d5d8f77bcee2","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:52:23,879 minium.Conn5296 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2023-12-21 16:52:23,895 minium.Conn5296 connection#651 __on_message] RECV < {"id":"1ef7b64b-f895-46ad-ad4c-d5d8f77bcee2","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":22,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[D 2023-12-21 16:52:23,900 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2023-12-21 16:52:23,900 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"c647c3ae-39b7-4537-9737-d3f94b24375c","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2023-12-21 16:52:23,913 minium.Conn5296 connection#653 __on_message] RECV < {"id":"c647c3ae-39b7-4537-9737-d3f94b24375c","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2023-12-21 16:52:23,915 minium.Conn5296 connection#283 remove] remove key which is not in observers
[D 2023-12-21 16:52:23,917 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"1e99d364-f386-4be5-ad78-da10dd7f175f","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2023-12-21 16:52:23,924 minium.Conn5296 connection#653 __on_message] RECV < {"id":"1e99d364-f386-4be5-ad78-da10dd7f175f","result":{}}
[D 2023-12-21 16:52:23,926 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"2e977952-fdf0-49ae-a367-c1a907825fd9","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2023-12-21 16:52:23,932 minium.Conn5296 connection#653 __on_message] RECV < {"id":"2e977952-fdf0-49ae-a367-c1a907825fd9","result":{}}
[D 2023-12-21 16:52:23,935 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2023-12-21 16:52:23,935 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"491f1197-1404-4196-abfb-beda47b7067f","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2023-12-21 16:52:23,951 minium.Conn5296 connection#653 __on_message] RECV < {"id":"491f1197-1404-4196-abfb-beda47b7067f","result":{}}
[D 2023-12-21 16:52:23,951 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2023-12-21 16:52:23,957 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"709dafca-e60b-40f2-8bac-81526e4aa4fe","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2023-12-21 16:52:23,971 minium.Conn5296 connection#653 __on_message] RECV < {"id":"709dafca-e60b-40f2-8bac-81526e4aa4fe","result":{}}
[D 2023-12-21 16:52:23,974 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2023-12-21 16:52:23,976 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"646bec15-a9ce-41ad-9c79-bd6300a10db7","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2023-12-21 16:52:23,987 minium.Conn5296 connection#653 __on_message] RECV < {"id":"646bec15-a9ce-41ad-9c79-bd6300a10db7","result":{"result":true}}
[D 2023-12-21 16:52:23,990 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"ce559a8c-9364-4dfa-b4c8-5a33194e9b98","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2023-12-21 16:52:24,000 minium.Conn5296 connection#651 __on_message] RECV < {"id":"ce559a8c-9364-4dfa-b4c8-5a33194e9b98","result":{"result":{"pages":["pages/home/home","pages/usercenter/index","pages/usercenter/person-info/index","pages/usercenter/address/list/index","pages/usercenter/address/edit/index","pages/goods/list/index","pages/goods/details/index","pages/goods/category/index","pages/goods/search/index","pages/goods/result/index","pages/cart/index","pages/order/order-confirm/index","pages/order/receipt/index","pages/order/pay-result/index","pages/order/order-list/index",...
[D 2023-12-21 16:52:24,004 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"c2c91ff1-8ea7-42d0-b1b0-18b443215199","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2023-12-21 16:52:24,024 minium.Conn5296 connection#653 __on_message] RECV < {"id":"c2c91ff1-8ea7-42d0-b1b0-18b443215199","result":{"result":{"miniProgram":{"appId":"wx02da6f6037f28c99","envVersion":"develop","version":""}}}}
[D 2023-12-21 16:52:24,030 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"0ddbf3d9-13ee-4623-a0d1-e4c9113127d5","method":"App.addBinding","params":{"name":"showModal_before_1703195544030"}}
[D 2023-12-21 16:52:24,042 minium.Conn5296 connection#653 __on_message] RECV < {"id":"0ddbf3d9-13ee-4623-a0d1-e4c9113127d5","result":{}}
[D 2023-12-21 16:52:24,043 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"bc61800e-c4c6-4822-8ea5-b0ab1c063e8a","method":"App.addBinding","params":{"name":"showModal_callback_1703195544030"}}
[D 2023-12-21 16:52:24,066 minium.Conn5296 connection#653 __on_message] RECV < {"id":"bc61800e-c4c6-4822-8ea5-b0ab1c063e8a","result":{}}
[D 2023-12-21 16:52:24,066 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:52:24,071 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"fabfebe9-4773-4ad6-8f66-73e79b0e3abb","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1703195544030,after:undefined,callback:showModal_callback_1703195544030},!0):global.__minium__.delCall(_,l)}","args":["showModal",1703195544030,true]}}
[D 2023-12-21 16:52:24,079 minium.Conn5296 connection#653 __on_message] RECV < {"id":"fabfebe9-4773-4ad6-8f66-73e79b0e3abb","result":{}}
[D 2023-12-21 16:52:24,079 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"49776b92-37d0-4ab0-b8a6-51c7ce217207","method":"App.addBinding","params":{"name":"showToast_before_1703195544079"}}
[D 2023-12-21 16:52:24,089 minium.Conn5296 connection#653 __on_message] RECV < {"id":"49776b92-37d0-4ab0-b8a6-51c7ce217207","result":{}}
[D 2023-12-21 16:52:24,091 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"257e622b-cbb9-4436-a83d-fc0898e4e59b","method":"App.addBinding","params":{"name":"showToast_callback_1703195544079"}}
[D 2023-12-21 16:52:24,095 minium.Conn5296 connection#653 __on_message] RECV < {"id":"257e622b-cbb9-4436-a83d-fc0898e4e59b","result":{}}
[D 2023-12-21 16:52:24,100 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:52:24,103 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"660dbd54-66f8-4623-89ef-adef609f94ad","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1703195544079,after:undefined,callback:showToast_callback_1703195544079},!0):global.__minium__.delCall(_,l)}","args":["showToast",1703195544079,true]}}
[D 2023-12-21 16:52:24,183 minium.Conn5296 connection#653 __on_message] RECV < {"id":"660dbd54-66f8-4623-89ef-adef609f94ad","result":{}}
[D 2023-12-21 16:52:24,187 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"388ff616-8ef1-4402-a32a-b1c39df23bfb","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2023-12-21 16:52:24,199 minium.Conn5296 connection#653 __on_message] RECV < {"id":"388ff616-8ef1-4402-a32a-b1c39df23bfb","result":{"result":{"path":"pages/home/home","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2023-12-21 16:52:24,204 minium app#731 relaunch] ReLaunch: /pages/home/home
[D 2023-12-21 16:52:24,207 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"595e244e-73c7-49c4-8657-c4d50665d38e","method":"App.getCurrentPage","params":{}}
[D 2023-12-21 16:52:24,215 minium.Conn5296 connection#653 __on_message] RECV < {"id":"595e244e-73c7-49c4-8657-c4d50665d38e","result":{"pageId":1,"path":"pages/home/home","query":{}}}
[D 2023-12-21 16:52:24,215 minium.Conn5296 connection#417 _safely_send] ASYNC_SEND > {"id":"887edc02-f6ca-4a60-bdae-8b1fc8952707","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:52:24,352 minium.Conn5296 connection#653 __on_message] RECV < {"id":"887edc02-f6ca-4a60-bdae-8b1fc8952707","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2023-12-21 16:52:24,352 minium.Conn5296 connection#697 _handle_async_msg] received async msg: 887edc02-f6ca-4a60-bdae-8b1fc8952707
[D 2023-12-21 16:52:25,885 minium.Conn5296 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/home/home","query":{},"openType":"reLaunch","__ts__":1703195545834},1703195545836]}}
[I 2023-12-21 16:52:25,887 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/home/home', 'query': {}, 'openType': 'reLaunch', '__ts__': 1703195545834}, 1703195545836]}
[D 2023-12-21 16:52:25,887 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"24f3b02b-2882-4af3-af2a-c2a20152ac0b","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:52:25,899 minium.Conn5296 connection#653 __on_message] RECV < {"id":"24f3b02b-2882-4af3-af2a-c2a20152ac0b","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:52:25,911 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"f15c340b-0c3a-4257-ac5b-b3751c92a656","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2023-12-21 16:52:26,024 minium.Conn5296 connection#653 __on_message] RECV < {"id":"f15c340b-0c3a-4257-ac5b-b3751c92a656","result":{"result":false}}
[D 2023-12-21 16:52:26,028 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2023-12-21 16:52:26,032 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"aeea6215-e69a-4450-87c0-3040b49dab4c","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2023-12-21 16:52:26,056 minium.Conn5296 connection#653 __on_message] RECV < {"id":"aeea6215-e69a-4450-87c0-3040b49dab4c","result":{}}
[D 2023-12-21 16:52:26,056 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"e8cebe4b-dc0f-4c55-b390-7711cd8a0ff8","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2023-12-21 16:52:26,663 minium.Conn5296 connection#653 __on_message] RECV < {"id":"e8cebe4b-dc0f-4c55-b390-7711cd8a0ff8","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2023-12-21 16:52:26,667 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"b428c496-0766-40ab-82fd-e91e29b87675","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2023-12-21 16:52:26,807 minium.Conn5296 connection#653 __on_message] RECV < {"id":"b428c496-0766-40ab-82fd-e91e29b87675","result":{}}
[D 2023-12-21 16:52:26,811 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"5ec4c6af-45b8-4d33-aebc-6baca8006ef2","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2023-12-21 16:52:26,819 minium.Conn5296 connection#653 __on_message] RECV < {"id":"5ec4c6af-45b8-4d33-aebc-6baca8006ef2","result":{"result":{"accountInfo":{"appId":"wx02da6f6037f28c99","nickname":"sandbox account of wxid_yalgzp87d9zt12","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2023-12-21 16:52:26,819 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"7018fff2-cb44-48a7-8e00-7a8d9b9fd1cb","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:52:26,830 minium.Conn5296 connection#651 __on_message] RECV < {"id":"7018fff2-cb44-48a7-8e00-7a8d9b9fd1cb","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":22,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[I 2023-12-21 16:52:26,834 minium minitest#189 init_miniprogram] end init miniprogram
[I 2023-12-21 16:52:26,836 minium minitest#370 _miniSetUp] =========Current case: test_search=========
[I 2023-12-21 16:52:26,841 minium minitest#373 _miniSetUp] package info: C:.Users.zhiha.OneDrive.Desktop.auto_minium.test3.search_test, case info: FirstTest.test_search
[I 2023-12-21 16:52:26,848 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2023-12-21 16:52:26,848 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2023-12-21 16:52:26,853 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2023-12-21 16:52:26,857 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2023-12-21 16:52:26,860 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2023-12-21 16:52:26,862 minium.Conn5296 connection#417 _safely_send] ASYNC_SEND > {"id":"0f440d14-8a8e-4445-a81f-b3f1a3c44985","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:52:26,915 minium.Conn5296 connection#653 __on_message] RECV < {"id":"0f440d14-8a8e-4445-a81f-b3f1a3c44985","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2023-12-21 16:52:26,919 minium.Conn5296 connection#697 _handle_async_msg] received async msg: 0f440d14-8a8e-4445-a81f-b3f1a3c44985
[I 2023-12-21 16:52:26,923 minium minitest#717 capture] capture setup.png
[I 2023-12-21 16:52:26,925 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:52:26,927 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"62ec20f7-4970-45ba-a864-3bd41533120c","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:52:27,167 minium.Conn5296 connection#651 __on_message] RECV < {"id":"62ec20f7-4970-45ba-a864-3bd41533120c","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:52:27,171 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:52:27,171 minium minitest#424 _miniSetUp] =========case: test_search start=========
[I 2023-12-21 16:52:27,175 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 16:52:27,175 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"e73a4f7d-df09-4aec-8685-038b287bbed4","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":2}}
[D 2023-12-21 16:52:27,401 minium.Conn5296 connection#653 __on_message] RECV < {"id":"e73a4f7d-df09-4aec-8685-038b287bbed4","result":{"elements":[{"elementId":"32ee68f1-fe45-4faa-a0f8-0411e3f15d18","tagName":"input"}]}}
[I 2023-12-21 16:52:27,405 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001723D8AC590>]
[I 2023-12-21 16:52:27,599 minium minitest#717 capture] capture assertTrue-success.png
[I 2023-12-21 16:52:27,602 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:52:27,604 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"87bfb133-6400-4878-aae4-6cdbf7ea208e","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:52:28,058 minium.Conn5296 connection#651 __on_message] RECV < {"id":"87bfb133-6400-4878-aae4-6cdbf7ea208e","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:52:28,067 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:52:28,070 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 16:52:28,078 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"84f43b6d-aa1b-4081-83b8-7f1295d10606","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":2}}
[D 2023-12-21 16:52:28,094 minium.Conn5296 connection#653 __on_message] RECV < {"id":"84f43b6d-aa1b-4081-83b8-7f1295d10606","result":{"elements":[{"elementId":"32ee68f1-fe45-4faa-a0f8-0411e3f15d18","tagName":"input"}]}}
[I 2023-12-21 16:52:28,097 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001723D8BD350>]
[D 2023-12-21 16:52:28,100 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"b9031ea6-9fed-4025-8cc9-4a79cdbf3153","method":"Element.tap","params":{"elementId":"32ee68f1-fe45-4faa-a0f8-0411e3f15d18","pageId":2}}
[D 2023-12-21 16:52:28,271 minium.Conn5296 connection#653 __on_message] RECV < {"id":"b9031ea6-9fed-4025-8cc9-4a79cdbf3153","result":{}}
[D 2023-12-21 16:52:29,024 minium.Conn5296 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/goods/search/index","query":{},"openType":"navigateTo","__ts__":1703195549004},1703195549004]}}
[I 2023-12-21 16:52:29,028 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/goods/search/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1703195549004}, 1703195549004]}
[D 2023-12-21 16:52:33,277 minium page#321 wait_for] waitFor: 5.001232624053955 s
[I 2023-12-21 16:52:33,278 minium page#557 _get_elements_by_css] try to get elements: view[data-index='1']
[D 2023-12-21 16:52:33,278 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"126ff469-ea34-4b0e-87ce-d2e5e5564943","method":"Page.getElements","params":{"selector":"view[data-index='1']","pageId":4}}
[D 2023-12-21 16:52:33,321 minium.Conn5296 connection#653 __on_message] RECV < {"id":"126ff469-ea34-4b0e-87ce-d2e5e5564943","result":{"elements":[{"elementId":"ea66d0fd-88fc-43d0-a51f-64e6101a4421","tagName":"view"},{"elementId":"77dbb5f1-b1fa-4ecc-a266-273ec98030eb","tagName":"view"}]}}
[I 2023-12-21 16:52:33,324 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x000001723D6B3E90>]
[I 2023-12-21 16:52:33,350 minium minitest#717 capture] capture assertTrue-success_165233350868.png
[I 2023-12-21 16:52:33,352 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:52:33,360 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"6702ad54-668d-48de-a0b4-2b0e609b04bd","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:52:33,563 minium.Conn5296 connection#651 __on_message] RECV < {"id":"6702ad54-668d-48de-a0b4-2b0e609b04bd","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:52:33,567 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:52:33,567 minium page#557 _get_elements_by_css] try to get elements: view[data-index='1']
[D 2023-12-21 16:52:33,569 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"4015a8c3-8e46-43a4-8531-d0c738ded875","method":"Page.getElements","params":{"selector":"view[data-index='1']","pageId":4}}
[D 2023-12-21 16:52:33,585 minium.Conn5296 connection#653 __on_message] RECV < {"id":"4015a8c3-8e46-43a4-8531-d0c738ded875","result":{"elements":[{"elementId":"ea66d0fd-88fc-43d0-a51f-64e6101a4421","tagName":"view"},{"elementId":"77dbb5f1-b1fa-4ecc-a266-273ec98030eb","tagName":"view"}]}}
[I 2023-12-21 16:52:33,587 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x000001723D8BC190>]
[D 2023-12-21 16:52:33,589 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"4df983b2-ddda-4d39-9e8d-c41878f9fd94","method":"Element.tap","params":{"elementId":"ea66d0fd-88fc-43d0-a51f-64e6101a4421","pageId":4}}
[D 2023-12-21 16:52:33,727 minium.Conn5296 connection#653 __on_message] RECV < {"id":"4df983b2-ddda-4d39-9e8d-c41878f9fd94","result":{}}
[D 2023-12-21 16:52:34,581 minium.Conn5296 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":5,"path":"pages/goods/result/index","query":{"searchValue":"%E7%94%B5%E8%84%91"},"openType":"navigateTo","__ts__":1703195554578},1703195554578]}}
[I 2023-12-21 16:52:34,585 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 5, 'path': 'pages/goods/result/index', 'query': {'searchValue': '%E7%94%B5%E8%84%91'}, 'openType': 'navigateTo', '__ts__': 1703195554578}, 1703195554578]}
[D 2023-12-21 16:52:38,733 minium page#321 wait_for] waitFor: 5.001617431640625 s
[D 2023-12-21 16:52:38,733 minium minitest#620 _miniTearDown] =========Current case Down: test_search=========
[I 2023-12-21 16:52:38,737 minium minitest#717 capture] capture teardown.png
[I 2023-12-21 16:52:38,738 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:52:38,738 minium.Conn5296 connection#417 _safely_send] SEND > {"id":"1cfb485e-bd3c-4c68-9875-351921dcd6a6","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:52:39,239 minium.Conn5296 connection#651 __on_message] RECV < {"id":"1cfb485e-bd3c-4c68-9875-351921dcd6a6","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:52:39,259 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:52:39,259 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2023-12-21 16:52:39,259 minium basenative#29 wrapper] call BaseNative.get_start_up end
[I 2023-12-21 16:52:49,287 minium.SESSION session#67 run] case queue is empty, test complete, release None
[D 2023-12-21 16:52:49,288 minium.Conn5296 connection#417 _safely_send] ASYNC_SEND > {"id":"904016a3-b1b1-45d6-9085-edfdfd39633f","method":"Tool.close","params":{}}
[D 2023-12-21 16:52:49,291 minium.Conn5296 connection#653 __on_message] RECV < {"id":"904016a3-b1b1-45d6-9085-edfdfd39633f","result":{}}
[I 2023-12-21 16:52:49,291 minium.Conn5296 connection#697 _handle_async_msg] received async msg: 904016a3-b1b1-45d6-9085-edfdfd39633f, maybe command ignore response
[E 2023-12-21 16:52:49,315 minium.Conn5296 connection#632 _on_error] Connection to remote host was lost.
[I 2023-12-21 16:52:49,319 minium.Conn5296 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2023-12-21 16:52:50,301 minium basenative#25 wrapper] call IdeNative.stop_wechat
[I 2023-12-21 16:52:50,303 minium basenative#29 wrapper] call IdeNative.stop_wechat end
[I 2023-12-21 16:52:50,303 minium basenative#25 wrapper] call IdeNative.release
[I 2023-12-21 16:52:50,303 minium basenative#25 wrapper] call BaseNative.release
[I 2023-12-21 16:52:50,306 minium basenative#101 release] Native release
[I 2023-12-21 16:52:50,311 minium basenative#25 wrapper] call BaseNative.release_auto_authorize
[I 2023-12-21 16:52:50,312 minium basenative#29 wrapper] call BaseNative.release_auto_authorize end
[I 2023-12-21 16:52:50,312 minium basenative#29 wrapper] call BaseNative.release end
[I 2023-12-21 16:52:50,312 minium basenative#29 wrapper] call IdeNative.release end
[D 2023-12-21 16:53:14,247 minium loader#135 load_from_module] Loading module: test3.search_test
[D 2023-12-21 16:53:14,259 minium loader#139 load_from_module] put module[test3.search_test] into queue
[I 2023-12-21 16:53:14,317 minium loader#298 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test3', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-3', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221165314'}

[D 2023-12-21 16:53:15,239 minium minitest#278 _miniClassSetUp] =====================
[D 2023-12-21 16:53:15,239 minium minitest#279 _miniClassSetUp] Testing class：FirstTest
[D 2023-12-21 16:53:15,241 minium minitest#280 _miniClassSetUp] =====================
[I 2023-12-21 16:53:15,241 minium minitest#173 init_miniprogram] start init miniprogram
[I 2023-12-21 16:53:15,245 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2023-12-21 16:53:15,251 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2023-12-21 16:53:15,253 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2023-12-21 16:53:15,258 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\Users\zhiha\WeChatProjects\miniprogram-3" --auto-port 9420
[I 2023-12-21 16:53:19,394 minium minium_object#101 _do_shell] err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:25532
- preparing
- Fetching AppID (wx02da6f6037f28c99) permissions
√ Using AppID: wx02da6f6037f28c99
√ auto

[I 2023-12-21 16:53:19,395 minium minium_object#102 _do_shell] out:

[I 2023-12-21 16:53:29,402 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2023-12-21 16:53:29,676 minium.Conn2304 connection#342 _connect] connect to WebChatTools successfully
[D 2023-12-21 16:53:29,678 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"940cbd4a-a3c7-4510-a1ef-586befc53ca8","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:53:29,699 minium.Conn2304 connection#653 __on_message] RECV < {"id":"940cbd4a-a3c7-4510-a1ef-586befc53ca8","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:53:29,723 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"2d63f737-a295-4492-8bdc-89b89f3fecde","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:53:43,143 minium.Conn2304 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2023-12-21 16:53:43,151 minium.Conn2304 connection#651 __on_message] RECV < {"id":"2d63f737-a295-4492-8bdc-89b89f3fecde","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":22,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[D 2023-12-21 16:53:43,153 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2023-12-21 16:53:43,156 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"73d007c4-8ce0-4c5c-833a-17eacc4a967c","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2023-12-21 16:53:43,169 minium.Conn2304 connection#653 __on_message] RECV < {"id":"73d007c4-8ce0-4c5c-833a-17eacc4a967c","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2023-12-21 16:53:43,174 minium.Conn2304 connection#283 remove] remove key which is not in observers
[D 2023-12-21 16:53:43,175 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"8b5573a8-2886-4d10-85c3-67a51a79b68f","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2023-12-21 16:53:43,213 minium.Conn2304 connection#653 __on_message] RECV < {"id":"8b5573a8-2886-4d10-85c3-67a51a79b68f","result":{}}
[D 2023-12-21 16:53:43,216 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"35467d84-5781-4fcd-a306-85933fdce144","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2023-12-21 16:53:43,242 minium.Conn2304 connection#653 __on_message] RECV < {"id":"35467d84-5781-4fcd-a306-85933fdce144","result":{}}
[D 2023-12-21 16:53:43,244 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2023-12-21 16:53:43,247 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"fed21398-5e89-4f44-9e46-b7b1ceb5a7fb","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2023-12-21 16:53:43,263 minium.Conn2304 connection#653 __on_message] RECV < {"id":"fed21398-5e89-4f44-9e46-b7b1ceb5a7fb","result":{}}
[D 2023-12-21 16:53:43,268 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2023-12-21 16:53:43,271 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"255c8668-aeb0-44f7-9c78-2b2885706fcb","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2023-12-21 16:53:43,283 minium.Conn2304 connection#653 __on_message] RECV < {"id":"255c8668-aeb0-44f7-9c78-2b2885706fcb","result":{}}
[D 2023-12-21 16:53:43,288 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2023-12-21 16:53:43,290 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"ebf5c048-1464-4f9d-b47f-64e88589620f","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2023-12-21 16:53:43,304 minium.Conn2304 connection#653 __on_message] RECV < {"id":"ebf5c048-1464-4f9d-b47f-64e88589620f","result":{"result":true}}
[D 2023-12-21 16:53:43,305 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"450dd5fb-8a0b-47ef-8be6-bf301fb59915","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2023-12-21 16:53:43,320 minium.Conn2304 connection#651 __on_message] RECV < {"id":"450dd5fb-8a0b-47ef-8be6-bf301fb59915","result":{"result":{"pages":["pages/home/home","pages/usercenter/index","pages/usercenter/person-info/index","pages/usercenter/address/list/index","pages/usercenter/address/edit/index","pages/goods/list/index","pages/goods/details/index","pages/goods/category/index","pages/goods/search/index","pages/goods/result/index","pages/cart/index","pages/order/order-confirm/index","pages/order/receipt/index","pages/order/pay-result/index","pages/order/order-list/index",...
[D 2023-12-21 16:53:43,323 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"7ce1f9b8-d3c4-4855-a144-3b22e54be469","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2023-12-21 16:53:43,331 minium.Conn2304 connection#653 __on_message] RECV < {"id":"7ce1f9b8-d3c4-4855-a144-3b22e54be469","result":{"result":{"miniProgram":{"appId":"wx02da6f6037f28c99","envVersion":"develop","version":""}}}}
[D 2023-12-21 16:53:43,331 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"7519a0a0-9490-45c0-8231-a31e8effc31b","method":"App.addBinding","params":{"name":"showModal_before_1703195623331"}}
[D 2023-12-21 16:53:43,338 minium.Conn2304 connection#653 __on_message] RECV < {"id":"7519a0a0-9490-45c0-8231-a31e8effc31b","result":{}}
[D 2023-12-21 16:53:43,342 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"4198eef8-eb65-41f5-9be7-80fe00e573a2","method":"App.addBinding","params":{"name":"showModal_callback_1703195623331"}}
[D 2023-12-21 16:53:43,346 minium.Conn2304 connection#653 __on_message] RECV < {"id":"4198eef8-eb65-41f5-9be7-80fe00e573a2","result":{}}
[D 2023-12-21 16:53:43,348 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:53:43,350 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"701575eb-a165-430a-a001-02d97698e195","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1703195623331,after:undefined,callback:showModal_callback_1703195623331},!0):global.__minium__.delCall(_,l)}","args":["showModal",1703195623331,true]}}
[D 2023-12-21 16:53:43,358 minium.Conn2304 connection#653 __on_message] RECV < {"id":"701575eb-a165-430a-a001-02d97698e195","result":{}}
[D 2023-12-21 16:53:43,362 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"d60d4d6e-fe36-4a3a-bd2f-0fdb96cc2b3a","method":"App.addBinding","params":{"name":"showToast_before_1703195623362"}}
[D 2023-12-21 16:53:43,368 minium.Conn2304 connection#653 __on_message] RECV < {"id":"d60d4d6e-fe36-4a3a-bd2f-0fdb96cc2b3a","result":{}}
[D 2023-12-21 16:53:43,371 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"486309d9-876d-4ed4-989a-21cb75a1faed","method":"App.addBinding","params":{"name":"showToast_callback_1703195623362"}}
[D 2023-12-21 16:53:43,379 minium.Conn2304 connection#653 __on_message] RECV < {"id":"486309d9-876d-4ed4-989a-21cb75a1faed","result":{}}
[D 2023-12-21 16:53:43,379 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 16:53:43,383 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"1945ef75-f828-4c98-8231-d5ead2a58540","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1703195623362,after:undefined,callback:showToast_callback_1703195623362},!0):global.__minium__.delCall(_,l)}","args":["showToast",1703195623362,true]}}
[D 2023-12-21 16:53:43,391 minium.Conn2304 connection#653 __on_message] RECV < {"id":"1945ef75-f828-4c98-8231-d5ead2a58540","result":{}}
[D 2023-12-21 16:53:43,396 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"8a193003-34a2-4840-87a6-a8e7274671ce","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2023-12-21 16:53:43,403 minium.Conn2304 connection#653 __on_message] RECV < {"id":"8a193003-34a2-4840-87a6-a8e7274671ce","result":{"result":{"path":"pages/home/home","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2023-12-21 16:53:43,407 minium app#731 relaunch] ReLaunch: /pages/home/home
[D 2023-12-21 16:53:43,407 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"56f0c3cc-e046-4b6b-b69f-d16a1312fc90","method":"App.getCurrentPage","params":{}}
[D 2023-12-21 16:53:43,415 minium.Conn2304 connection#653 __on_message] RECV < {"id":"56f0c3cc-e046-4b6b-b69f-d16a1312fc90","result":{"pageId":1,"path":"pages/home/home","query":{}}}
[D 2023-12-21 16:53:43,419 minium.Conn2304 connection#417 _safely_send] ASYNC_SEND > {"id":"9984df25-d9fb-4634-941e-1f3e1d6c52a6","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:53:43,577 minium.Conn2304 connection#653 __on_message] RECV < {"id":"9984df25-d9fb-4634-941e-1f3e1d6c52a6","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2023-12-21 16:53:43,579 minium.Conn2304 connection#697 _handle_async_msg] received async msg: 9984df25-d9fb-4634-941e-1f3e1d6c52a6
[D 2023-12-21 16:53:45,208 minium.Conn2304 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/home/home","query":{},"openType":"reLaunch","__ts__":1703195625128},1703195625129]}}
[I 2023-12-21 16:53:45,230 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/home/home', 'query': {}, 'openType': 'reLaunch', '__ts__': 1703195625128}, 1703195625129]}
[D 2023-12-21 16:53:45,230 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"8241ba39-d00e-4dfd-8f6e-862b861aaca4","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:53:45,239 minium.Conn2304 connection#653 __on_message] RECV < {"id":"8241ba39-d00e-4dfd-8f6e-862b861aaca4","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:53:45,241 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"99ec0453-9890-4553-93c3-0c8caff358e4","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2023-12-21 16:53:45,363 minium.Conn2304 connection#653 __on_message] RECV < {"id":"99ec0453-9890-4553-93c3-0c8caff358e4","result":{"result":false}}
[D 2023-12-21 16:53:45,367 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2023-12-21 16:53:45,367 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"7bb9ba8c-d6b6-488a-ba1c-67048e8a72b9","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2023-12-21 16:53:45,379 minium.Conn2304 connection#653 __on_message] RECV < {"id":"7bb9ba8c-d6b6-488a-ba1c-67048e8a72b9","result":{}}
[D 2023-12-21 16:53:45,380 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"6b34b9a1-56ed-43d9-95f8-6376b7a375af","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2023-12-21 16:53:45,987 minium.Conn2304 connection#653 __on_message] RECV < {"id":"6b34b9a1-56ed-43d9-95f8-6376b7a375af","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2023-12-21 16:53:45,992 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"16763be0-04aa-430e-a483-18bdcef4c9a1","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2023-12-21 16:53:46,003 minium.Conn2304 connection#653 __on_message] RECV < {"id":"16763be0-04aa-430e-a483-18bdcef4c9a1","result":{}}
[D 2023-12-21 16:53:46,009 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"2b702a9a-def1-44f0-95a2-ed93aa9f721c","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2023-12-21 16:53:46,018 minium.Conn2304 connection#653 __on_message] RECV < {"id":"2b702a9a-def1-44f0-95a2-ed93aa9f721c","result":{"result":{"accountInfo":{"appId":"wx02da6f6037f28c99","nickname":"sandbox account of wxid_yalgzp87d9zt12","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2023-12-21 16:53:46,019 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"89b9acf7-d262-49eb-a75b-ad8bdf2cc834","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 16:53:46,025 minium.Conn2304 connection#651 __on_message] RECV < {"id":"89b9acf7-d262-49eb-a75b-ad8bdf2cc834","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":22,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[I 2023-12-21 16:53:46,029 minium minitest#189 init_miniprogram] end init miniprogram
[I 2023-12-21 16:53:46,046 minium minitest#370 _miniSetUp] =========Current case: test_search=========
[I 2023-12-21 16:53:46,050 minium minitest#373 _miniSetUp] package info: C:.Users.zhiha.OneDrive.Desktop.auto_minium.test3.search_test, case info: FirstTest.test_search
[I 2023-12-21 16:53:46,052 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2023-12-21 16:53:46,053 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2023-12-21 16:53:46,054 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2023-12-21 16:53:46,056 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2023-12-21 16:53:46,056 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2023-12-21 16:53:46,064 minium.Conn2304 connection#417 _safely_send] ASYNC_SEND > {"id":"60209b7e-18ac-4393-8514-09cdeb4d6644","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 16:53:46,143 minium.Conn2304 connection#653 __on_message] RECV < {"id":"60209b7e-18ac-4393-8514-09cdeb4d6644","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2023-12-21 16:53:46,147 minium.Conn2304 connection#697 _handle_async_msg] received async msg: 60209b7e-18ac-4393-8514-09cdeb4d6644
[I 2023-12-21 16:53:46,151 minium minitest#717 capture] capture setup.png
[I 2023-12-21 16:53:46,151 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:53:46,151 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"c9f61e7c-4e28-4998-8f8c-7787a5067be1","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:53:46,343 minium.Conn2304 connection#651 __on_message] RECV < {"id":"c9f61e7c-4e28-4998-8f8c-7787a5067be1","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:53:46,346 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:53:46,350 minium minitest#424 _miniSetUp] =========case: test_search start=========
[I 2023-12-21 16:53:46,351 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 16:53:46,354 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"77a3bab9-2e05-4108-9515-d440ea48bc10","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":2}}
[D 2023-12-21 16:53:48,095 minium.Conn2304 connection#653 __on_message] RECV < {"id":"77a3bab9-2e05-4108-9515-d440ea48bc10","result":{"elements":[{"elementId":"05cab842-94e9-4eb2-b30b-059c0738758d","tagName":"input"}]}}
[I 2023-12-21 16:53:48,095 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001E3F230C610>]
[I 2023-12-21 16:53:48,293 minium minitest#717 capture] capture assertTrue-success.png
[I 2023-12-21 16:53:48,293 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:53:48,293 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"85b68825-0608-4149-a11f-d894dd08cd5c","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:53:48,839 minium.Conn2304 connection#651 __on_message] RECV < {"id":"85b68825-0608-4149-a11f-d894dd08cd5c","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:53:48,843 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:53:48,846 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 16:53:48,848 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"2b225b21-2934-4838-b82e-5f9aca7e2af4","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":2}}
[D 2023-12-21 16:53:49,412 minium.Conn2304 connection#653 __on_message] RECV < {"id":"2b225b21-2934-4838-b82e-5f9aca7e2af4","result":{"elements":[{"elementId":"05cab842-94e9-4eb2-b30b-059c0738758d","tagName":"input"}]}}
[I 2023-12-21 16:53:49,418 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001E3EEBA02D0>]
[D 2023-12-21 16:53:49,425 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"8692205b-e08b-41ce-87a0-a0e2513e6d17","method":"Element.tap","params":{"elementId":"05cab842-94e9-4eb2-b30b-059c0738758d","pageId":2}}
[D 2023-12-21 16:53:49,803 minium.Conn2304 connection#653 __on_message] RECV < {"id":"8692205b-e08b-41ce-87a0-a0e2513e6d17","result":{}}
[D 2023-12-21 16:53:51,381 minium.Conn2304 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/goods/search/index","query":{},"openType":"navigateTo","__ts__":1703195631347},1703195631348]}}
[I 2023-12-21 16:53:51,381 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/goods/search/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1703195631347}, 1703195631348]}
[D 2023-12-21 16:53:54,815 minium page#321 wait_for] waitFor: 5.004059791564941 s
[I 2023-12-21 16:53:54,815 minium page#557 _get_elements_by_css] try to get elements: view[data-index='1']
[D 2023-12-21 16:53:54,819 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"e104cd30-3930-4817-8ce7-ba88c3c89eda","method":"Page.getElements","params":{"selector":"view[data-index='1']","pageId":4}}
[D 2023-12-21 16:53:54,862 minium.Conn2304 connection#653 __on_message] RECV < {"id":"e104cd30-3930-4817-8ce7-ba88c3c89eda","result":{"elements":[{"elementId":"544a71fa-6e31-4afb-85d4-b56121fcb698","tagName":"view"},{"elementId":"a517d96a-7a89-4b3a-86c5-c536913d6090","tagName":"view"}]}}
[I 2023-12-21 16:53:54,867 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x000001E3F230EA10>]
[I 2023-12-21 16:53:54,875 minium minitest#717 capture] capture assertTrue-success_165354875628.png
[I 2023-12-21 16:53:54,875 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:53:54,880 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"255bf1e5-2916-4aa1-89e7-588eee5e24ee","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:53:55,073 minium.Conn2304 connection#651 __on_message] RECV < {"id":"255bf1e5-2916-4aa1-89e7-588eee5e24ee","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:53:55,077 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:53:55,079 minium page#557 _get_elements_by_css] try to get elements: view[data-index='1']
[D 2023-12-21 16:53:55,081 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"324737d7-d255-434d-a4f8-309c1772ebff","method":"Page.getElements","params":{"selector":"view[data-index='1']","pageId":4}}
[D 2023-12-21 16:53:55,097 minium.Conn2304 connection#653 __on_message] RECV < {"id":"324737d7-d255-434d-a4f8-309c1772ebff","result":{"elements":[{"elementId":"544a71fa-6e31-4afb-85d4-b56121fcb698","tagName":"view"},{"elementId":"a517d96a-7a89-4b3a-86c5-c536913d6090","tagName":"view"}]}}
[I 2023-12-21 16:53:55,097 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x000001E3F230ED50>]
[D 2023-12-21 16:53:55,101 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"1ac5606f-da23-4404-b4b6-84c48ffa9676","method":"Element.tap","params":{"elementId":"544a71fa-6e31-4afb-85d4-b56121fcb698","pageId":4}}
[D 2023-12-21 16:53:55,261 minium.Conn2304 connection#653 __on_message] RECV < {"id":"1ac5606f-da23-4404-b4b6-84c48ffa9676","result":{}}
[D 2023-12-21 16:53:56,166 minium.Conn2304 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":5,"path":"pages/goods/result/index","query":{"searchValue":"%E7%94%B5%E8%84%91"},"openType":"navigateTo","__ts__":1703195636126},1703195636126]}}
[I 2023-12-21 16:53:56,171 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 5, 'path': 'pages/goods/result/index', 'query': {'searchValue': '%E7%94%B5%E8%84%91'}, 'openType': 'navigateTo', '__ts__': 1703195636126}, 1703195636126]}
[D 2023-12-21 16:54:00,263 minium page#321 wait_for] waitFor: 5.0016868114471436 s
[I 2023-12-21 16:54:00,266 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:54:00,266 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"b18ed487-9030-47e0-abee-dd6c81cf069d","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":5}}
[D 2023-12-21 16:54:00,291 minium.Conn2304 connection#653 __on_message] RECV < {"id":"b18ed487-9030-47e0-abee-dd6c81cf069d","result":{"elements":[]}}
[W 2023-12-21 16:54:00,294 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:54:01,300 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:54:01,300 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"a6bc0bd5-3164-40b4-8684-98c1adf92268","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":5}}
[D 2023-12-21 16:54:01,311 minium.Conn2304 connection#653 __on_message] RECV < {"id":"a6bc0bd5-3164-40b4-8684-98c1adf92268","result":{"elements":[]}}
[W 2023-12-21 16:54:01,315 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:54:02,320 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:54:02,327 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"74015a05-f8ea-4e10-9410-7b8d5761180c","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":5}}
[D 2023-12-21 16:54:02,369 minium.Conn2304 connection#653 __on_message] RECV < {"id":"74015a05-f8ea-4e10-9410-7b8d5761180c","result":{"elements":[]}}
[W 2023-12-21 16:54:02,371 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:54:03,377 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:54:03,379 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"e2f82e14-2d5e-4c17-beaf-6a82835b587f","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":5}}
[D 2023-12-21 16:54:03,395 minium.Conn2304 connection#653 __on_message] RECV < {"id":"e2f82e14-2d5e-4c17-beaf-6a82835b587f","result":{"elements":[]}}
[W 2023-12-21 16:54:03,396 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:54:04,401 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:54:04,403 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"ba493d56-2aa1-4637-b31d-194e62d12487","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":5}}
[D 2023-12-21 16:54:04,447 minium.Conn2304 connection#653 __on_message] RECV < {"id":"ba493d56-2aa1-4637-b31d-194e62d12487","result":{"elements":[]}}
[W 2023-12-21 16:54:04,447 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:54:05,454 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:54:05,456 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"b0dff6a3-be0e-4847-9130-2d36c0d64652","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":5}}
[D 2023-12-21 16:54:05,507 minium.Conn2304 connection#653 __on_message] RECV < {"id":"b0dff6a3-be0e-4847-9130-2d36c0d64652","result":{"elements":[]}}
[W 2023-12-21 16:54:05,509 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:54:06,518 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:54:06,518 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"94e50975-28ce-4c77-9fe2-b8ebebadda78","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":5}}
[D 2023-12-21 16:54:06,625 minium.Conn2304 connection#653 __on_message] RECV < {"id":"94e50975-28ce-4c77-9fe2-b8ebebadda78","result":{"elements":[]}}
[W 2023-12-21 16:54:06,628 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:54:07,632 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:54:07,632 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"f3389823-f5db-4470-bd26-8690772c82c3","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":5}}
[D 2023-12-21 16:54:07,667 minium.Conn2304 connection#653 __on_message] RECV < {"id":"f3389823-f5db-4470-bd26-8690772c82c3","result":{"elements":[]}}
[W 2023-12-21 16:54:07,671 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:54:08,676 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:54:08,676 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"e84a74f4-4598-45c9-a842-5d5b7d2b1ed1","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":5}}
[D 2023-12-21 16:54:08,688 minium.Conn2304 connection#653 __on_message] RECV < {"id":"e84a74f4-4598-45c9-a842-5d5b7d2b1ed1","result":{"elements":[]}}
[W 2023-12-21 16:54:08,692 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:54:09,696 minium page#557 _get_elements_by_css] try to get elements: view[class='goods-card__body']
[D 2023-12-21 16:54:09,696 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"6ced443e-cc97-4abf-99fe-361409695197","method":"Page.getElements","params":{"selector":"view[class='goods-card__body']","pageId":5}}
[D 2023-12-21 16:54:09,707 minium.Conn2304 connection#653 __on_message] RECV < {"id":"6ced443e-cc97-4abf-99fe-361409695197","result":{"elements":[]}}
[W 2023-12-21 16:54:09,707 minium page#562 _get_elements_by_css] Could not found any element 'view[class='goods-card__body']' you need
[I 2023-12-21 16:54:10,720 minium minitest#717 capture] capture assertTrue-failed.png
[I 2023-12-21 16:54:10,722 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:54:10,725 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"f4a3f47e-a2aa-4bdf-b5d6-1d63d6aff747","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:54:11,260 minium.Conn2304 connection#651 __on_message] RECV < {"id":"f4a3f47e-a2aa-4bdf-b5d6-1d63d6aff747","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:54:11,291 minium basenative#29 wrapper] call IdeNative.screen_shot end
[D 2023-12-21 16:54:11,301 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"2076638a-12bb-4b49-819a-7cda0a083064","method":"Page.getElementByXpath","params":{"selector":"/*","pageId":5}}
[D 2023-12-21 16:54:11,336 minium.Conn2304 connection#653 __on_message] RECV < {"id":"2076638a-12bb-4b49-819a-7cda0a083064","result":{"elementId":"d5285b12-9971-4d85-a42f-4878fa930f1c","tagName":"tab-bar-wrapper"}}
[D 2023-12-21 16:54:11,340 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"3cce1033-d739-4fc7-aa2c-b64aabb3e809","method":"Element.getWXML","params":{"type":"outer","elementId":"d5285b12-9971-4d85-a42f-4878fa930f1c","pageId":5}}
[D 2023-12-21 16:54:11,355 minium.Conn2304 connection#653 __on_message] RECV < {"id":"3cce1033-d739-4fc7-aa2c-b64aabb3e809","result":{"wxml":"<tab-bar-wrapper></tab-bar-wrapper>"}}
[D 2023-12-21 16:54:11,363 minium minitest#620 _miniTearDown] =========Current case Down: test_search=========
[I 2023-12-21 16:54:11,368 minium minitest#717 capture] capture teardown.png
[I 2023-12-21 16:54:11,370 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 16:54:11,370 minium.Conn2304 connection#417 _safely_send] SEND > {"id":"30f0ee38-ed16-43a0-b0b9-7c932d0b61cc","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 16:54:11,926 minium.Conn2304 connection#651 __on_message] RECV < {"id":"30f0ee38-ed16-43a0-b0b9-7c932d0b61cc","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 16:54:11,935 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 16:54:11,939 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2023-12-21 16:54:11,939 minium basenative#29 wrapper] call BaseNative.get_start_up end
[E 2023-12-21 16:54:11,954 minium assertbase#349 _get_stack_info] <bound method FirstTest.test_search of <test3.search_test.FirstTest testMethod=test_search>>
Traceback (most recent call last):
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\minium\framework\libs\unittest\case.py", line 42, in testPartExecutor
    yield
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\minium\framework\libs\unittest\case.py", line 124, in run
    self._callTestMethod(testMethod)
AssertionError: False is not true : 用户搜索后是否弹出搜索结果
[W 2023-12-21 16:54:11,959 minium assertbase#331 _log_info_when_error] config: {'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test3', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-3', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221165314', 'case_output': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs\\20231221165314\\test_search\\20231221165346032189'}
[W 2023-12-21 16:54:11,963 minium assertbase#332 _log_info_when_error] build info: {'version': '1.4.6', 'revision': 'b389ff4b1d94cc73bb5363fc602f5823512df292', 'branch': 'master', 'update_at': '2023-08-28 17:46:51'}
[W 2023-12-21 16:54:11,967 minium minitest#828 _log_info_when_error] native: <minium.native.wx_native.idenative.IdeNative object at 0x000001E3F22BD910>
[I 2023-12-21 16:54:21,987 minium.SESSION session#67 run] case queue is empty, test complete, release None
[D 2023-12-21 16:54:21,987 minium.Conn2304 connection#417 _safely_send] ASYNC_SEND > {"id":"8a0fed57-b944-481f-af82-ab848df1b928","method":"Tool.close","params":{}}
[D 2023-12-21 16:54:21,991 minium.Conn2304 connection#653 __on_message] RECV < {"id":"8a0fed57-b944-481f-af82-ab848df1b928","result":{}}
[I 2023-12-21 16:54:21,995 minium.Conn2304 connection#697 _handle_async_msg] received async msg: 8a0fed57-b944-481f-af82-ab848df1b928, maybe command ignore response
[E 2023-12-21 16:54:22,031 minium.Conn2304 connection#632 _on_error] Connection to remote host was lost.
[I 2023-12-21 16:54:22,035 minium.Conn2304 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2023-12-21 16:54:23,007 minium basenative#25 wrapper] call IdeNative.stop_wechat
[I 2023-12-21 16:54:23,008 minium basenative#29 wrapper] call IdeNative.stop_wechat end
[I 2023-12-21 16:54:23,008 minium basenative#25 wrapper] call IdeNative.release
[I 2023-12-21 16:54:23,008 minium basenative#25 wrapper] call BaseNative.release
[I 2023-12-21 16:54:23,017 minium basenative#101 release] Native release
[I 2023-12-21 16:54:23,021 minium basenative#25 wrapper] call BaseNative.release_auto_authorize
[I 2023-12-21 16:54:23,027 minium basenative#29 wrapper] call BaseNative.release_auto_authorize end
[I 2023-12-21 16:54:23,029 minium basenative#29 wrapper] call BaseNative.release end
[I 2023-12-21 16:54:23,033 minium basenative#29 wrapper] call IdeNative.release end
[D 2023-12-21 16:58:54,686 minium loader#135 load_from_module] Loading module: test3.search_test
[D 2023-12-21 16:58:54,705 minium loader#139 load_from_module] put module[test3.search_test] into queue
[I 2023-12-21 16:58:54,761 minium loader#298 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test3', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-3', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221165854'}

[D 2023-12-21 16:58:55,962 minium minitest#278 _miniClassSetUp] =====================
[D 2023-12-21 16:58:55,962 minium minitest#279 _miniClassSetUp] Testing class：FirstTest
[D 2023-12-21 16:58:55,966 minium minitest#280 _miniClassSetUp] =====================
[I 2023-12-21 16:58:55,966 minium minitest#173 init_miniprogram] start init miniprogram
[I 2023-12-21 16:58:55,970 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2023-12-21 16:58:55,974 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2023-12-21 16:58:55,977 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2023-12-21 16:58:55,977 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\Users\zhiha\WeChatProjects\miniprogram-3" --auto-port 9420
[I 2023-12-21 16:59:00,397 minium minium_object#101 _do_shell] err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:25532
- preparing
- Fetching AppID (wx02da6f6037f28c99) permissions
√ Using AppID: wx02da6f6037f28c99
√ auto

[I 2023-12-21 16:59:00,401 minium minium_object#102 _do_shell] out:

[I 2023-12-21 16:59:10,404 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[E 2023-12-21 16:59:14,624 minium.Conn6880 connection#632 _on_error] [WinError 10061] No connection could be made because the target machine actively refused it
[I 2023-12-21 16:59:14,656 minium.Conn6880 connection#367 _ws_run_forever] websocket run forever shutdown
[E 2023-12-21 16:59:14,692 minium wx_minium#699 connect_dev_tool] [WinError 10061] No connection could be made because the target machine actively refused it
Traceback (most recent call last):
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\minium\miniprogram\wx_minium.py", line 680, in connect_dev_tool
    self.connection = Connection.create(
                      ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\minium\miniprogram\base_driver\connection.py", line 169, in create
    instance = cls(uri, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\minium\miniprogram\base_driver\connection.py", line 209, in __init__
    self._connect()
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\minium\miniprogram\base_driver\connection.py", line 351, in _connect
    raise error_callback.result
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\websocket\_app.py", line 327, in run_forever
    self.sock.connect(
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\websocket\_core.py", line 244, in connect
    self.sock, addrs = connect(url, self.sock_opt, proxy_info(**options),
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\websocket\_http.py", line 130, in connect
    sock = _open_socket(addrinfo_list, options.sockopt, options.timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\websocket\_http.py", line 205, in _open_socket
    raise err
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\websocket\_http.py", line 185, in _open_socket
    sock.connect(address)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it
[I 2023-12-21 16:59:14,710 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[E 2023-12-21 16:59:18,861 minium.Conn3392 connection#632 _on_error] [WinError 10061] No connection could be made because the target machine actively refused it
[I 2023-12-21 16:59:18,877 minium.Conn3392 connection#367 _ws_run_forever] websocket run forever shutdown
[E 2023-12-21 16:59:18,901 minium wx_minium#699 connect_dev_tool] [WinError 10061] No connection could be made because the target machine actively refused it
Traceback (most recent call last):
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\minium\miniprogram\wx_minium.py", line 680, in connect_dev_tool
    self.connection = Connection.create(
                      ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\minium\miniprogram\base_driver\connection.py", line 169, in create
    instance = cls(uri, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\minium\miniprogram\base_driver\connection.py", line 209, in __init__
    self._connect()
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\minium\miniprogram\base_driver\connection.py", line 351, in _connect
    raise error_callback.result
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\websocket\_app.py", line 327, in run_forever
    self.sock.connect(
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\websocket\_core.py", line 244, in connect
    self.sock, addrs = connect(url, self.sock_opt, proxy_info(**options),
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\websocket\_http.py", line 130, in connect
    sock = _open_socket(addrinfo_list, options.sockopt, options.timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\websocket\_http.py", line 205, in _open_socket
    raise err
  File "C:\Users\zhiha\AppData\Local\Programs\Python\Python311\Lib\site-packages\websocket\_http.py", line 185, in _open_socket
    sock.connect(address)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it
[I 2023-12-21 16:59:18,909 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[D 2023-12-21 16:59:26,093 minium loader#135 load_from_module] Loading module: test3.search_test
[D 2023-12-21 16:59:26,097 minium loader#139 load_from_module] put module[test3.search_test] into queue
[I 2023-12-21 16:59:26,146 minium loader#298 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\test3', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\zhiha\\OneDrive\\Desktop\\auto_minium\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\Users\\zhiha\\WeChatProjects\\miniprogram-3', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20231221165926'}

[D 2023-12-21 16:59:27,173 minium minitest#278 _miniClassSetUp] =====================
[D 2023-12-21 16:59:27,173 minium minitest#279 _miniClassSetUp] Testing class：FirstTest
[D 2023-12-21 16:59:27,177 minium minitest#280 _miniClassSetUp] =====================
[I 2023-12-21 16:59:27,177 minium minitest#173 init_miniprogram] start init miniprogram
[I 2023-12-21 16:59:27,181 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2023-12-21 16:59:27,205 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2023-12-21 16:59:27,214 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2023-12-21 16:59:27,217 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\Users\zhiha\WeChatProjects\miniprogram-3" --auto-port 9420
[I 2023-12-21 16:59:31,556 minium minium_object#101 _do_shell] err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:25532
- preparing
- Fetching AppID (wx02da6f6037f28c99) permissions
√ Using AppID: wx02da6f6037f28c99
√ auto

[I 2023-12-21 16:59:31,560 minium minium_object#102 _do_shell] out:

[I 2023-12-21 16:59:41,568 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2023-12-21 16:59:42,403 minium.Conn7760 connection#342 _connect] connect to WebChatTools successfully
[D 2023-12-21 16:59:42,403 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"2252df72-4c8b-471f-9d3f-7f585a30ec6d","method":"Tool.getInfo","params":{}}
[D 2023-12-21 16:59:44,089 minium.Conn7760 connection#653 __on_message] RECV < {"id":"2252df72-4c8b-471f-9d3f-7f585a30ec6d","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 16:59:44,089 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"6b6d37f2-132f-43de-a4f6-a624722bade5","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 17:00:06,526 minium.Conn7760 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2023-12-21 17:00:06,534 minium.Conn7760 connection#651 __on_message] RECV < {"id":"6b6d37f2-132f-43de-a4f6-a624722bade5","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":19,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[D 2023-12-21 17:00:06,538 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2023-12-21 17:00:06,544 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"8c82a8a2-9edc-4a34-9b3c-3e1b304a1794","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2023-12-21 17:00:06,567 minium.Conn7760 connection#653 __on_message] RECV < {"id":"8c82a8a2-9edc-4a34-9b3c-3e1b304a1794","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2023-12-21 17:00:06,570 minium.Conn7760 connection#283 remove] remove key which is not in observers
[D 2023-12-21 17:00:06,574 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"4b73f2e2-a976-4616-ad82-f46e4e9db757","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2023-12-21 17:00:06,603 minium.Conn7760 connection#653 __on_message] RECV < {"id":"4b73f2e2-a976-4616-ad82-f46e4e9db757","result":{}}
[D 2023-12-21 17:00:06,610 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"e03e0aee-9334-4c2a-a12d-a1b7c8902e6b","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2023-12-21 17:00:07,057 minium.Conn7760 connection#653 __on_message] RECV < {"id":"e03e0aee-9334-4c2a-a12d-a1b7c8902e6b","result":{}}
[D 2023-12-21 17:00:07,057 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2023-12-21 17:00:07,062 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"1c2082ce-334f-4f43-9f38-dea9d9004b56","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2023-12-21 17:00:07,083 minium.Conn7760 connection#653 __on_message] RECV < {"id":"1c2082ce-334f-4f43-9f38-dea9d9004b56","result":{}}
[D 2023-12-21 17:00:07,086 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2023-12-21 17:00:07,090 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"c139c01b-5b10-467f-bd33-0d27a71dfe2f","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2023-12-21 17:00:07,116 minium.Conn7760 connection#653 __on_message] RECV < {"id":"c139c01b-5b10-467f-bd33-0d27a71dfe2f","result":{}}
[D 2023-12-21 17:00:07,118 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2023-12-21 17:00:07,122 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"11e22db1-0a7d-4e61-b789-2d5107a20c7c","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2023-12-21 17:00:07,139 minium.Conn7760 connection#653 __on_message] RECV < {"id":"11e22db1-0a7d-4e61-b789-2d5107a20c7c","result":{"result":true}}
[D 2023-12-21 17:00:07,146 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"4ea53f96-cf14-4ec3-9797-57c39d643211","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2023-12-21 17:00:07,163 minium.Conn7760 connection#651 __on_message] RECV < {"id":"4ea53f96-cf14-4ec3-9797-57c39d643211","result":{"result":{"pages":["pages/home/home","pages/usercenter/index","pages/usercenter/person-info/index","pages/usercenter/address/list/index","pages/usercenter/address/edit/index","pages/goods/list/index","pages/goods/details/index","pages/goods/category/index","pages/goods/search/index","pages/goods/result/index","pages/cart/index","pages/order/order-confirm/index","pages/order/receipt/index","pages/order/pay-result/index","pages/order/order-list/index",...
[D 2023-12-21 17:00:07,167 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"13009305-9a3a-48ac-afd3-a41ae4db522a","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2023-12-21 17:00:07,199 minium.Conn7760 connection#653 __on_message] RECV < {"id":"13009305-9a3a-48ac-afd3-a41ae4db522a","result":{"result":{"miniProgram":{"appId":"wx02da6f6037f28c99","envVersion":"develop","version":""}}}}
[D 2023-12-21 17:00:07,203 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"3ee9c3ad-fb47-4637-b6a2-4a3b9712365b","method":"App.addBinding","params":{"name":"showModal_before_1703196007203"}}
[D 2023-12-21 17:00:07,224 minium.Conn7760 connection#653 __on_message] RECV < {"id":"3ee9c3ad-fb47-4637-b6a2-4a3b9712365b","result":{}}
[D 2023-12-21 17:00:07,230 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"a2439190-fdcd-4f73-a58b-2f78270dd1dc","method":"App.addBinding","params":{"name":"showModal_callback_1703196007203"}}
[D 2023-12-21 17:00:07,257 minium.Conn7760 connection#653 __on_message] RECV < {"id":"a2439190-fdcd-4f73-a58b-2f78270dd1dc","result":{}}
[D 2023-12-21 17:00:07,257 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 17:00:07,267 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"4c8afdde-4927-49f4-97e4-fe3b77becdc7","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1703196007203,after:undefined,callback:showModal_callback_1703196007203},!0):global.__minium__.delCall(_,l)}","args":["showModal",1703196007203,true]}}
[D 2023-12-21 17:00:07,282 minium.Conn7760 connection#653 __on_message] RECV < {"id":"4c8afdde-4927-49f4-97e4-fe3b77becdc7","result":{}}
[D 2023-12-21 17:00:07,286 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"1243f564-ae57-4d0a-9bd0-2978841d4ea1","method":"App.addBinding","params":{"name":"showToast_before_1703196007286"}}
[D 2023-12-21 17:00:07,294 minium.Conn7760 connection#653 __on_message] RECV < {"id":"1243f564-ae57-4d0a-9bd0-2978841d4ea1","result":{}}
[D 2023-12-21 17:00:07,298 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"052d9fa1-c80a-48d1-92f9-b5cf5056ae09","method":"App.addBinding","params":{"name":"showToast_callback_1703196007286"}}
[D 2023-12-21 17:00:07,311 minium.Conn7760 connection#653 __on_message] RECV < {"id":"052d9fa1-c80a-48d1-92f9-b5cf5056ae09","result":{}}
[D 2023-12-21 17:00:07,311 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2023-12-21 17:00:07,317 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"ac59519d-a241-4256-8f0b-7fa5c0738d8a","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1703196007286,after:undefined,callback:showToast_callback_1703196007286},!0):global.__minium__.delCall(_,l)}","args":["showToast",1703196007286,true]}}
[D 2023-12-21 17:00:07,440 minium.Conn7760 connection#653 __on_message] RECV < {"id":"ac59519d-a241-4256-8f0b-7fa5c0738d8a","result":{}}
[D 2023-12-21 17:00:07,444 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"d92d420a-7dc9-42eb-935f-0c53935aa02e","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2023-12-21 17:00:07,465 minium.Conn7760 connection#653 __on_message] RECV < {"id":"d92d420a-7dc9-42eb-935f-0c53935aa02e","result":{"result":{"path":"pages/home/home","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2023-12-21 17:00:07,470 minium app#731 relaunch] ReLaunch: /pages/home/home
[D 2023-12-21 17:00:07,474 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"70c5e47c-5547-4752-8ad0-e7b21091809d","method":"App.getCurrentPage","params":{}}
[D 2023-12-21 17:00:07,485 minium.Conn7760 connection#653 __on_message] RECV < {"id":"70c5e47c-5547-4752-8ad0-e7b21091809d","result":{"pageId":1,"path":"pages/home/home","query":{}}}
[D 2023-12-21 17:00:07,489 minium.Conn7760 connection#417 _safely_send] ASYNC_SEND > {"id":"fe16066b-1701-42f9-bee2-064c55a96581","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 17:00:07,729 minium.Conn7760 connection#653 __on_message] RECV < {"id":"fe16066b-1701-42f9-bee2-064c55a96581","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2023-12-21 17:00:07,733 minium.Conn7760 connection#697 _handle_async_msg] received async msg: fe16066b-1701-42f9-bee2-064c55a96581
[D 2023-12-21 17:00:10,211 minium.Conn7760 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/home/home","query":{},"openType":"reLaunch","__ts__":1703196010100},1703196010101]}}
[I 2023-12-21 17:00:10,216 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/home/home', 'query': {}, 'openType': 'reLaunch', '__ts__': 1703196010100}, 1703196010101]}
[D 2023-12-21 17:00:10,216 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"cdf40d45-41d1-4473-b93e-822e5f5c127f","method":"Tool.getInfo","params":{}}
[D 2023-12-21 17:00:10,233 minium.Conn7760 connection#653 __on_message] RECV < {"id":"cdf40d45-41d1-4473-b93e-822e5f5c127f","result":{"version":"1.06.2308310","SDKVersion":"2.23.1"}}
[D 2023-12-21 17:00:10,242 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"410561db-fd35-431b-a62b-a188b7e3f180","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2023-12-21 17:00:10,425 minium.Conn7760 connection#653 __on_message] RECV < {"id":"410561db-fd35-431b-a62b-a188b7e3f180","result":{"result":false}}
[D 2023-12-21 17:00:10,429 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2023-12-21 17:00:10,429 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"0eccfdcd-6217-45f8-8cfa-6f0469623d96","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2023-12-21 17:00:10,442 minium.Conn7760 connection#653 __on_message] RECV < {"id":"0eccfdcd-6217-45f8-8cfa-6f0469623d96","result":{}}
[D 2023-12-21 17:00:10,446 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"2f0ff8fb-ebda-45c8-a9f6-1507c2cf0dd7","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2023-12-21 17:00:11,205 minium.Conn7760 connection#653 __on_message] RECV < {"id":"2f0ff8fb-ebda-45c8-a9f6-1507c2cf0dd7","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2023-12-21 17:00:11,211 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"ef70a1fa-a128-4780-b669-4be747d561a0","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2023-12-21 17:00:11,226 minium.Conn7760 connection#653 __on_message] RECV < {"id":"ef70a1fa-a128-4780-b669-4be747d561a0","result":{}}
[D 2023-12-21 17:00:11,238 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"1baa27d6-fc37-443e-bfb2-0c52daa51ecc","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2023-12-21 17:00:11,248 minium.Conn7760 connection#653 __on_message] RECV < {"id":"1baa27d6-fc37-443e-bfb2-0c52daa51ecc","result":{"result":{"accountInfo":{"appId":"wx02da6f6037f28c99","nickname":"sandbox account of wxid_yalgzp87d9zt12","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2023-12-21 17:00:11,253 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"9d87715c-06c1-43f4-b474-f0adba699f1b","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2023-12-21 17:00:11,268 minium.Conn7760 connection#651 __on_message] RECV < {"id":"9d87715c-06c1-43f4-b474-f0adba699f1b","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"en","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.23.1","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":19,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphoneAu...
[I 2023-12-21 17:00:11,271 minium minitest#189 init_miniprogram] end init miniprogram
[I 2023-12-21 17:00:11,289 minium minitest#370 _miniSetUp] =========Current case: test_search=========
[I 2023-12-21 17:00:11,293 minium minitest#373 _miniSetUp] package info: C:.Users.zhiha.OneDrive.Desktop.auto_minium.test3.search_test, case info: FirstTest.test_search
[I 2023-12-21 17:00:11,296 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2023-12-21 17:00:11,301 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2023-12-21 17:00:11,306 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2023-12-21 17:00:11,309 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2023-12-21 17:00:11,313 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2023-12-21 17:00:11,324 minium.Conn7760 connection#417 _safely_send] ASYNC_SEND > {"id":"225f5c13-0041-4f99-bec7-662426b1f40e","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/home"}]}}
[D 2023-12-21 17:00:11,436 minium.Conn7760 connection#653 __on_message] RECV < {"id":"225f5c13-0041-4f99-bec7-662426b1f40e","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2023-12-21 17:00:11,440 minium.Conn7760 connection#697 _handle_async_msg] received async msg: 225f5c13-0041-4f99-bec7-662426b1f40e
[I 2023-12-21 17:00:11,447 minium minitest#717 capture] capture setup.png
[I 2023-12-21 17:00:11,450 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 17:00:11,452 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"9ed19f18-8872-40b5-b1c9-8f84838b09a6","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 17:00:11,709 minium.Conn7760 connection#651 __on_message] RECV < {"id":"9ed19f18-8872-40b5-b1c9-8f84838b09a6","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 17:00:11,716 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 17:00:11,719 minium minitest#424 _miniSetUp] =========case: test_search start=========
[I 2023-12-21 17:00:11,721 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 17:00:11,724 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"6cc64ead-4542-4a3d-a607-894a8f42a914","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":2}}
[D 2023-12-21 17:00:12,017 minium.Conn7760 connection#653 __on_message] RECV < {"id":"6cc64ead-4542-4a3d-a607-894a8f42a914","result":{"elements":[{"elementId":"354cd390-6735-44e5-b006-fd43289c62b1","tagName":"input"}]}}
[I 2023-12-21 17:00:12,022 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000014E3E46E250>]
[I 2023-12-21 17:00:12,351 minium minitest#717 capture] capture assertTrue-success.png
[I 2023-12-21 17:00:12,351 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 17:00:12,357 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"3a314222-ae4c-4936-a93c-b346a92646e5","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 17:00:12,650 minium.Conn7760 connection#651 __on_message] RECV < {"id":"3a314222-ae4c-4936-a93c-b346a92646e5","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 17:00:12,657 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 17:00:12,657 minium page#557 _get_elements_by_css] try to get elements: input[placeholder='iphone 13 火热发售中']
[D 2023-12-21 17:00:12,665 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"cf912d14-181c-43cc-ac31-64963e904608","method":"Page.getElements","params":{"selector":"input[placeholder='iphone 13 \u706b\u70ed\u53d1\u552e\u4e2d']","pageId":2}}
[D 2023-12-21 17:00:13,185 minium.Conn7760 connection#653 __on_message] RECV < {"id":"cf912d14-181c-43cc-ac31-64963e904608","result":{"elements":[{"elementId":"354cd390-6735-44e5-b006-fd43289c62b1","tagName":"input"}]}}
[I 2023-12-21 17:00:13,190 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000014E3E47D3D0>]
[D 2023-12-21 17:00:13,192 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"f72a3860-68b5-4b7a-b44d-6177af57cc7a","method":"Element.tap","params":{"elementId":"354cd390-6735-44e5-b006-fd43289c62b1","pageId":2}}
[D 2023-12-21 17:00:13,353 minium.Conn7760 connection#653 __on_message] RECV < {"id":"f72a3860-68b5-4b7a-b44d-6177af57cc7a","result":{}}
[D 2023-12-21 17:00:15,413 minium.Conn7760 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/goods/search/index","query":{},"openType":"navigateTo","__ts__":1703196015380},1703196015381]}}
[I 2023-12-21 17:00:15,417 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/goods/search/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1703196015380}, 1703196015381]}
[D 2023-12-21 17:00:18,356 minium page#321 wait_for] waitFor: 5.000669479370117 s
[I 2023-12-21 17:00:18,359 minium page#557 _get_elements_by_css] try to get elements: view[data-index='1']
[D 2023-12-21 17:00:18,359 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"31637b27-83d4-4bee-99be-8e0fe7c89f3a","method":"Page.getElements","params":{"selector":"view[data-index='1']","pageId":4}}
[D 2023-12-21 17:00:18,411 minium.Conn7760 connection#653 __on_message] RECV < {"id":"31637b27-83d4-4bee-99be-8e0fe7c89f3a","result":{"elements":[{"elementId":"90baa296-b45e-4993-9ba8-749b179dcb89","tagName":"view"},{"elementId":"377c4d66-3f67-4982-a5b6-2bd53a92e945","tagName":"view"}]}}
[I 2023-12-21 17:00:18,419 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000014E3E432F90>]
[I 2023-12-21 17:00:18,448 minium minitest#717 capture] capture assertTrue-success_170018448858.png
[I 2023-12-21 17:00:18,455 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 17:00:18,456 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"07946c72-66f2-4e18-9b48-9f3c3767dfd3","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 17:00:18,705 minium.Conn7760 connection#651 __on_message] RECV < {"id":"07946c72-66f2-4e18-9b48-9f3c3767dfd3","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 17:00:18,710 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 17:00:18,711 minium page#557 _get_elements_by_css] try to get elements: view[data-index='1']
[D 2023-12-21 17:00:18,806 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"691f417d-d167-46b5-a208-cdfc7ddcaf83","method":"Page.getElements","params":{"selector":"view[data-index='1']","pageId":4}}
[D 2023-12-21 17:00:18,903 minium.Conn7760 connection#653 __on_message] RECV < {"id":"691f417d-d167-46b5-a208-cdfc7ddcaf83","result":{"elements":[{"elementId":"90baa296-b45e-4993-9ba8-749b179dcb89","tagName":"view"},{"elementId":"377c4d66-3f67-4982-a5b6-2bd53a92e945","tagName":"view"}]}}
[I 2023-12-21 17:00:18,907 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000014E3E47C250>]
[D 2023-12-21 17:00:18,907 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"a10288ce-0db5-4da0-885f-98983d222ffb","method":"Element.tap","params":{"elementId":"90baa296-b45e-4993-9ba8-749b179dcb89","pageId":4}}
[D 2023-12-21 17:00:19,101 minium.Conn7760 connection#653 __on_message] RECV < {"id":"a10288ce-0db5-4da0-885f-98983d222ffb","result":{}}
[D 2023-12-21 17:00:20,173 minium.Conn7760 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":5,"path":"pages/goods/result/index","query":{"searchValue":"%E7%94%B5%E8%84%91"},"openType":"navigateTo","__ts__":1703196020120},1703196020120]}}
[I 2023-12-21 17:00:20,181 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 5, 'path': 'pages/goods/result/index', 'query': {'searchValue': '%E7%94%B5%E8%84%91'}, 'openType': 'navigateTo', '__ts__': 1703196020120}, 1703196020120]}
[D 2023-12-21 17:00:24,107 minium page#321 wait_for] waitFor: 5.001551389694214 s
[I 2023-12-21 17:00:24,108 minium page#557 _get_elements_by_css] try to get elements: view['.goods-card__body']
[D 2023-12-21 17:00:24,110 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"9e812f03-825b-4b74-8b8f-7969050ba448","method":"Page.getElements","params":{"selector":"view['.goods-card__body']","pageId":5}}
[D 2023-12-21 17:00:24,173 minium.Conn7760 connection#651 __on_message] RECV < {"id":"9e812f03-825b-4b74-8b8f-7969050ba448","result":{"elements":[{"elementId":"a2f7385d-2a9a-409a-9a4c-a5989ef8a52d","tagName":"view"},{"elementId":"0922f897-8319-4466-a8ae-63146698fa34","tagName":"view"},{"elementId":"bddcd7eb-3b3c-42ef-8a53-0da8f8d93907","tagName":"view"},{"elementId":"b6276e0c-2dcf-40a9-a9cc-9509b60e4352","tagName":"view"},{"elementId":"3e4fd55b-2db2-4a87-90c3-f1419d361272","tagName":"view"},{"elementId":"226b8424-2e7d-4018-805a-86e1e6ca4bfb","tagName":"view"},{"elementId":"f257e125...
[I 2023-12-21 17:00:24,179 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000014E3E466D10>]
[I 2023-12-21 17:00:24,190 minium minitest#717 capture] capture assertTrue-success_170024190141.png
[I 2023-12-21 17:00:24,192 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 17:00:24,194 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"790766dc-40e0-41a3-9289-efddcaada911","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 17:00:24,713 minium.Conn7760 connection#651 __on_message] RECV < {"id":"790766dc-40e0-41a3-9289-efddcaada911","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 17:00:24,731 minium basenative#29 wrapper] call IdeNative.screen_shot end
[D 2023-12-21 17:00:24,739 minium minitest#620 _miniTearDown] =========Current case Down: test_search=========
[I 2023-12-21 17:00:24,743 minium minitest#717 capture] capture teardown.png
[I 2023-12-21 17:00:24,755 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2023-12-21 17:00:24,768 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"7f785c22-5fec-4111-8fca-bf555a0adc3f","method":"App.captureScreenshot","params":{}}
[D 2023-12-21 17:00:25,309 minium.Conn7760 connection#651 __on_message] RECV < {"id":"7f785c22-5fec-4111-8fca-bf555a0adc3f","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAoAAAAPwCAIAAAAu+lgBAAABJ2lDQ1BTa2lhAAAokX3Ru0rDUBzH8a9VBEXBooODSAYHHbwF7QVcbFqqi0Or0NYpTdOg9hLSiD6ED+HmG/gCLm4KQicfQhyc/cUiKUj8H845H/78T3IukFpGkVqAbi8MKuWCUas3DMbCdgY+yTEBX8NohLfNf+qSYqblDhzNH+phoJ/rky15yRv5NnJz5LvIwWnFku/ldW/MzTHfhH4oP0f1jh9EfpcPup1rJ943c27vrKq5pr5Cmb6aRweXbapccYEtZdinpNFkT62ERZa8cqack4uyJRfYlbJynkPVW+o5ivF9Di4hl4bJYZxrrMHji7YyHec2jiC9Ck8nvh3YP6mp6JHabfh8gPk6LL7C7PnvJcZr47dIOKvx56wGx/Rw2JJMdnSKzDeXxk...
[I 2023-12-21 17:00:25,313 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2023-12-21 17:00:25,317 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2023-12-21 17:00:25,317 minium basenative#29 wrapper] call BaseNative.get_start_up end
[I 2023-12-21 17:00:35,386 minium.SESSION session#67 run] case queue is empty, test complete, release None
[D 2023-12-21 17:00:35,391 minium.Conn7760 connection#417 _safely_send] ASYNC_SEND > {"id":"1486a537-2ff1-440f-9aa5-cd8761bb5067","method":"Tool.close","params":{}}
[D 2023-12-21 17:00:35,394 minium.Conn7760 connection#653 __on_message] RECV < {"id":"1486a537-2ff1-440f-9aa5-cd8761bb5067","result":{}}
[I 2023-12-21 17:00:35,394 minium.Conn7760 connection#697 _handle_async_msg] received async msg: 1486a537-2ff1-440f-9aa5-cd8761bb5067, maybe command ignore response
[E 2023-12-21 17:00:35,432 minium.Conn7760 connection#632 _on_error] Connection to remote host was lost.
[I 2023-12-21 17:00:35,435 minium.Conn7760 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2023-12-21 17:00:36,393 minium basenative#25 wrapper] call IdeNative.stop_wechat
[I 2023-12-21 17:00:36,393 minium basenative#29 wrapper] call IdeNative.stop_wechat end
[I 2023-12-21 17:00:36,393 minium basenative#25 wrapper] call IdeNative.release
[I 2023-12-21 17:00:36,397 minium basenative#25 wrapper] call BaseNative.release
[I 2023-12-21 17:00:36,397 minium basenative#101 release] Native release
[I 2023-12-21 17:00:36,401 minium basenative#25 wrapper] call BaseNative.release_auto_authorize
[I 2023-12-21 17:00:36,401 minium basenative#29 wrapper] call BaseNative.release_auto_authorize end
[I 2023-12-21 17:00:36,410 minium basenative#29 wrapper] call BaseNative.release end
[I 2023-12-21 17:00:36,415 minium basenative#29 wrapper] call IdeNative.release end
